(window.webpackJsonp=window.webpackJsonp||[]).push([[1180],{1043:function(e,t,n){"use strict";var o=n(1),r=n(21),l=n(24),c=n(55),d=n(39),h=n(17),f=function(){},y=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(o.a)(t,e),t.prototype.getDefaultShape=function(){return new f},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(path,e){var i,t=e.points,n=e.size,o=this.symbolProxy,r=o.shape,l=path.getContext?path.getContext():path,c=l&&n[0]<4,d=this.softClipShape;if(c)this._ctx=l;else{for(this._ctx=null,i=this._off;i<t.length;){var h=t[i++],f=t[i++];isNaN(h)||isNaN(f)||(d&&!d.contain(h,f)||(r.x=h-n[0]/2,r.y=f-n[1]/2,r.width=n[0],r.height=n[1],o.buildPath(path,r,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},t.prototype.afterBrush=function(){var i,e=this.shape,t=e.points,n=e.size,o=this._ctx,r=this.softClipShape;if(o){for(i=this._off;i<t.length;){var l=t[i++],c=t[i++];isNaN(l)||isNaN(c)||(r&&!r.contain(l,c)||o.fillRect(l-n[0]/2,c-n[1]/2,n[0],n[1]))}this.incremental&&(this._off=i,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,o=n.points,r=n.size,l=Math.max(r[0],4),c=Math.max(r[1],4),d=o.length/2-1;d>=0;d--){var i=2*d,h=o[i]-l/2,f=o[i+1]-c/2;if(e>=h&&t>=f&&e<=h+l&&t<=f+c)return d}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),rect=this.getBoundingRect();return e=n[0],t=n[1],rect.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var rect=this._rect;if(!rect){for(var e=this.shape,t=e.points,n=e.size,o=n[0],l=n[1],c=1/0,d=1/0,h=-1/0,f=-1/0,i=0;i<t.length;){var y=t[i++],m=t[i++];c=Math.min(y,c),h=Math.max(y,h),d=Math.min(m,d),f=Math.max(m,f)}rect=this._rect=new r.a(c-o/2,d-l/2,h-c+o,f-d+l)}return rect},t}(l.b),m=function(){function e(){this.group=new c.a}return e.prototype.updateData=function(data,e){this._clear();var t=this._create();t.setShape({points:data.getLayout("points")}),this._setCommon(t,data,e)},e.prototype.updateLayout=function(data){var e=data.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),o=4*t.startIndex*2;e=new Float32Array(e.buffer,o,n)}t.setShape("points",e),t.reset()}))},e.prototype.incrementalPrepareUpdate=function(data){this._clear()},e.prototype.incrementalUpdate=function(e,data,t){var n=this._newAdded[0],o=data.getLayout("points"),r=n&&n.shape.points;if(r&&r.length<2e4){var l=r.length,c=new Float32Array(l+o.length);c.set(r),c.set(o,l),n.endIndex=e.end,n.setShape({points:c})}else{this._newAdded=[];var d=this._create();d.startIndex=e.start,d.endIndex=e.end,d.incremental=!0,d.setShape({points:o}),this._setCommon(d,data,t)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new y({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,data,t){var n=data.hostModel;t=t||{};var o=data.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=t.clipShape||null,e.symbolProxy=Object(d.a)(data.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var r=e.shape.size[0]<4;e.useStyle(n.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var l=data.getVisual("style"),c=l&&l.fill;c&&e.setColor(c);var f=Object(h.a)(e);f.seriesIndex=n.seriesIndex,e.on("mousemove",(function(t){f.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(f.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();t.a=m},1051:function(e,t,n){"use strict";var o=n(1),r=n(39),l=n(55),c=n(8),d=n(261);function h(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var f=function(e){function t(data,t){var n=e.call(this)||this,symbol=new d.a(data,t),o=new l.a;return n.add(symbol),n.add(o),n.updateData(data,t),n}return Object(o.a)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,o=e.rippleNumber,l=this.childAt(1),i=0;i<o;i++){var c=Object(r.a)(t,-1,-1,2,2,n);c.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var d=-i/o*e.period+e.effectOffset;c.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(d).start(),c.animateStyle(!0).when(e.period,{opacity:0}).delay(d).start(),l.add(c)}h(l,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],i=0;i<o.length;i++){var r=o[i];if(t[r]!==e[r])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}h(n,e)},t.prototype.highlight=function(){Object(c.r)(this)},t.prototype.downplay=function(){Object(c.C)(this)},t.prototype.getSymbolType=function(){var symbol=this.childAt(0);return symbol&&symbol.getSymbolType()},t.prototype.updateData=function(data,e){var t=this,n=data.hostModel;this.childAt(0).updateData(data,e);var o=this.childAt(1),l=data.getItemModel(e),d=data.getItemVisual(e,"symbol"),h=Object(r.c)(data.getItemVisual(e,"symbolSize")),f=data.getItemVisual(e,"style"),y=f&&f.fill,m=l.getModel("emphasis");o.setScale(h),o.traverse((function(e){e.setStyle("fill",y)}));var v=Object(r.b)(data.getItemVisual(e,"symbolOffset"),h);v&&(o.x=v[0],o.y=v[1]);var _=data.getItemVisual(e,"symbolRotate");o.rotation=(_||0)*Math.PI/180||0;var S={};S.showEffectOn=n.get("showEffectOn"),S.rippleScale=l.get(["rippleEffect","scale"]),S.brushType=l.get(["rippleEffect","brushType"]),S.period=1e3*l// Removed for static mirror||0,S.zlevel=n.getShallow("zlevel")||0,S.symbolType=d,S.color=y,S.rippleEffectColor=l.get(["rippleEffect","color"]),S.rippleNumber=l.get(["rippleEffect","number"]),"render"===S.showEffectOn?(this._effectCfg?this.updateEffectAnimation(S):this.startEffectAnimation(S),this._effectCfg=S):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==S.showEffectOn&&t.startEffectAnimation(S):"normal"===e&&"render"!==S.showEffectOn&&t.stopEffectAnimation()}),this._effectCfg=S,Object(c.J)(this,m.get("focus"),m.get("blurScope"),m.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(l.a);t.a=f},1052:function(e,t,n){"use strict";var o=n(1),r=n(21),l=n(24),c=n(55),d=n(220),h=n(509),f=n(17),y=function(){this.polyline=!1,this.curveness=0,this.segs=[]},m=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(o.a)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new y},t.prototype.buildPath=function(e,t){var i,n=t.segs,o=t.curveness;if(t.polyline)for(i=this._off;i<n.length;){var r=n[i++];if(r>0){e.moveTo(n[i++],n[i++]);for(var l=1;l<r;l++)e.lineTo(n[i++],n[i++])}}else for(i=this._off;i<n.length;){var c=n[i++],d=n[i++],h=n[i++],f=n[i++];if(e.moveTo(c,d),o>0){var y=(c+h)/2-(d-f)*o,m=(d+f)/2-(h-c)*o;e.quadraticCurveTo(y,m,h,f)}else e.lineTo(h,f)}this.incremental&&(this._off=i,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,o=n.segs,r=n.curveness,l=this.style.lineWidth;if(n.polyline)for(var c=0,i=0;i<o.length;){var f=o[i++];if(f>0)for(var y=o[i++],m=o[i++],v=1;v<f;v++){var _=o[i++],S=o[i++];if(d.a(y,m,_,S,l,e,t))return c}c++}else for(c=0,i=0;i<o.length;){y=o[i++],m=o[i++],_=o[i++],S=o[i++];if(r>0){var x=(y+_)/2-(m-S)*r,I=(m+S)/2-(_-y)*r;if(h.a(y,m,x,I,_,S,l,e,t))return c}else if(d.a(y,m,_,S,l,e,t))return c;c++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),rect=this.getBoundingRect();return e=n[0],t=n[1],rect.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var rect=this._rect;if(!rect){for(var e=this.shape.segs,t=1/0,n=1/0,o=-1/0,l=-1/0,i=0;i<e.length;){var c=e[i++],d=e[i++];t=Math.min(c,t),o=Math.max(c,o),n=Math.min(d,n),l=Math.max(d,l)}rect=this._rect=new r.a(t,n,o,l)}return rect},t}(l.b),v=function(){function e(){this.group=new c.a}return e.prototype.updateData=function(data){this._clear();var e=this._create();e.setShape({segs:data.getLayout("linesPoints")}),this._setCommon(e,data)},e.prototype.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,data){var t=this._newAdded[0],n=data.getLayout("linesPoints"),o=t&&t.shape.segs;if(o&&o.length<2e4){var r=o.length,l=new Float32Array(r+n.length);l.set(o),l.set(n,r),t.setShape({segs:l})}else{this._newAdded=[];var c=this._create();c.incremental=!0,c.setShape({segs:n}),this._setCommon(c,data),c.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new m({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,data,t){var n=data.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var style=data.getVisual("style");style&&style.stroke&&e.setStyle("stroke",style.stroke),e.setStyle("fill",null);var o=Object(f.a)(e);o.seriesIndex=n.seriesIndex,e.on("mousemove",(function(t){o.dataIndex=null;var n=e.hoverDataIdx;n>0&&(o.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();t.a=v},1053:function(e,t,n){"use strict";var o=n(1),r=n(526),l=n(527),c=n(11),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return Object(o.a)(t,e),t.prototype.createLine=function(e,t,n){return new r.a(e,t,n)},t.prototype._updateAnimationPoints=function(symbol,e){this._points=e;for(var t=[0],n=0,i=1;i<e.length;i++){var o=e[i-1],r=e[i];n+=c.dist(o,r),t.push(n)}if(0!==n){for(i=0;i<t.length;i++)t[i]/=n;this._offsets=t,this._length=n}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(symbol){var e=symbol.__t<1?symbol.__t:2-symbol.__t,t=this._points,n=this._offsets,o=t.length;if(n){var r,l=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(l+1,o-1);r>=0&&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(r=l;r<o&&!(n[r]>e);r++);r=Math.min(r-1,o-2)}var p=(e-n[r])/(n[r+1]-n[r]),c=t[r],d=t[r+1];symbol.x=c[0]*(1-p)+p*d[0],symbol.y=c[1]*(1-p)+p*d[1];var h=symbol.__t<1?d[0]-c[0]:c[0]-d[0],f=symbol.__t<1?d[1]-c[1]:c[1]-d[1];symbol.rotation=-Math.atan2(f,h)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,symbol.ignore=!1}},t}(l.a);t.a=d},123:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d}));var o=n(0);function r(e,t,n){if(e&&o.indexOf(t,e.type)>=0){var r=n.getData().tree.root,l=e.targetNode;if(o.isString(l)&&(l=r.getNodeById(l)),l&&r.contains(l))return{node:l};var c=e.targetNodeId;if(null!=c&&(l=r.getNodeById(c)))return{node:l}}}function l(e){for(var path=[];e;)(e=e.parentNode)&&path.push(e);return path.reverse()}function c(e,t){var n=l(e);return o.indexOf(n,t)>=0}function d(e,t){for(var n=[];e;){var o=e.dataIndex;n.push({name:e.name,dataIndex:o,value:t.getRawValue(o)}),e=e.parentNode}return n.reverse(),n}},127:function(e,t,n){"use strict";var o=n(0),r=n(84),l=n(193),c=n(260),d=n(5),h=n(214),f=n(1039),y=n(122),m=n(115),v=n(120),_=n(18);t.a=function(e,t,n){n=n||{};var source,S=t.getSourceManager(),x=!1;e?(x=!0,source=Object(y.c)(e)):x=(source=S.getSource()).sourceFormat===_.f;var I=Object(f.a)(t),A=function(e,t){var n,r=e.get("coordinateSystem"),l=h.a.get(r);return t&&t.coordSysDims&&(n=o.map(t.coordSysDims,(function(e){var n={name:e},o=t.axisMap.get(e);if(o){var r=o.get("type");n.type=Object(c.a)(r)}return n}))),n||(n=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]),n}(t,I),O=n.useEncodeDefaulter,w=o.isFunction(O)?O:O?o.curry(v.c,A,t):null,M={coordDimensions:A,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:w,canOmitUnusedDimensions:!x},L=Object(l.b)(source,M),D=function(e,t,n){var r,l;return n&&o.each(e,(function(e,o){var c=e.coordDim,d=n.categoryAxisMap.get(c);d&&(null==r&&(r=o),e.ordinalMeta=d.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(l=!0)})),l||null==r||(e[r].otherDims.itemName=0),r}(L.dimensions,n.createInvertedIndices,I),j=x?null:S.getSharedDataStore(L),C=Object(m.a)(t,{schema:L,store:j}),data=new r.a(L,t);data.setCalculationInfo(C);var N=null!=D&&function(source){if(source.sourceFormat===_.f){var e=function(e){var i=0;for(;i<e.length&&null==e[i];)i++;return e[i]}(source.data||[]);return!o.isArray(Object(d.h)(e))}}(source)?function(e,t,n,o){return o===D?n:this.defaultDimValueGetter(e,t,n,o)}:null;return data.hasItemOption=!1,data.initData(x?source:j,null,N),data}},182:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return y}));var o=n(96),r=n(42),l=n(270),c=n(4),d=n(0);function h(e,t,n,l,c){var rect=e.getArea(),h=rect.x,f=rect.y,y=rect.width,m=rect.height,v=n.get(["lineStyle","width"])||2;h-=v/2,f-=v/2,y+=v,m+=v,y=Math.ceil(y),h!==Math.floor(h)&&(h=Math.floor(h),y++);var _=new o.a({shape:{x:h,y:f,width:y,height:m}});if(t){var S=e.getBaseAxis(),x=S.isHorizontal(),I=S.inverse;x?(I&&(_.shape.x+=y),_.shape.width=0):(I||(_.shape.y+=m),_.shape.height=0);var A=Object(d.isFunction)(c)?function(e){c(e,_)}:null;r.c(_,{shape:{width:y,height:m,x:h,y:f}},n,null,l,A)}return _}function f(e,t,n){var o=e.getArea(),d=Object(c.w)(o.r0,1),h=Object(c.w)(o.r,1),f=new l.a({shape:{cx:Object(c.w)(e.cx,1),cy:Object(c.w)(e.cy,1),r0:d,r:h,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});t&&("angle"===e.getBaseAxis().dim?f.shape.endAngle=o.startAngle:f.shape.r=d,r.c(f,{shape:{endAngle:o.endAngle,r:h}},n));return f}function y(e,t,n,o,r){return e?"polar"===e.type?f(e,t,n):"cartesian2d"===e.type?h(e,t,n,o,r):null:null}},184:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var o=n(142),r=n(0);function l(data,e){var t=data.mapDimensionsAll("defaultedLabel"),n=t.length;if(1===n){var r=Object(o.e)(data,e,t[0]);return null!=r?r+"":null}if(n){for(var l=[],i=0;i<t.length;i++)l.push(Object(o.e)(data,e,t[i]));return l.join(" ")}}function c(data,e){var t=data.mapDimensionsAll("defaultedLabel");if(!Object(r.isArray)(e))return e+"";for(var n=[],i=0;i<t.length;i++){var o=data.getDimensionIndex(t[i]);o>=0&&n.push(e[o])}return n.join(" ")}},1889:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var o=n(0);function r(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),data=e.getGraph().data,r=n.mapArray(n.getName);data.filterSelf((function(e){var n=data.getItemModel(e).getShallow("category");if(null!=n){Object(o.isNumber)(n)&&(n=r[n]);for(var i=0;i<t.length;i++)if(!t[i].isSelected(n))return!1}return!0}))}))}function l(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),data=e.getData(),r={};n.each((function(o){var l=n.getName(o);r["ec-"+l]=o;var c=n.getItemModel(o),style=c.getModel("itemStyle").getItemStyle();style.fill||(style.fill=e.getColorFromPalette(l,t)),n.setItemVisual(o,"style",style);for(var d=["symbol","symbolSize","symbolKeepAspect"],i=0;i<d.length;i++){var h=c.getShallow(d[i],!0);null!=h&&n.setItemVisual(o,d[i],h)}})),n.count()&&data.each((function(e){var t=data.getItemModel(e).getShallow("category");if(null!=t){Object(o.isString)(t)&&(t=r["ec-"+t]);var l=n.getItemVisual(t,"style"),style=data.ensureUniqueItemVisual(e,"style");Object(o.extend)(style,l);for(var c=["symbol","symbolSize","symbolKeepAspect"],i=0;i<c.length;i++)data.setItemVisual(e,c[i],n.getItemVisual(t,c[i]))}}))}))}function c(a){return a instanceof Array||(a=[a,a]),a}function d(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=c(e.get("edgeSymbol")),l=c(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",l&&l[0]),n.setVisual("toSymbolSize",l&&l[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),l=t.getEdgeByIndex(e),d=c(r.getShallow("symbol",!0)),h=c(r.getShallow("symbolSize",!0)),style=r.getModel("lineStyle").getLineStyle(),f=n.ensureUniqueItemVisual(e,"style");switch(Object(o.extend)(f,style),f.stroke){case"source":var y=l.node1.getVisual("style");f.stroke=y&&y.fill;break;case"target":y=l.node2.getVisual("style");f.stroke=y&&y.fill}d[0]&&l.setVisual("fromSymbol",d[0]),d[1]&&l.setVisual("toSymbol",d[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])}))}))}var h=n(11),f="--\x3e",y=function(e){return e// Removed for static mirror,o=[t.id,t.dataIndex].join(".");return[n.uid,source,o].join(f)},_=function(e){var t=e.split(f);return[t[0],t[2],t[1]].join(f)},S=function(e,t){var n=v(e.node1,e.node2,t);return t.__edgeMap[n]},x=function(e,t){return I(v(e.node1,e.node2,t),t)+I(v(e.node2,e.node1,t),t)},I=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function A(e,t,n,r){var l=y(t),c=o.isArray(l);if(!l)return null;var d=S(e,t);if(!d)return null;for(var h=-1,i=0;i<d.length;i++)if(d[i]===n){h=i;break}var f=x(e,t);m(t,f),e.lineStyle=e.lineStyle||{};var A=v(e.node1,e.node2,t),O=t.__curvenessList,w=c||f%2?0:1;if(d.isForward)return O[w+h];var M=_(A),L=I(M,t),D=O[h+L+w];return r?c?l&&0===l[0]?(L+w)%2?D:-D:((L%2?0:1)+w)%2?D:-D:(L+w)%2?D:-D:O[h+L+w]}function O(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),w(n,e)}}function w(e,t){e.eachEdge((function(e,n){var r=o.retrieve3(e.getModel().get(["lineStyle","curveness"]),-A(e,t,n,!0),0),l=h.clone(e.node1.getLayout()),c=h.clone(e.node2.getLayout()),d=[l,c];+r&&d.push([(l[0]+c[0])/2-(l[1]-c[1])*r,(l[1]+c[1])/2-(c[0]-l[0])*r]),e.setLayout(d)}))}function M(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var r=e.getData(),l=[];Object(o.each)(n.dimensions,(function(e){l=l.concat(r.mapDimensionsAll(e))}));for(var c=0;c<r.count();c++){for(var d=[],h=!1,i=0;i<l.length;i++){var f=r.get(l[i],c);isNaN(f)||(h=!0),d.push(f)}h?r.setItemLayout(c,n.dataToPoint(d)):r.setItemLayout(c,[NaN,NaN])}w(r.graph,e)}else t&&"none"!==t||O(e)}))}function L(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,o=t.scaleX;return((t.getZoom()-1)*n+1)/o}function D(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var j=Math.PI,C=[];function N(e,t,n,r){var l=e.coordinateSystem;if(!l||"view"===l.type){var rect=l.getBoundingRect(),c=e.getData(),d=c.graph,f=rect.width/2+rect.x,y=rect.height/2+rect.y,m=Math.min(rect.width,rect.height)/2,v=c.count();if(c.setLayout({cx:f,cy:y}),v){if(n){var _=l.pointToData(r),S=_[0],x=_[1],I=[S-f,x-y];h.normalize(I,I),h.scale(I,I,m),n.setLayout([f+I[0],y+I[1]],!0),E(n,e.get(["circular","rotateLabel"]),f,y)}z[t](e,d,c,m,f,y,v),d.eachEdge((function(t,n){var r,l=o.retrieve3(t.getModel().get(["lineStyle","curveness"]),A(t,e,n),0),c=h.clone(t.node1.getLayout()),d=h.clone(t.node2.getLayout()),m=(c[0]+d[0])/2,v=(c[1]+d[1])/2;+l&&(r=[f*(l*=3)+m*(1-l),y*l+v*(1-l)]),t.setLayout([c,d,r])}))}}}var z={value:function(e,t,n,o,r,l,c){var d=0,h=n.getSum("value"),f=2*Math.PI/(h||c);t.eachNode((function(e){var t=e.getValue("value"),n=f*(h?t:1)/2;d+=n,e.setLayout([o*Math.cos(d)+r,o*Math.sin(d)+l]),d+=n}))},symbolSize:function(e,t,n,o,r,l,c){var d=0;C.length=c;var h=L(e);t.eachNode((function(e){var t=D(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=h;var n=Math.asin(t/2/o);isNaN(n)&&(n=j/2),C[e.dataIndex]=n,d+=2*n}));var f=(2*j-d)/c/2,y=0;t.eachNode((function(e){var t=f+C[e.dataIndex];y+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([o*Math.cos(y)+r,o*Math.sin(y)+l]),y+=t}))}};function E(e,t,n,r){var l=e.getGraphicEl();if(l){var c=e.getModel().get(["label","rotate"])||0,d=l.getSymbolPath();if(t){var h=e.getLayout(),f=Math.atan2(h[1]-r,h[0]-n);f<0&&(f=2*Math.PI+f);var y=h[0]<n;y&&(f-=Math.PI);var m=y?"left":"right";d.setTextConfig({rotation:-f,position:m,origin:"center"});var v=d.ensureState("emphasis");o.extend(v.textConfig||(v.textConfig={}),{position:m})}else d.setTextConfig({rotation:c*=Math.PI/180})}}function T(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&N(e,"symbolSize")}))}var P=h.scaleAndAdd;var V=n(4);function R(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e// Removed for static mirror,f=d.get("initLayout");e.preservedPoints?l.each((function(e){var t=l.getId(e);l.setItemLayout(e,n[t]||[NaN,NaN])})):f&&"none"!==f?"circular"===f&&N(e,"value"):O(e);var y=l.getDataExtent("value"),m=c.getDataExtent("value"),v=d.get("repulsion"),_=d.get("edgeLength"),S=o.isArray(v)?v:[v,v],x=o.isArray(_)?_:[_,_];x=[x[1],x[0]];var I=l.mapArray("value",(function(e,t){var n=l.getItemLayout(t),o=Object(V.m)(e,y,S);return isNaN(o)&&(o=(S[0]+S[1])/2),{w:o,rep:o,fixed:l.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),w=c.mapArray("value",(function(t,n){var l=r.getEdgeByIndex(n),c=Object(V.m)(t,m,x);isNaN(c)&&(c=(x[0]+x[1])/2);var d=l.getModel(),h=o.retrieve3(l.getModel()// Removed for static mirror}})),rect=t.getBoundingRect(),M=function(e,t,n){for(var o=e,r=t,rect=n.rect,l=rect.width,c=rect.height,d=[rect.x+l/2,rect.y+c/2],f=null==n.gravity?.1:n.gravity,i=0;i<o.length;i++){var y=o[i];y.p||(y.p=h.create(l*(Math.random()-.5)+d[0],c*(Math.random()-.5)+d[1])),y.pp=h.clone(y.p),y.edges=null}var m,v,_=null==n.friction?.6:n.friction,S=_;return{warmUp:function(){S=.8*_},setFixed:function(e){o[e].fixed=!0},setUnfixed:function(e){o[e].fixed=!1},beforeStep:function(e){m=e},afterStep:function(e){v=e},step:function(e){m&&m(o,r);for(var t=[],n=o.length,i=0;i<r.length;i++){var l=r[i];if(!l.ignoreForceLayout){var c=l.n1,y=l.n2;h.sub(t,y.p,c.p);var _=h.len(t)-l.d,x=y.w/(c.w+y.w);isNaN(x)&&(x=0),h.normalize(t,t),!c.fixed&&P(c.p,c.p,t,x*_*S),!y.fixed&&P(y.p,y.p,t,-(1-x)*_*S)}}for(i=0;i<n;i++)(w=o[i]).fixed||(h.sub(t,d,w.p),P(w.p,w.p,t,f*S));for(i=0;i<n;i++){c=o[i];for(var I=i+1;I<n;I++){y=o[I],h.sub(t,y.p,c.p),0===(_=h.len(t))&&(h.set(t,Math.random()-.5,Math.random()-.5),_=1);var A=(c.rep+y.rep)/_/_;!c.fixed&&P(c.pp,c.pp,t,A),!y.fixed&&P(y.pp,y.pp,t,-A)}}var O=[];for(i=0;i<n;i++){var w;(w=o[i]).fixed||(h.sub(O,w.p,w.pp),P(w.p,w.p,O,S),h.copy(w.pp,w.p))}var M=(S*=.992)<.01;v&&v(o,r,M),e&&e(M)}}}(I,w,{rect:rect,gravity:d.get("gravity"),friction:d.get("friction")});M.beforeStep((function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].fixed&&h.copy(e[i].p,r.getNodeByIndex(i).getLayout())})),M.afterStep((function(e,t,o){for(var i=0,c=e.length;i<c;i++)e[i].fixed||r.getNodeByIndex(i).setLayout(e[i].p),n[l.getId(i)]=e[i].p;for(i=0,c=t.length;i<c;i++){var d=t[i],f=r.getEdgeByIndex(i),y=d.n1.p,m=d.n2.p,v=f.getLayout();(v=v?v.slice():[])[0]=v[0]||[],v[1]=v[1]||[],h.copy(v[0],y),h.copy(v[1],m),+d.curveness&&(v[2]=[(y[0]+m[0])/2-(y[1]-m[1])*d.curveness,(y[1]+m[1])/2-(m[0]-y[0])*d.curveness]),f.setLayout(v)}})),e.forceLayout=M,e.preservedPoints=n,M.step()}else e.forceLayout=null}))}var k=n(263),B=n(20),G=n(185);function F(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var l=e.getData(),c=l.mapArray((function(e){var t=l.getItemModel(e);return[+t.get("x"),+t.get("y")]})),d=[],h=[];G.d(c,d,h),h[0]-d[0]==0&&(h[0]+=1,d[0]-=1),h[1]-d[1]==0&&(h[1]+=1,d[1]-=1);var f=(h[0]-d[0])/(h[1]-d[1]),y=function(e,t,n){var option=Object(o.extend)(e.getBoxLayoutParams(),{aspect:n});return Object(B.g)(option,{width:t.getWidth(),height:t.getHeight()})}(e,t,f);isNaN(f)&&(d=[y.x,y.y],h=[y.x+y.width,y.y+y.height]);var m=h[0]-d[0],v=h[1]-d[1],_=y.width,S=y.height,x=e.coordinateSystem=new k.a;x.zoomLimit=e.get("scaleLimit"),x.setBoundingRect(d[0],d[1],m,v),x.setViewRect(y.x,y.y,_,S),x.setCenter(e.get("center"),t),x.setZoom(e.get("zoom")),n.push(x)}})),n}var Y=n(1),X=n(230),U=n(360),H=n(234),Z=n(268),J=n(287),K=n(42),W=n(30),Q=[],$=[],ee=[],te=W.h,ae=h.distSquare,ie=Math.abs;function ne(e,t,n){for(var o,r=e[0],l=e[1],c=e[2],d=1/0,h=n*n,f=.1,y=.1;y<=.9;y+=.1){Q[0]=te(r[0],l[0],c[0],y),Q[1]=te(r[1],l[1],c[1],y),(v=ie(ae(Q,t)-h))<d&&(d=v,o=y)}for(var i=0;i<32;i++){var m=o+f;$[0]=te(r[0],l[0],c[0],o),$[1]=te(r[1],l[1],c[1],o),ee[0]=te(r[0],l[0],c[0],m),ee[1]=te(r[1],l[1],c[1],m);var v=ae($,t)-h;if(ie(v)<.01)break;var _=ae(ee,t)-h;f/=2,v<0?_>=0?o+=f:o-=f:_>=0?o-=f:o+=f}return o}function oe(e,t){var n=[],o=W.n,r=[[],[],[]],l=[[],[]],c=[];t/=2,e.eachEdge((function(e,d){var f=e.getLayout(),y=e.getVisual("fromSymbol"),m=e.getVisual("toSymbol");f.__original||(f.__original=[h.clone(f[0]),h.clone(f[1])],f[2]&&f.__original.push(h.clone(f[2])));var v=f.__original;if(null!=f[2]){if(h.copy(r[0],v[0]),h.copy(r[1],v[2]),h.copy(r[2],v[1]),y&&"none"!==y){var _=D(e.node1),S=ne(r,v[0],_*t);o(r[0][0],r[1][0],r[2][0],S,n),r[0][0]=n[3],r[1][0]=n[4],o(r[0][1],r[1][1],r[2][1],S,n),r[0][1]=n[3],r[1][1]=n[4]}if(m&&"none"!==m){_=D(e.node2),S=ne(r,v[1],_*t);o(r[0][0],r[1][0],r[2][0],S,n),r[1][0]=n[1],r[2][0]=n[2],o(r[0][1],r[1][1],r[2][1],S,n),r[1][1]=n[1],r[2][1]=n[2]}h.copy(f[0],r[0]),h.copy(f[1],r[2]),h.copy(f[2],r[1])}else{if(h.copy(l[0],v[0]),h.copy(l[1],v[1]),h.sub(c,l[1],l[0]),h.normalize(c,c),y&&"none"!==y){_=D(e.node1);h.scaleAndAdd(l[0],l[0],c,_*t)}if(m&&"none"!==m){_=D(e.node2);h.scaleAndAdd(l[1],l[1],c,-_*t)}h.copy(f[0],l[0]),h.copy(f[1],l[1])}}))}var re=n(34),se=n(17);function le(e){return"view"===e.type}var ce=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(Y.a)(t,e),t.prototype.init=function(e,t){var n=new X.a,o=new U.a,r=this.group;this._controller=new H.a(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(o.group),this._symbolDraw=n,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,t,n){var o=this,r=e.coordinateSystem;this._model=e;var l=this._symbolDraw,c=this._lineDraw,d=this.group;if(le(r)){var h={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?d.attr(h):K.h(d,h,e)}oe(e.getGraph(),L(e));var data=e.getData();l.updateData(data);var f=e.getEdgeData();c.updateData(f),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var y=e.forceLayout,m=e.get(["force","layoutAnimation"]);y&&this._startForceLayoutIteration(y,m);var v=e// Removed for static mirror.off("dragend");var c=l.get("draggable");c&&r.on("drag",(function(l){switch(v){case"force":y.warmUp(),!o._layouting&&o._startForceLayoutIteration(y,m),y.setFixed(n),data.setItemLayout(n,[r.x,r.y]);break;case"circular":data.setItemLayout(n,[r.x,r.y]),t.setLayout({fixed:!0},!0),N(e,"symbolSize",t,[l.offsetX,l.offsetY]),o.updateLayout(e);break;default:data.setItemLayout(n,[r.x,r.y]),w(e.getGraph(),e),o.updateLayout(e)}})).on("dragend",(function(){y&&y.setUnfixed(n)})),r.setDraggable(c,!!l.get("cursor")),"adjacency"===l// Removed for static mirror;t&&"adjacency"===n&&(Object(se.a)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var _="circular"===e.get("layout")&&e// Removed for static mirror,x=data.getLayout("cy");data.graph.eachNode((function(e){E(e,_,S,x)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function o(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(o,16):o())}))}()},t.prototype._updateController=function(e,t,n){var o=this,r=this._controller,l=this._controllerHost,c=this.group;r.setPointerChecker((function(t,o,r){var rect=c.getBoundingRect();return rect.applyTransform(c.transform),rect.contain(o,r)&&!Object(J.a)(t,n,e)})),le(e.coordinateSystem)?(r.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(t){Z.a(l,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Z.b(l,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),o._updateNodeAndLinkScale(),oe(e.getGraph(),L(e)),o._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,data=e.getData(),t=L(e);data.eachItemGraphicEl((function(e,n){e&&e.setSymbolScale(t)}))},t.prototype.updateLayout=function(e){oe(e.getGraph(),L(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(re.a),ue=ce,pe=n(84),de=n(5),he=n(38),fe=n(524),ge=n(232),ye=n(35),me=n(54),ve=n(515),be=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return Object(Y.a)(t,e),t.prototype.init=function(option){e.prototype.init.apply(this,arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new ge.a(n,n),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},t.prototype.mergeOption=function(option){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(option){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Object(de.f)(option,"edgeLabel",["show"])},t.prototype.getInitialData=function(option,e){var t,n=option.edges||option.links||[],r=option.data||option.nodes||[],l=this;if(r&&n){y(t=this)&&(t.__curvenessList=[],t.__edgeMap={},m(t));var c=Object(fe.a)(r,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=l._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=he.a.prototype.getModel;function o(path,e){var t=n.call(this,path,e);return t.resolveParentPath=r,t}function r(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=r,e.getModel=o,e}))}));return o.each(c.edges,(function(e){!function(e,t,n,o){if(y(n)){var r=v(e,t,n),l=n.__edgeMap,c=l[_(r)];l[r]&&!c?l[r].isForward=!0:c&&l[r]&&(c.isForward=!0,l[r].isForward=!1),l[r]=l[r]||[],l[r].push(o)}}(e.node1,e.node2,this,e.dataIndex)}),this),c.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var o=this.getData(),r=this.getDataParams(e,n),l=o.graph.getEdgeByIndex(e),c=o.getName(l.node1.dataIndex),d=o.getName(l.node2.dataIndex),h=[];return null!=c&&h.push(c),null!=d&&h.push(d),Object(me.c)("nameValue",{name:h.join(" > "),value:r.value,noValue:null==r.value})}return Object(ve.a)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=o.map(this.option.categories||[],(function(e){return null!=e.value?e:o.extend({value:0},e)})),t=new pe.a(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ye.b),_e=be,Se=n(358),xe={type:"graphRoam",event:"graphRoam",update:"none"};function Ie(e){e.registerChartView(ue),e.registerSeriesModel(_e),e.registerProcessor(r),e.registerVisual(l),e.registerVisual(d),e.registerLayout(M),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,T),e.registerLayout(R),e.registerCoordinateSystem("graphView",{dimensions:k.a.dimensions,create:F}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},o.noop),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},o.noop),e.registerAction(xe,(function(e,t,n){t.eachComponent({mainType:"series",query:e},(function(t){var o=t.coordinateSystem,r=Object(Se.a)(o,e,void 0,n);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)}))}))}},1909:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var o=n(1),r=n(9),l=n(96),c=n(103),d=n(8),h=n(73),f=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var canvas=h.d.createCanvas();this.canvas=canvas}return e.prototype.update=function(data,e,t,n,o,r){var l=this._getBrush(),c=this._getGradient(o,"inRange"),d=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,canvas=this.canvas,f=canvas.getContext("2d"),y=data.length;canvas.width=e,canvas.height=t;for(var i=0;i<y;++i){var p=data[i],m=p[0],v=p[1],_=n(p[2]);f.globalAlpha=_,f.drawImage(l,m-h,v-h)}if(!canvas.width||!canvas.height)return canvas;for(var S=f.getImageData(0,0,canvas.width,canvas.height),x=S.data,I=0,A=x.length,O=this.minOpacity,w=this.maxOpacity-O;I<A;){_=x[I+3]/256;var M=4*Math.floor(255*_);if(_>0){var L=r(_)?c:d;_>0&&(_=_*w+O),x[I++]=L[M],x[I++]=L[M+1],x[I++]=L[M+2],x[I++]=L[M+3]*_*256}else I+=4}return f.putImageData(S,0,0),canvas},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=h.d.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var o=e.getContext("2d");return o.clearRect(0,0,n,n),o.shadowOffsetX=n,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-t,t,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,o=n[t]||(n[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],l=0,i=0;i<256;i++)e[t](i/255,!0,r),o[l++]=r[0],o[l++]=r[1],o[l++]=r[2],o[l++]=r[3];return o},e}(),y=n(0),m=n(34),v=n(200),_=n(14);function S(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var x=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(o.a)(t,e),t.prototype.render=function(e,t,n){var o;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(o=t)}))})),this._progressiveEls=null,this.group.removeAll();var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):S(r)&&this._renderOnGeo(r,e,o,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,o){var r=t.coordinateSystem;r&&(S(r)?this.render(t,n,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,o,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){r.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,o,r){var c,h,f,y,m=e.coordinateSystem,S=Object(v.a)(m,"cartesian2d");if(S){var x=m.getAxis("x"),I=m.getAxis("y");0,c=x.getBandWidth()+.5,h=I.getBandWidth()+.5,f=x.scale.getExtent(),y=I.scale.getExtent()}for(var A=this.group,data=e.getData(),O=e.getModel(["emphasis","itemStyle"]).getItemStyle(),w=e.getModel(["blur","itemStyle"]).getItemStyle(),M=e.getModel(["select","itemStyle"]).getItemStyle(),L=e.get(["itemStyle","borderRadius"]),D=Object(_.e)(e),j=e.getModel("emphasis"),C=j.get("focus"),N=j.get("blurScope"),z=j// Removed for static mirror,data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],T=n;T<o;T++){var rect=void 0,style=data.getItemVisual(T,"style");if(S){var P=data.get(E[0],T),V=data.get(E[1],T);if(isNaN(data.get(E[2],T))||isNaN(P)||isNaN(V)||P<f[0]||P>f[1]||V<y[0]||V>y[1])continue;var R=m.dataToPoint([P,V]);rect=new l.a({shape:{x:R[0]-c/2,y:R[1]-h/2,width:c,height:h},style:style})}else{if(isNaN(data.get(E[1],T)))continue;rect=new l.a({z2:1,shape:m.dataToRect([data.get(E[0],T)]).contentShape,style:style})}if(data.hasItemOption){var k=data.getItemModel(T),B=k.getModel("emphasis");O=B.getModel("itemStyle").getItemStyle(),w=k.getModel(["blur","itemStyle"]).getItemStyle(),M=k.getModel(["select","itemStyle"]).getItemStyle(),L=k.get(["itemStyle","borderRadius"]),C=B.get("focus"),N=B.get("blurScope"),z=B.get("disabled"),D=Object(_.e)(k)}rect.shape.r=L;var G=e.getRawValue(T),F="-";G&&null!=G[2]&&(F=G[2]+""),Object(_.g)(rect,D,{labelFetcher:e,labelDataIndex:T,defaultOpacity:style.opacity,defaultText:F}),rect.ensureState("emphasis").style=O,rect.ensureState("blur").style=w,rect.ensureState("select").style=M,Object(d.J)(rect,C,N,z),rect.incremental=r,r&&(rect.states.emphasis.hoverLayer=!0),A.add(rect),data.setItemGraphicEl(T,rect),this._progressiveEls&&this._progressiveEls.push(rect)}},t.prototype._renderOnGeo=function(e,t,n,o){var r=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,data=t.getData(),d=this._hmLayer||this._hmLayer||new f;d.blurSize=t.get("blurSize"),d.pointSize=t.get("pointSize"),d.minOpacity=t.get("minOpacity"),d.maxOpacity=t// Removed for static mirror,data.mapDimension("lat"),data.mapDimension("value")],O=data.mapArray(A,(function(t,n,o){var r=e.dataToPoint([t,n]);return r[0]-=m,r[1]-=v,r.push(o),r})),w=n.getExtent(),M="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(w,n.option.range):function(e,t,n){var o=e[1]-e[0],r=(t=y.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/o,(t.interval[1]-e[0])/o]}}))).length,l=0;return function(e){var i;for(i=l;i<r;i++)if((o=t[i].interval)[0]<=e&&e<=o[1]){l=i;break}if(i===r)for(i=l-1;i>=0;i--){var o;if((o=t[i].interval)[0]<=e&&e<=o[1]){l=i;break}}return i>=0&&i<r&&n[i]}}(w,n.getPieceList(),n.option.selected);d.update(O,x,I,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:l.color.getColorMapper()},M);var img=new c.a({style:{width:x,height:I,x:m,y:v,image:d.canvas},silent:!0});this.group.add(img)},t.type="heatmap",t}(m.a),I=x,A=n(35),O=n(127),w=n(214),M=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(o.a)(t,e),t.prototype.getInitialData=function(option,e){return Object(O.a)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=w.a.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(A.b),L=M;function D(e){e.registerChartView(I),e.registerSeriesModel(L)}},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(5);function r(){var e=Object(o.o)();return function(t){var n=e(t),o=t.pipelineContext,r=!!n.large,l=!!n.progressiveRender,c=n.large=!(!o||!o.large),d=n.progressiveRender=!(!o||!o.progressiveRender);return!(r===c&&l===d)&&"reset"}}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(193),r=n(84),l=n(0);function c(e,t,n){t=Object(l.isArray)(t)&&{coordDimensions:t}||Object(l.extend)({encodeDefine:e.getEncode()},t);var source=e.getSource(),c=Object(o.b)(source,t).dimensions,d=new r.a(c,e);return d.initData(source,n),d}},230:function(e,t,n){"use strict";var o=n(55),r=n(42),l=n(9),c=n(261),d=n(0),h=n(14);function f(data,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==data.getItemVisual(t,"symbol")}function y(e){return null==e||Object(d.isObject)(e)||(e={isIgnore:e}),e||{}}function m(data){var e=data.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Object(h.e)(e),cursorStyle:e// Removed for static mirror||"circle",I=_&&_.getSymbolType&&_.getSymbolType();if(!_||I&&I!==x)t.remove(_),(_=new l(data,y,d,h)).setPosition(S);else{_.updateData(data,y,d,h);var A={x:S[0],y:S[1]};c?_.attr(A):r.h(_,A,n)}t.add(_),data.setItemGraphicEl(y,_)}else t.remove(_)})).remove((function(e){var r=o.getItemGraphicEl(e);r&&r.fadeOut((function(){t.remove(r)}),n)})).execute(),this._getSymbolPoint=v,this._data=data},e.prototype.updateLayout=function(){var e=this,data=this._data;data&&data.eachItemGraphicEl((function(t,n){var o=e._getSymbolPoint(n);t.setPosition(o),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(data){this._seriesScope=m(data),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,data,t){function n(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],t=y(t);for(var o=e.start;o<e.end;o++){var r=data.getItemLayout(o);if(f(data,r,o,t)){var l=new this._SymbolCtor(data,o,this._seriesScope);l.traverse(n),l.setPosition(r),this.group.add(l),data.setItemGraphicEl(o,l),this._progressiveEls.push(l)}}},e.prototype.eachRendered=function(e){l.traverseElements(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,data=this._data;data&&e?data.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),data.hostModel)})):t.removeAll()},e}();t.a=v},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(0),r=n(37);function l(e,t,n){var l=e.get("borderRadius");if(null==l)return n?{cornerRadius:0}:null;Object(o.isArray)(l)||(l=[l,l,l,l]);var c=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Object(o.map)(l,(function(e){return Object(r.g)(e,c)}))}}},261:function(e,t,n){"use strict";var o=n(1),r=n(39),l=n(42),c=n(55),d=n(17),h=n(8),f=n(184),y=n(0),m=n(14),v=n(103),_=function(e){function t(data,t,n,o){var r=e.call(this)||this;return r.updateData(data,t,n,o),r}return Object(o.a)(t,e),t.prototype._createSymbol=function(e,data,t,n,o){this.removeAll();var l=Object(r.a)(e,-1,-1,2,2,null,o);l.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),l.drift=S,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Object(h.r)(this.childAt(0))},t.prototype.downplay=function(){Object(h.C)(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?"move":n.cursor},t.prototype.updateData=function(data,e,n,o){this.silent=!1;var r=data.getItemVisual(e,"symbol")||"circle",c=data.hostModel,d=t.getSymbolSize(data,e),h=r!==this._symbolType,f=o&&o.disableAnimation;if(h){var y=data.getItemVisual(e,"symbolKeepAspect");this._createSymbol(r,data,e,d,y)}else{(v=this.childAt(0)).silent=!1;var m={scaleX:d[0]/2,scaleY:d[1]/2};f?v.attr(m):l.h(v,m,c,e),Object(l.g)(v)}if(this._updateCommon(data,e,d,n,o),h){var v=this.childAt(0);if(!f){m={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,l.c(v,m,c,e)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(data,e,t,n,o){var l,c,d,_,S,x,I,A,O,w=this.childAt(0),M=data.hostModel;if(n&&(l=n.emphasisItemStyle,c=n.blurItemStyle,d=n.selectItemStyle,_=n.focus,S=n.blurScope,I=n.labelStatesModels,A=n.hoverScale,O=n.cursorStyle,x=n.emphasisDisabled),!n||data.hasItemOption){var L=n&&n.itemModel?n.itemModel:data.getItemModel(e),D=L.getModel("emphasis");l=D.getModel("itemStyle").getItemStyle(),d=L.getModel(["select","itemStyle"]).getItemStyle(),c=L.getModel(["blur","itemStyle"]).getItemStyle(),_=D.get("focus"),S=D.get("blurScope"),x=D.get("disabled"),I=Object(m.e)(L),A=D.getShallow("scale"),O=L.getShallow("cursor")}var j=data.getItemVisual(e,"symbolRotate");w.attr("rotation",(j||0)*Math.PI/180||0);var C=Object(r.b)(data.getItemVisual(e,"symbolOffset"),t);C&&(w.x=C[0],w.y=C[1]),O&&w.attr("cursor",O);var N=data.getItemVisual(e,"style"),z=N.fill;if(w instanceof v.a){var E=w.style;w.useStyle(Object(y.extend)({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},N))}else w.__isEmptyBrush?w.useStyle(Object(y.extend)({},N)):w.useStyle(N),w.style.decal=null,w.setColor(z,o&&o.symbolInnerColor),w.style.strokeNoScale=!0;var T=data.getItemVisual(e,"liftZ"),P=this._z2;null!=T?null==P&&(this._z2=w.z2,w.z2+=T):null!=P&&(w.z2=P,this._z2=null);var V=o&&o.useNameLabel;Object(m.g)(w,I,{labelFetcher:M,labelDataIndex:e,defaultText:function(e){return V?data.getName(e):Object(f.b)(data,e)},inheritColor:z,defaultOpacity:N.opacity}),this._sizeX=t[0]/2,this._sizeY=t[1]/2;var R=w.ensureState("emphasis");R.style=l,w.ensureState("select").style=d,w.ensureState("blur").style=c;var k=null==A||!0===A?Math.max(1.1,3/this._sizeY):isFinite(A)&&A>0?+A:1;R.scaleX=this._sizeX*k,R.scaleY=this._sizeY*k,this.setSymbolScale(1),Object(h.J)(this,_,S,x)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var o=this.childAt(0),r=Object(d.a)(this).dataIndex,c=n&&n.animation;if(this.silent=o.silent=!0,n&&n.fadeLabel){var h=o.getTextContent();h&&l.e(h,{style:{opacity:0}},t,{dataIndex:r,removeOpt:c,cb:function(){o.removeTextContent()}})}else o.removeTextContent();l.e(o,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:r,cb:e,removeOpt:c})},t.getSymbolSize=function(data,e){return Object(r.c)(data.getItemVisual(e,"symbolSize"))},t}(c.a);function S(e,t){this.parent.drift(e,t)}t.a=_},360:function(e,t,n){"use strict";var o=n(55),r=n(9),l=n(374),c=n(14),d=function(){function e(e){this.group=new o.a,this._LineCtor=e||l.a}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,o=n.group,r=n._lineData;n._lineData=e,r||o.removeAll();var l=h(e);e.diff(r).add((function(n){t._doAdd(e,n,l)})).update((function(n,o){t._doUpdate(r,e,o,n,l)})).remove((function(e){o.remove(r.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=h(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=e.start;o<e.end;o++){if(y(t.getItemLayout(o))){var r=new this._LineCtor(t,o,this._seriesScope);r.traverse(n),this.group.add(r),t.setItemGraphicEl(o,r),this._progressiveEls.push(r)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){r.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(y(e.getItemLayout(t))){var o=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,o),this.group.add(o)}},e.prototype._doUpdate=function(e,t,n,o,r){var l=e.getItemGraphicEl(n);y(t.getItemLayout(o))?(l?l.updateData(t,o,r):l=new this._LineCtor(t,o,r),t.setItemGraphicEl(o,l),this.group.add(l)):this.group.remove(l)},e}();function h(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Object(c.e)(t)}}function f(e){return isNaN(e[0])||isNaN(e[1])}function y(e){return e&&!f(e[0])&&!f(e[1])}t.a=d},374:function(e,t,n){"use strict";var o=n(1),r=n(0),l=n(11),c=n(39),d=n(157),h=n(632),f=n(24),y=d.a.prototype,m=h.a.prototype,v=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.a)(t,e)}(v);function _(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var S=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return Object(o.a)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new v},t.prototype.buildPath=function(e,t){_(t)?y.buildPath.call(this,e,t):m.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return _(this.shape)?y.pointAt.call(this,e):m.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,p=_(t)?[t.x2-t.x1,t.y2-t.y1]:m.tangentAt.call(this,e);return l.normalize(p,p)},t}(f.b),x=n(42),I=n(55),A=n(8),O=n(14),w=n(4),M=["fromSymbol","toSymbol"];function L(e){return"_"+e+"Type"}function D(e,t,n){var o=t.getItemVisual(n,e);if(!o||"none"===o)return o;var r=t.getItemVisual(n,e+"Size"),l=t.getItemVisual(n,e+"Rotate"),d=t.getItemVisual(n,e+"Offset"),h=t.getItemVisual(n,e+"KeepAspect"),f=c.c(r);return o+f+c.b(d||0,f)+(l||"")+(h||"")}function j(e,t,n){var o=t.getItemVisual(n,e);if(o&&"none"!==o){var r=t.getItemVisual(n,e+"Size"),l=t.getItemVisual(n,e+"Rotate"),d=t.getItemVisual(n,e+"Offset"),h=t.getItemVisual(n,e+"KeepAspect"),f=c.c(r),y=c.b(d||0,f),m=c.a(o,-f[0]/2+y[0],-f[1]/2+y[1],f[0],f[1],null,h);return m.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,m.name=e,m}}function C(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var N=function(e){function t(t,n,o){var r=e.call(this)||this;return r._createLine(t,n,o),r}return Object(o.a)(t,e),t.prototype._createLine=function(e,t,n){var o=e.hostModel,line=function(e){var line=new S({name:"line",subPixelOptimize:!0});return C(line.shape,e),line}(e.getItemLayout(t));line.shape.percent=0,x.c(line,{shape:{percent:1}},o,t),this.add(line),Object(r.each)(M,(function(n){var symbol=j(n,e,t);this.add(symbol),this[L(n)]=D(n,e,t)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var o=e.hostModel,line=this.childOfName("line"),l=e.getItemLayout(t),c={shape:{}};C(c.shape,l),x.h(line,c,o,t),Object(r.each)(M,(function(n){var o=D(n,e,t),r=L(n);if(this[r]!==o){this.remove(this.childOfName(n));var symbol=j(n,e,t);this.add(symbol)}this[r]=o}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var o=e.hostModel,line=this.childOfName("line"),l=n&&n.emphasisLineStyle,c=n&&n.blurLineStyle,d=n&&n.selectLineStyle,h=n&&n.labelStatesModels,f=n&&n.emphasisDisabled,y=n&&n.focus,m=n&&n.blurScope;if(!n||e.hasItemOption){var v=e.getItemModel(t),_=v.getModel("emphasis");l=_.getModel("lineStyle").getLineStyle(),c=v.getModel(["blur","lineStyle"]).getLineStyle(),d=v.getModel(["select","lineStyle"]).getLineStyle(),f=_.get("disabled"),y=_.get("focus"),m=_.get("blurScope"),h=Object(O.e)(v)}var S=e.getItemVisual(t,"style"),x=S.stroke;line.useStyle(S),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=l,line.ensureState("blur").style=c,line.ensureState("select").style=d,Object(r.each)(M,(function(e){var symbol=this.childOfName(e);if(symbol){symbol.setColor(x),symbol.style.opacity=S.opacity;for(var i=0;i<A.g.length;i++){var t=A.g[i],n=line.getState(t);if(n){var o=n.style||{},r=symbol.ensureState(t),l=r.style||(r.style={});null!=o.stroke&&(l[symbol.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(l.opacity=o.opacity)}}symbol.markRedraw()}}),this);var I=o.getRawValue(t);Object(O.g)(this,h,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return o.getFormattedLabel(t,n,e.dataType)}},inheritColor:x||"#000",defaultOpacity:S.opacity,defaultText:(null==I?e.getName(t):isFinite(I)?Object(w.w)(I):I)+""});var label=this.getTextContent();if(label){var L=h.normal;label.__align=label.style.align,label.__verticalAlign=label.style.verticalAlign,label.__position=L.get("position")||"middle";var D=L.get("distance");Object(r.isArray)(D)||(D=[D,D]),label.__labelDistance=D}this.setTextConfig({position:null,local:!0,inside:!1}),Object(A.J)(this,y,m,f)},t.prototype.highlight=function(){Object(A.r)(this)},t.prototype.downplay=function(){Object(A.C)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");C(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),label=e.getTextContent();if(t||n||label&&!label.ignore){for(var o=1,r=this.parent;r;)r.scaleX&&(o/=r.scaleX),r=r.parent;var line=e.childOfName("line");if(this.__dirty||line.__dirty){var c=line.shape.percent,d=line.pointAt(0),h=line.pointAt(c),f=l.sub([],h,d);if(l.normalize(f,f),t&&(t.setPosition(d),D(t,0),t.scaleX=t.scaleY=o*c,t.markRedraw()),n&&(n.setPosition(h),D(n,1),n.scaleX=n.scaleY=o*c,n.markRedraw()),label&&!label.ignore){label.x=label.y=0,label.originX=label.originY=0;var y=void 0,m=void 0,v=label.__labelDistance,_=v[0]*o,S=v[1]*o,x=c/2,I=line.tangentAt(x),A=[I[1],-I[0]],O=line.pointAt(x);A[1]>0&&(A[0]=-A[0],A[1]=-A[1]);var w=I[0]<0?-1:1;if("start"!==label.__position&&"end"!==label.__position){var M=-Math.atan2(I[1],I[0]);h[0]<d[0]&&(M=Math.PI+M),label.rotation=M}var L=void 0;switch(label.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-S,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=S,m="top";break;default:L=0,m="middle"}switch(label.__position){case"end":label.x=f[0]*_+h[0],label.y=f[1]*S+h[1],y=f[0]>.8?"left":f[0]<-.8?"right":"center",m=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":label.x=-f[0]*_+d[0],label.y=-f[1]*S+d[1],y=f[0]>.8?"right":f[0]<-.8?"left":"center",m=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":label.x=_*w+d[0],label.y=d[1]+L,y=I[0]<0?"right":"left",label.originX=-_*w,label.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":label.x=O[0],label.y=O[1]+L,y="center",label.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":label.x=-_*w+h[0],label.y=h[1]+L,y=I[0]>=0?"right":"left",label.originX=_*w,label.originY=-L}label.scaleX=label.scaleY=o,label.setStyle({verticalAlign:label.__verticalAlign||m,align:label.__align||y})}}}function D(symbol,e){var t=symbol.__specifiedRotation;if(null==t){var n=line.tangentAt(e);symbol.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else symbol.attr("rotation",t)}},t}(I.a);t.a=N},523:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(236);function r(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var r=t;r&&r.depth>1;)r=r.parentNode;var l=Object(o.b)(e.ecModel,r.name||r.dataIndex+"",n);t.setVisual("decal",l)}))}},524:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n(0),r=n(84),l=n(713),c=n(452),d=n(193),h=n(214),f=n(127),y=n(5);function m(e,t,n,m,v){for(var _=new l.a(m),i=0;i<e.length;i++)_.addNode(o.retrieve(e[i].id,e[i].name,i),i);var S=[],x=[],I=0;for(i=0;i<t.length;i++){var link=t[i],source=link.source,A=link.target;_.addEdge(source,A,I)&&(x.push(link),S.push(o.retrieve(Object(y.e)(link.id,null),source+" > "+A)),I++)}var O,w=n.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)O=Object(f.a)(e,n);else{var M=h.a.get(w),L=M&&M.dimensions||[];o.indexOf(L,"value")<0&&L.concat(["value"]);var D=Object(d.b)(e,{coordDimensions:L,encodeDefine:n.getEncode()}).dimensions;(O=new r.a(D,n)).initData(e)}var j=new r.a(["value"],n);return j.initData(x,S),v&&v(O,j),Object(c.a)({mainData:O,struct:_,structAttr:"graph",datas:{node:O,edge:j},datasAttr:{node:"data",edge:"edgeData"}}),_.update(),_}},525:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(196),r=n(0),l=n(260),c=n(120),d=function(){function e(){}return e.prototype.getInitialData=function(option,e){var t,n,d=e.getComponent("xAxis",this.get("xAxisIndex")),h=e.getComponent("yAxis",this.get("yAxisIndex")),f=d.get("type"),y=h.get("type");"category"===f?(option.layout="horizontal",t=d.getOrdinalMeta(),n=!0):"category"===y?(option.layout="vertical",t=h.getOrdinalMeta(),n=!0):option.layout=option.layout||"horizontal";var m=["x","y"],v="horizontal"===option.layout?0:1,_=this._baseAxisDim=m[v],S=m[1-v],x=[d,h],I=x[v].get("type"),A=x[1-v]// Removed for static mirror(A),dimsDef:w.slice()}];return Object(o.a)(this,{coordDimensions:M,dimensionsCount:w.length+1,encodeDefaulter:r.curry(c.c,M,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}()},526:function(e,t,n){"use strict";var o=n(1),r=n(266),l=n(42),c=n(55),d=n(8),h=function(e){function t(t,n,o){var r=e.call(this)||this;return r._createPolyline(t,n,o),r}return Object(o.a)(t,e),t.prototype._createPolyline=function(e,t,n){var o=e.getItemLayout(t),line=new r.a({shape:{points:o}});this.add(line),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var o=e.hostModel,line=this.childAt(0),r={shape:{points:e.getItemLayout(t)}};l.h(line,r,o,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var line=this.childAt(0),o=e.getItemModel(t),r=n&&n.emphasisLineStyle,l=n&&n.focus,c=n&&n.blurScope,h=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var f=o.getModel("emphasis");r=f.getModel("lineStyle").getLineStyle(),h=f.get("disabled"),l=f.get("focus"),c=f.get("blurScope")}line.useStyle(e.getItemVisual(t,"style")),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=r,Object(d.J)(this,l,c,h)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(c.a);t.a=h},527:function(e,t,n){"use strict";var o=n(1),r=n(55),l=n(374),c=n(0),d=n(39),h=n(11),f=n(30),y=function(e){function t(t,n,o){var r=e.call(this)||this;return r.add(r.createLine(t,n,o)),r._updateEffectSymbol(t,n),r}return Object(o.a)(t,e),t.prototype.createLine=function(e,t,n){return new l.a(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),o=n.get("symbolSize"),r=n.get("symbol");c.isArray(o)||(o=[o,o]);var l=e.getItemVisual(t,"style"),h=n.get("color")||l&&l.stroke,symbol=this.childAt(1);this._symbolType!==r&&(this.remove(symbol),(symbol=Object(d.a)(r,-.5,-.5,1,1,h)).z2=100,symbol.culling=!0,this.add(symbol)),symbol&&(symbol.setStyle("shadowColor",h),symbol.setStyle(n.getItemStyle(["color"])),symbol.scaleX=o[0],symbol.scaleY=o[1],symbol.setColor(h),this._symbolType=r,this._symbolScale=o,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var symbol=this.childAt(1);if(symbol){var o=e.getItemLayout(n),r=1e3*t.get("period"),l=t.get("loop"),d=t.get("roundTrip"),h=t.get("constantSpeed"),f=c.retrieve(t.get("delay"),(function(t){return t/e.count()*r/3}));if(symbol.ignore=!0,this._updateAnimationPoints(symbol,o),h>0&&(r=this._getLineLength(symbol)/h*1e3),r!==this._period||l!==this._loop||d!==this._roundTrip){symbol.stopAnimation();var y=void 0;y=c.isFunction(f)?f(n):f,symbol.__t>0&&(y=-r*symbol.__t),this._animateSymbol(symbol,r,y,l,d)}this._period=r,this._loop=l,this._roundTrip=d}},t.prototype._animateSymbol=function(symbol,e,t,n,o){if(e>0){symbol.__t=0;var r=this,l=symbol.animate("",n).when(o?2*e:e,{__t:o?2:1}).delay(t).during((function(){r._updateSymbolPosition(symbol)}));n||l.done((function(){r.remove(symbol)})),l.start()}},t.prototype._getLineLength=function(symbol){return h.dist(symbol.__p1,symbol.__cp1)+h.dist(symbol.__cp1,symbol.__p2)},t.prototype._updateAnimationPoints=function(symbol,e){symbol.__p1=e[0],symbol.__p2=e[1],symbol.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(symbol){var e=symbol.__p1,t=symbol.__p2,n=symbol.__cp1,o=symbol.__t<1?symbol.__t:2-symbol.__t,r=[symbol.x,symbol.y],l=r.slice(),c=f.h,d=f.i;r[0]=c(e[0],n[0],t[0],o),r[1]=c(e[1],n[1],t[1],o);var y=symbol.__t<1?d(e[0],n[0],t[0],o):d(t[0],n[0],e[0],1-o),m=symbol.__t<1?d(e[1],n[1],t[1],o):d(t[1],n[1],e[1],1-o);symbol.rotation=-Math.atan2(m,y)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==symbol.__lastT&&symbol.__lastT<symbol.__t?(symbol.scaleY=1.05*h.dist(l,r),1===o&&(r[0]=l[0]+(r[0]-l[0])/2,r[1]=l[1]+(r[1]-l[1])/2)):1===symbol.__lastT?symbol.scaleY=2*h.dist(e,r):symbol.scaleY=this._symbolScale[1]),symbol.__lastT=symbol.__t,symbol.ignore=!1,symbol.x=r[0],symbol.y=r[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(r.a);t.a=y}}]);