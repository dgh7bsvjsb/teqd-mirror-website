(window.webpackJsonp=window.webpackJsonp||[]).push([[1190],{1891:function(e,t,o){"use strict";o.d(t,"a",(function(){return ie}));var r=o(1),n=o(0),l=o(55),d=o(42),c=o(632),h=o(17),f=o(261),y=o(20);function v(e,t){var o=e.isExpand?e.children:[],r=e.parentNode.children,n=e.hierNode.i?r[e.hierNode.i-1]:null;if(o.length){!function(e){var t=e.children,o=t.length,r=0,n=0;for(;--o>=0;){var l=t[o];l.hierNode.prelim+=r,l.hierNode.modifier+=r,n+=l.hierNode.change,r+=l.hierNode.shift+n}}(e);var l=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;n?(e.hierNode.prelim=n.hierNode.prelim+t(e,n),e.hierNode.modifier=e.hierNode.prelim-l):e.hierNode.prelim=l}else n&&(e.hierNode.prelim=n.hierNode.prelim+t(e,n));e.parentNode.hierNode.defaultAncestor=function(e,t,o,r){if(t){for(var n=e,l=e,d=l.parentNode.children[0],c=t,h=n.hierNode.modifier,f=l.hierNode.modifier,y=d.hierNode.modifier,v=c.hierNode.modifier;c=I(c),l=_(l),c&&l;){n=I(n),d=_(d),n.hierNode.ancestor=e;var m=c.hierNode.prelim+v-l.hierNode.prelim-f+r(c,l);m>0&&(O(N(c,e,o),e,m),f+=m,h+=m),v+=c.hierNode.modifier,f+=l.hierNode.modifier,h+=n.hierNode.modifier,y+=d.hierNode.modifier}c&&!I(n)&&(n.hierNode.thread=c,n.hierNode.modifier+=v-h),l&&!_(d)&&(d.hierNode.thread=l,d.hierNode.modifier+=f-y,o=e)}return o}(e,n,e.parentNode.hierNode.defaultAncestor||r[0],t)}function m(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function x(e){return arguments.length?e:M}function w(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function I(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function _(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function N(e,t,o){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:o}function O(e,t,o){var r=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=r}function M(e,t){return e.parentNode===t.parentNode?1:2}var S=o(185),j=o(263),L=o(268),D=o(234),T=o(287),R=o(4),A=o(34),C=o(24),V=o(8),P=function(){this.parentPoint=[],this.childPoints=[]},k=function(e){function t(t){return e.call(this,t)||this}return Object(r.a)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new P},t.prototype.buildPath=function(e,t){var o=t.childPoints,r=o.length,n=t.parentPoint,l=o[0],d=o[r-1];if(1===r)return e.moveTo(n[0],n[1]),void e.lineTo(l[0],l[1]);var c=t.orient,h="TB"===c||"BT"===c?0:1,f=1-h,y=Object(R.q)(t.forkPosition,1),v=[];v[h]=n[h],v[f]=n[f]+(d[f]-n[f])*y,e.moveTo(n[0],n[1]),e.lineTo(v[0],v[1]),e.moveTo(l[0],l[1]),v[h]=l[h],e.lineTo(v[0],v[1]),v[h]=d[h],e.lineTo(v[0],v[1]),e.lineTo(d[0],d[1]);for(var i=1;i<r-1;i++){var m=o[i];e.moveTo(m[0],m[1]),v[h]=m[h],e.lineTo(v[0],v[1])}},t}(C.b),E=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._mainGroup=new l.a,o}return Object(r.a)(t,e),t.prototype.init=function(e,t){this._controller=new D.a(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,o){var data=e.getData(),r=e.layoutInfo,n=this._mainGroup;"radial"===e// Removed for static mirror,this._updateNodeAndLinkScale(e),!0===e// Removed for static mirror.on("click",(function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:r})}))})),this._data=data},t.prototype._updateViewCoordSys=function(e,t){var data=e.getData(),o=[];data.each((function(e){var t=data.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||o.push([+t.x,+t.y])}));var r=[],n=[];S.d(o,r,n);var l=this._min,d=this._max;n[0]-r[0]==0&&(r[0]=l?l[0]:r[0]-1,n[0]=d?d[0]:n[0]+1),n[1]-r[1]==0&&(r[1]=l?l[1]:r[1]-1,n[1]=d?d[1]:n[1]+1);var c=e.coordinateSystem=new j.a;c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(r[0],r[1],n[0]-r[0],n[1]-r[1]),c.setCenter(e.get("center"),t),c.setZoom(e.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=r,this._max=n},t.prototype._updateController=function(e,t,o){var r=this,n=this._controller,l=this._controllerHost,d=this.group;n.setPointerChecker((function(t,r,n){var rect=d.getBoundingRect();return rect.applyTransform(d.transform),rect.contain(r,n)&&!Object(T.a)(t,o,e)})),n.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",(function(t){L.a(l,t.dx,t.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){L.b(l,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),o.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var data=e.getData(),t=this._getNodeGlobalScale(e);data.eachItemGraphicEl((function(e,o){e.setSymbolScale(t)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,r=t.scaleX||1;return((t.getZoom()-1)*o+1)/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(A.a);function G(data,e){var t=data.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function z(data,e,t,o,r){var l=!t,y=data.tree.getNodeByDataIndex(e),v=y.getModel(),m=y.getVisual("style").fill,x=!1===y.isExpand&&0!==y.children.length?m:"#fff",w=data.tree.root,source=y.parentNode===w?y:y.parentNode||y,I=data.getItemGraphicEl(source.dataIndex),_=source.getLayout(),N=I?{x:I.__oldX,y:I.__oldY,rawX:I.__radialOldRawX,rawY:I.__radialOldRawY}:_,O=y.getLayout();l?((t=new f.a(data,e,null,{symbolInnerColor:x,useNameLabel:!0})).x=N.x,t.y=N.y):t.updateData(data,e,null,{symbolInnerColor:x,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=O.rawX,t.__radialRawY=O.rawY,o.add(t),data.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,d.h(t,{x:O.x,y:O.y},r);var M=t.getSymbolPath();if("radial"===r.get("layout")){var S=w.children[0],j=S.getLayout(),L=S.children.length,D=void 0,T=void 0;if(O.x===j.x&&!0===y.isExpand&&S.children.length){var R={x:(S.children[0].getLayout().x+S.children[L-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[L-1].getLayout().y)/2};(D=Math.atan2(R.y-j.y,R.x-j.x))<0&&(D=2*Math.PI+D),(T=R.x<j.x)&&(D-=Math.PI)}else(D=Math.atan2(O.y-j.y,O.x-j.x))<0&&(D=2*Math.PI+D),0===y.children.length||0!==y.children.length&&!1===y.isExpand?(T=O.x<j.x)&&(D-=Math.PI):(T=O.x>j.x)||(D-=Math.PI);var A=T?"left":"right",C=v.getModel("label"),P=C.get("rotate"),E=P*(Math.PI/180),G=M.getTextContent();G&&(M.setTextConfig({position:C.get("position")||A,rotation:null==P?-D:E,origin:"center"}),G.setStyle("verticalAlign","middle"))}var z=v.get(["emphasis","focus"]),B="relative"===z?n.concatArray(y.getAncestorsIndices(),y.getDescendantIndices()):"ancestor"===z?y.getAncestorsIndices():"descendant"===z?y.getDescendantIndices():null;B&&(Object(h.a)(t).focus=B),function(e,t,o,r,l,h,f,y){var v=t.getModel(),m=e.get("edgeShape"),x=e.get("layout"),w=e.getOrient(),I=e.get(["lineStyle","curveness"]),_=e.get("edgeForkPosition"),N=v.getModel("lineStyle").getLineStyle(),O=r.__edge;if("curve"===m)t.parentNode&&t.parentNode!==o&&(O||(O=r.__edge=new c.a({shape:X(x,w,I,l,l)})),d.h(O,{shape:X(x,w,I,h,f)},e));else if("polyline"===m)if("orthogonal"===x){if(t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var M=t.children,S=[],i=0;i<M.length;i++){var j=M[i].getLayout();S.push([j.x,j.y])}O||(O=r.__edge=new k({shape:{parentPoint:[f.x,f.y],childPoints:[[f.x,f.y]],orient:w,forkPosition:_}})),d.h(O,{shape:{parentPoint:[f.x,f.y],childPoints:S}},e)}}else 0;O&&("polyline"!==m||t.isExpand)&&(O.useStyle(n.defaults({strokeNoScale:!0,fill:null},N)),Object(V.I)(O,v,"lineStyle"),Object(V.G)(O),y.add(O))}(r,y,w,t,N,_,O,o),t.__edge&&(t.onHoverStateChange=function(e){if("blur"!==e){var o=y.parentNode&&data.getItemGraphicEl(y.parentNode.dataIndex);o&&o.hoverState===V.d||Object(V.H)(t.__edge,e)}})}function B(e,data,t,o,r){var n=H(data.tree.root,e),source=n.source,l=n.sourceLayout,c=data.getItemGraphicEl(e.dataIndex);if(c){var h=data.getItemGraphicEl(source.dataIndex).__edge,f=c.__edge||(!1===source.isExpand||1===source.children.length?h:void 0),y=o.get("edgeShape"),v=o.get("layout"),m=o.get("orient"),x=o.get(["lineStyle","curveness"]);f&&("curve"===y?d.e(f,{shape:X(v,m,x,l,l),style:{opacity:0}},o,{cb:function(){t.remove(f)},removeOpt:r}):"polyline"===y&&"orthogonal"===o// Removed for static mirror,easing:r// Removed for static mirror{f=r.rawX,v=r.rawY,y=n.rawX,m=n.rawY;var x=w(f,v),I=w(f,v+(m-v)*o),_=w(y,m+(v-m)*o),N=w(y,m);return{x1:x.x||0,y1:x.y||0,x2:N.x||0,y2:N.y||0,cpx1:I.x||0,cpy1:I.y||0,cpx2:_.x||0,cpy2:_.y||0}}return f=r.x,v=r.y,y=n.x,m=n.y,"LR"!==t&&"RL"!==t||(l=f+(y-f)*o,d=v,c=y+(f-y)*o,h=m),"TB"!==t&&"BT"!==t||(l=f,d=v+(m-v)*o,c=y,h=m+(v-m)*o),{x1:f,y1:v,x2:y,y2:m,cpx1:l,cpy1:d,cpx2:c,cpy2:h}}var Y=E,Z=o(35),F=o(359),U=o(38),J=o(54),K=o(123),Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return Object(r.a)(t,e),t.prototype.getInitialData=function(option){var e={name:option.name,children:option.data},t=option.leaves||{},o=new U.a(t,this,this.ecModel),r=F.a.createTree(e,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=o),e}))}));var n=0;r.eachNode("preorder",(function(e){e.depth>n&&(n=e.depth)}));var l=option.expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:n;return r.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=l})),r.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,o){for(var r=this.getData().tree,n=r.root.children[0],l=r.getNodeByDataIndex(e),d=l.getValue(),c=l.name;l&&l!==n;)c=l.parentNode.name+"."+c,l=l.parentNode;return Object(J.c)("nameValue",{name:c,value:d,noValue:isNaN(d)||null==d})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=Object(K.d)(r,this),o.collapsed=!r.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Z.b),$=Q;function ee(e,t){for(var o,r=[e];o=r.pop();)if(t(o),o.isExpand){var n=o.children;if(n.length)for(var i=n.length-1;i>=0;i--)r.push(n[i])}}function te(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var o=function(e,t){return y.g(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var r=e.get("layout"),n=0,l=0,d=null;"radial"===r?(n=2*Math.PI,l=Math.min(o.height,o.width)/2,d=x((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(n=o.width,l=o.height,d=x());var c=e.getData().tree.root,h=c.children[0];if(h){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var o,r,n=[t];o=n.pop();)if(r=o.children,o.isExpand&&r.length)for(var i=r.length-1;i>=0;i--){var l=r[i];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},n.push(l)}}(c),function(e,t,o){for(var r,n=[e],l=[];r=n.pop();)if(l.push(r),r.isExpand){var d=r.children;if(d.length)for(var i=0;i<d.length;i++)n.push(d[i])}for(;r=l.pop();)t(r,o)}(h,v,d),c.hierNode.modifier=-h.hierNode.prelim,ee(h,m);var f=h,I=h,_=h;ee(h,(function(e){var t=e.getLayout().x;t<f.getLayout().x&&(f=e),t>I.getLayout().x&&(I=e),e.depth>_.depth&&(_=e)}));var N=f===I?1:d(f,I)/2,O=N-f.getLayout().x,M=0,S=0,j=0,L=0;if("radial"===r)M=n/(I.getLayout().x+N+O),S=l/(_.depth-1||1),ee(h,(function(e){j=(e.getLayout().x+O)*M,L=(e.depth-1)*S;var t=w(j,L);e.setLayout({x:t.x,y:t.y,rawX:j,rawY:L},!0)}));else{var D=e.getOrient();"RL"===D||"LR"===D?(S=l/(I.getLayout().x+N+O),M=n/(_.depth-1||1),ee(h,(function(e){L=(e.getLayout().x+O)*S,j="LR"===D?(e.depth-1)*M:n-(e.depth-1)*M,e.setLayout({x:j,y:L},!0)}))):"TB"!==D&&"BT"!==D||(M=n/(I.getLayout().x+N+O),S=l/(_.depth-1||1),ee(h,(function(e){j=(e.getLayout().x+O)*M,L="TB"===D?(e.depth-1)*S:l-(e.depth-1)*S,e.setLayout({x:j,y:L},!0)})))}}}(e,t)}))}function oe(e){e.eachSeriesByType("tree",(function(e){var data=e.getData();data.tree.eachNode((function(e){var style=e.getModel().getModel("itemStyle").getItemStyle(),t=data.ensureUniqueItemVisual(e.dataIndex,"style");Object(n.extend)(t,style)}))}))}var re=o(358);function ie(e){e.registerChartView(Y),e.registerSeriesModel($),e.registerLayout(te),e.registerVisual(oe),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=e.dataIndex,r=t.getData().tree.getNodeByDataIndex(o);r.isExpand=!r.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,o){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var r=t.coordinateSystem,n=Object(re.a)(r,e,void 0,o);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))}(e)}},1894:function(e,t,o){"use strict";o.d(t,"a",(function(){return Oe}));var r=o(123),n=o(0),l=["treemapZoomToNode","treemapRender","treemapMove"];var d=o(1),c=o(35),h=o(359),f=o(38),y=o(5),v=o(54),m=o(523),x=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.preventUsingHoverLayer=!0,o}return Object(d.a)(t,e),t.prototype.getInitialData=function(option,e){var t={name:option.name,children:option.data};w(t);var o=option.levels||[],r=this.designatedVisualItemStyle={},l=new f.a({itemStyle:r},this,e);o=option.levels=function(e,t){var o,r,l=Object(y.r)(t.get("color")),d=Object(y.r)(t.get(["aria","decal","decals"]));if(!l)return;e=e||[],n.each(e,(function(e){var t=new f.a(e),n=t.get("color"),l=t.get("decal");(t.get(["itemStyle","color"])||n&&"none"!==n)&&(o=!0),(t.get(["itemStyle","decal"])||l&&"none"!==l)&&(r=!0)}));var c=e[0]||(e[0]={});o||(c.color=l.slice());!r&&d&&(c.decal=d.slice());return e}(o,e);var d=n.map(o||[],(function(t){return new f.a(t,l,e)}),this),c=h.a.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var o=c.getNodeByDataIndex(t),r=o?d[o.depth]:null;return e.parentModel=r||l,e}))}));return c.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,o){var data=this.getData(),r=this.getRawValue(e),n=data.getName(e);return Object(v.c)("nameValue",{name:n,value:r})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=Object(r.d)(n,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},n.extend(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=n.createHashMap(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Object(m.a)(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â–¶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(c.b);function w(e){var t=0;n.each(e.children,(function(e){w(e);var o=e.value;n.isArray(o)&&(o=o[0]),t+=o}));var o=e.value;n.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),n.isArray(e.value)?e.value[0]=o:e.value=o}var I=x,_=o(55),N=o(96),O=o(17),M=o(8),S=o(140),j=o(259),L=o(113),D=o(20),T=o(14);function R(e,t,o,r,head,n){var l=[[head?e:e-5,t],[e+o,t],[e+o,t+r],[head?e:e-5,t+r]];return!n&&l.splice(2,0,[e+o+5,t+r/2]),!head&&l.push([e,t+r/2]),l}function A(e,t,o){Object(O.a)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&Object(r.d)(o,t)}}var C=function(){function e(e){this.group=new _.a,e.add(this.group)}return e.prototype.render=function(e,t,o,r){var n=e.getModel("breadcrumb"),l=this.group;if(l.removeAll(),n.get("show")&&o){var d=n.getModel("itemStyle"),c=n.getModel("emphasis"),h=d.getModel("textStyle"),f=c.getModel(["itemStyle","textStyle"]),y={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,y,h),this._renderContent(e,y,d,c,h,f,r),D.i(l,y.pos,y.box)}},e.prototype._prepare=function(e,t,o){for(var r=e;r;r=r.parentNode){var text=Object(y.e)(r.getModel().get("name"),""),n=o.getTextRect(text),l=Math.max(n.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:r,text:text,width:l})}},e.prototype._renderContent=function(e,t,o,r,l,d,c){for(var h=0,f=t.emptyItemWidth,y=e.get(["breadcrumb","height"]),v=D.e(t.pos,t.box),m=t.totalWidth,x=t.renderList,w=r.getModel("itemStyle").getItemStyle(),i=x.length-1;i>=0;i--){var I=x[i],_=I.node,N=I.width,text=I.text;m>v.width&&(m-=N-f,N=f,text=null);var O=new j.a({shape:{points:R(h,0,N,y,i===x.length-1,0===i)},style:Object(n.defaults)(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new L.a({style:Object(T.c)(l,{text:text})}),textConfig:{position:"inside"},z2:1e4*M.j,onclick:Object(n.curry)(c,_)});O.disableLabelAnimation=!0,O.getTextContent().ensureState("emphasis").style=Object(T.c)(d,{text:text}),O.ensureState("emphasis").style=w,Object(M.J)(O,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(O),A(O,e,_),h+=N+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),V=o(234),P=o(21),k=o(25),E=o(1046),G=o(181),z=o(34),B=o(71),H=o(45),W=_.a,X=N.a,Y="label",Z="upperLabel",F=10*M.j,U=2*M.j,J=3*M.j,K=Object(G.a)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Q=function(e){var t=K(e);return t.stroke=t.fill=t.lineWidth=null,t},$=Object(y.o)(),ee=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._state="ready",o._storage={nodeGroup:[],background:[],content:[]},o}return Object(d.a)(t,e),t.prototype.render=function(e,t,o,l){var d=t.findComponents({mainType:"series",subType:"treemap",query:l});if(!(Object(n.indexOf)(d,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var c=r.c(l,["treemapZoomToNode","treemapRootToNode"],e),h=l&&l.type,f=e.layoutInfo,y=!this._oldTree,v=this._storage,m="treemapRootToNode"===h&&c&&v?{rootNodeGroup:v.nodeGroup[c.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(f),w=e.get("animation"),I=this._doRender(x,e,m);!w||y||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?I.renderFinally():this._doAnimation(x,I,e,m),this._resetController(o),this._renderBreadcrumb(e,o,c)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new W,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,o){var r=t.getData().tree,l=this._oldTree,d={nodeGroup:[],background:[],content:[]},c={nodeGroup:[],background:[],content:[]},h=this._storage,f=[];function v(e,r,l,v){return function(e,t,o,r,l,d,c,h,f,v){if(!c)return;var m=c.getLayout(),data=e.getData(),x=c.getModel();if(data.setItemGraphicEl(c.dataIndex,null),!m||!m.isInView)return;var w=m.width,I=m.height,N=m.borderWidth,S=m.invisible,j=c.getRawIndex(),L=h&&h.getRawIndex(),D=c.viewChildren,R=m.upperHeight,A=D&&D.length,C=x.getModel("itemStyle"),V=x.getModel(["emphasis","itemStyle"]),P=x.getModel(["blur","itemStyle"]),k=x.getModel(["select","itemStyle"]),E=C.get("borderRadius")||0,G=de("nodeGroup",W);if(!G)return;if(f.add(G),G.x=m.x||0,G.y=m.y||0,G.markRedraw(),$(G).nodeWidth=w,$(G).nodeHeight=I,m.isAboveViewRoot)return G;var z=de("background",X,v,U);z&&ie(G,z,A&&m.upperLabelHeight);var H=x.getModel("emphasis"),ee=H.get("focus"),te=H.get("blurScope"),oe=H.get("disabled"),re="ancestor"===ee?c.getAncestorsIndices():"descendant"===ee?c.getDescendantIndices():ee;if(A)Object(M.y)(G)&&Object(M.F)(G,!1),z&&(Object(M.F)(z,!oe),data.setItemGraphicEl(c.dataIndex,z),Object(M.p)(z,re,te));else{var content=de("content",X,v,J);content&&ae(G,content),z.disableMorphing=!0,z&&Object(M.y)(z)&&Object(M.F)(z,!1),Object(M.F)(G,!oe),data.setItemGraphicEl(c.dataIndex,G),Object(M.p)(G,re,te)}return G;function ie(t,o,r){var n=Object(O.a)(o);if(n.dataIndex=c.dataIndex,n.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:w,height:I,r:E}),S)ne(o);else{o.invisible=!1;var style=c.getVisual("style"),l=style.stroke,d=Q(C);d.fill=l;var h=K(V);h.fill=V.get("borderColor");var f=K(P);f.fill=P.get("borderColor");var y=K(k);if(y.fill=k.get("borderColor"),r){var v=w-2*N;le(o,l,style.opacity,{x:N,y:0,width:v,height:R})}else o.removeTextContent();o.setStyle(d),o.ensureState("emphasis").style=h,o.ensureState("blur").style=f,o.ensureState("select").style=y,Object(M.G)(o)}t.add(o)}function ae(t,content){var o=Object(O.a)(content);o.dataIndex=c.dataIndex,o.seriesIndex=e.seriesIndex;var r=Math.max(w-2*N,0),n=Math.max(I-2*N,0);if(content.culling=!0,content.setShape({x:N,y:N,width:r,height:n,r:E}),S)ne(content);else{content.invisible=!1;var l=c.getVisual("style"),d=l.fill,h=Q(C);h.fill=d,h.decal=l.decal;var f=K(V),y=K(P),v=K(k);le(content,d,l.opacity,null),content.setStyle(h),content.ensureState("emphasis").style=f,content.ensureState("blur").style=y,content.ensureState("select").style=v,Object(M.G)(content)}t.add(content)}function ne(element){!element.invisible&&d.push(element)}function le(t,o,r,l){var d=x.getModel(l?Z:Y),h=Object(y.e)(x.get("name"),null),f=d.getShallow("show");Object(T.g)(t,Object(T.e)(x,l?Z:Y),{defaultText:f?h:null,inheritColor:o,defaultOpacity:r,labelFetcher:e,labelDataIndex:c.dataIndex});var v=t.getTextContent();if(v){var w=v.style,I=Object(n.normalizeCssArray)(w.padding||0);l&&(t.setTextConfig({layoutRect:l}),v.disableLabelLayout=!0),v.beforeUpdate=function(){var e=Math.max((l?l.width:t.shape.width)-I[1]-I[3],0),o=Math.max((l?l.height:t.shape.height)-I[0]-I[2],0);w.width===e&&w.height===o||v.setStyle({width:e,height:o})},w.truncateMinChar=2,w.lineOverflow="truncate",se(w,l,m);var _=v.getState("emphasis");se(_?_.style:null,l,m)}}function se(style,t,o){var text=style?style.text:null;if(!t&&o.isLeafRoot&&null!=text){var r=e.get("drillDownIcon",!0);style.text=r?r+" "+text:text}}function de(e,r,n,d){var element=null!=L&&o[e][L],c=l[e];return element?(o[e][L]=null,ue(c,element)):S||((element=new r)instanceof B.c&&(element.z2=function(e,t){return e*F+t}(n,d)),ce(c,element)),t[e][j]=element}function ue(e,element){var t=e[j]={};element instanceof W?(t.oldX=element.x,t.oldY=element.y):t.oldShape=Object(n.extend)({},element.shape)}function ce(e,element){var t=e[j]={},o=c.parentNode,n=element instanceof _.a;if(o&&(!r||"drillDown"===r.direction)){var d=0,h=0,f=l.background[o.getRawIndex()];!r&&f&&f.oldShape&&(d=f.oldShape.width,h=f.oldShape.height),n?(t.oldX=0,t.oldY=h):t.oldShape={x:d,y:h,width:0,height:0}}t.fadein=!n}}(t,c,h,o,d,f,e,r,l,v)}!function e(t,o,r,l,d){l?(o=t,Object(n.each)(t,(function(e,t){!e.isRemoved()&&h(t,t)}))):new S.a(o,t,c,c).add(h).update(h).remove(Object(n.curry)(h,null)).execute();function c(e){return e.getId()}function h(n,c){var h=null!=n?t[n]:null,f=null!=c?o[c]:null,y=v(h,f,r,d);y&&e(h&&h.viewChildren||[],f&&f.viewChildren||[],y,l,d+1)}}(r.root?[r.root]:[],l&&l.root?[l.root]:[],e,r===l||!l,0);var m=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Object(n.each)(e,(function(e,o){var r=t[o];Object(n.each)(e,(function(e){e&&(r.push(e),$(e).willDelete=!0)}))})),t}(h);if(this._oldTree=r,this._storage=c,this._controllerHost){var x=this.seriesModel.layoutInfo,w=r.root.getLayout();w.width===x.width&&w.height===x.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:d,willDeleteEls:m,renderFinally:function(){Object(n.each)(m,(function(e){Object(n.each)(e,(function(e){e.parent&&e.parent.remove(e)}))})),Object(n.each)(f,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,o,r){var l=o.get("animationDurationUpdate"),d=o.get("animationEasing"),c=(Object(n.isFunction)(l)?0:l)||0,h=(Object(n.isFunction)(d)?null:d)||"cubicOut",f=E.a();Object(n.each)(t.willDeleteEls,(function(e,t){Object(n.each)(e,(function(e,o){if(!e.invisible){var n,l=e.parent,d=$(l);if(r&&"drillDown"===r.direction)n=l===r.rootNodeGroup?{shape:{x:0,y:0,width:d.nodeWidth,height:d.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,v=0;d.willDelete||(y=d.nodeWidth/2,v=d.nodeHeight/2),n="nodeGroup"===t?{x:y,y:v,style:{opacity:0}}:{shape:{x:y,y:v,width:0,height:0},style:{opacity:0}}}n&&f.add(e,n,c,0,h)}}))})),Object(n.each)(this._storage,(function(e,o){Object(n.each)(e,(function(e,r){var l=t.lastsForAnimation[o][r],d={};l&&(e instanceof _.a?null!=l.oldX&&(d.x=e.x,d.y=e.y,e.x=l.oldX,e.y=l.oldY):(l.oldShape&&(d.shape=Object(n.extend)({},e.shape),e.setShape(l.oldShape)),l.fadein?(e.setStyle("opacity",0),d.style={opacity:1}):1!==e.style.opacity&&(d.style={opacity:1})),f.add(e,d,c,0,h))}))}),this),this._state="animating",f.finished(Object(n.bind)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller,o=this._controllerHost;o||(this._controllerHost={target:this.group},o=this._controllerHost),t||((t=this._controller=new V.a(e.getZr())).enable(this.seriesModel.get("roam")),o.zoomLimit=this.seriesModel.get("scaleLimit"),o.zoom=this.seriesModel.get("zoom"),t.on("pan",Object(n.bind)(this._onPan,this)),t.on("zoom",Object(n.bind)(this._onZoom,this)));var rect=new P.a(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,o){return rect.contain(t,o)}))},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var t=e.originX,o=e.originY,r=e.scale;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var l=n.getLayout();if(!l)return;var d,rect=new P.a(l.x,l.y,l.width,l.height),c=this._controllerHost;d=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=r,d){var f=d.min||0,y=d.max||1/0;h=Math.max(Math.min(y,h),f)}var v=h/c.zoom;c.zoom=h;var m=this.seriesModel.layoutInfo;t-=m.x,o-=m.y;var x=k.create();k.translate(x,x,[-t,-o]),k.scale(x,x,[v,v]),k.translate(x,x,[t,o]),rect.applyTransform(x),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var o=t.seriesModel.get("nodeClick",!0);if(o){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var n=r.node;if(n.getLayout().isLeafRoot)t._rootToNode(r);else if("zoomToNode"===o)t._zoomToNode(r);else if("link"===o){var l=n.hostTree.data.getItemModel(n.dataIndex),link=l.get("link",!0),d=l.get("target",!0)||"blank";link&&Object(H.k)(link,d)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,o){var n=this;o||(o=null!=e// Removed for static mirror,t)?n._rootToNode({node:t}):n._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(r){var n=this._storage.background[r.getRawIndex()];if(n){var l=n.transformCoordToLocal(e,t),d=n.shape;if(!(d.x<=l[0]&&l[0]<=d.x+d.width&&d.y<=l[1]&&l[1]<=d.y+d.height))return!1;o={node:r,offsetX:l[0],offsetY:l[1]}}}),this),o},t.type="treemap",t}(z.a);var te=ee,oe=o(105),re=o(47),ie=Object(y.o)(),ae={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||ne(t,{},e.getViewRoot().getAncestors(),e)}};function ne(e,t,o,r){var l=e.getModel(),d=e.getLayout(),data=e.hostTree.data;if(d&&!d.invisible&&d.isInView){var c,h=l.getModel("itemStyle"),f=function(e,t,o){var r=Object(n.extend)({},t),l=o.designatedVisualItemStyle;return Object(n.each)(["color","colorAlpha","colorSaturation"],(function(o){l[o]=t[o];var n=e.get(o);l[o]=null,null!=n&&(r[o]=n)})),r}(h,t,r),y=data.ensureUniqueItemVisual(e.dataIndex,"style"),v=h.get("borderColor"),m=h.get("borderColorSaturation");null!=m&&(v=function(e,t){return null!=t?Object(re.modifyHSL)(t,null,null,e):null}(m,c=le(f))),y.stroke=v;var x=e.viewChildren;if(x&&x.length){var w=function(e,t,o,r,n,l){if(!l||!l.length)return;var d=de(t,"color")||null!=n.color&&"none"!==n.color&&(de(t,"colorAlpha")||de(t,"colorSaturation"));if(!d)return;var c=t.get("visualMin"),h=t// Removed for static mirror,v={type:d.name,dataExtent:f,visual:d.range};"color"!==v.type||"index"!==y&&"id"!==y?v.mappingMethod="linear":(v.mappingMethod="category",v.loop=!0);var m=new oe.a(v);return ie(m).drColorMappingBy=y,m}(0,l,d,0,f,x);Object(n.each)(x,(function(e,t){if(e.depth>=o.length||e===o[e.depth]){var d=function(e,t,o,r,l,d){var c=Object(n.extend)({},t);if(l){var h=l.type,f="color"===h&&ie(l).drColorMappingBy,y="index"===f?r:"id"===f?d.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));c[h]=l.mapValueToVisual(y)}return c}(l,f,e,t,w,r);ne(e,d,o,r)}}))}else c=le(f),y.fill=c}}function le(e){var t=se(e,"color");if(t){var o=se(e,"colorAlpha"),r=se(e,"colorSaturation");return r&&(t=Object(re.modifyHSL)(t,null,null,r)),o&&(t=Object(re.modifyAlpha)(t,o)),t}}function se(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function de(e,t){var o=e.get(t);return Object(n.isArray)(o)&&o.length?{name:t,range:o}:null}var ue=o(4),ce=Math.max,he=Math.min,pe=n.retrieve,ge=n.each,fe=["itemStyle","borderWidth"],ye=["itemStyle","gapWidth"],ve=["upperLabel","show"],me=["upperLabel","height"],be={seriesType:"treemap",reset:function(e,t,o,l){var d=o.getWidth(),c=o.getHeight(),h=e.option,f=D.g(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),y=h.size||[],v=Object(ue.q)(pe(f.width,y[0]),d),m=Object(ue.q)(pe(f.height,y[1]),c),x=l&&l.type,w=r.c(l,["treemapZoomToNode","treemapRootToNode"],e),I="treemapRender"===x||"treemapMove"===x?l.rootRect:null,_=e.getViewRoot(),N=r.b(_);if("treemapMove"!==x){var O="treemapZoomToNode"===x?function(e,t,o,r,n){var l,d=(t||{}).node,c=[r,n];if(!d||d===o)return c;var h=r*n,area=h*e.option.zoomToNodeRatio;for(;l=d.parentNode;){for(var f=0,y=l.children,i=0,v=y.length;i<v;i++)f+=y[i].getValue();var m=d.getValue();if(0===m)return c;area*=f/m;var x=l.getModel(),w=x.get(fe);(area+=4*w*w+(3*w+Math.max(w,Ne(x)))*Math.pow(area,.5))>ue.a&&(area=ue.a),d=l}area<h&&(area=h);var I=Math.pow(area/h,.5);return[r*I,n*I]}(e,w,_,v,m):I?[I.width,I.height]:[v,m],M=h.sort;M&&"asc"!==M&&"desc"!==M&&(M="desc");var S={squareRatio:h.squareRatio,sort:M,leafDepth:h.leafDepth};_.hostTree.clearLayouts();var j={x:0,y:0,width:O[0],height:O[1],area:O[0]*O[1]};_.setLayout(j),xe(_,S,!1,0),j=_.getLayout(),ge(N,(function(e,t){var o=(N[t+1]||_).getValue();e.setLayout(n.extend({dataExtent:[o,o],borderWidth:0,upperHeight:0},j))}))}var L=e.getData().tree.root;L.setLayout(function(e,t,o){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!o)return r;var n=o.node,l=n.getLayout();if(!l)return r;var d=[l.width/2,l.height/2],c=n;for(;c;){var h=c.getLayout();d[0]+=h.x,d[1]+=h.y,c=c.parentNode}return{x:e.width/2-d[0],y:e.height/2-d[1]}}(f,I,w),!0),e.setLayoutInfo(f),_e(L,new P.a(-f.x,-f.y,d,c),N,_,0)}};function xe(e,t,o,r){var l,d;if(!e.isRemoved()){var c=e.getLayout();l=c.width,d=c.height;var h=e.getModel(),f=h.get(fe),y=h.get(ye)/2,v=Ne(h),m=Math.max(f,v),x=f-y,w=m-y;e.setLayout({borderWidth:f,upperHeight:m,upperLabelHeight:v},!0);var I=(l=ce(l-2*x,0))*(d=ce(d-x-w,0)),_=function(e,t,o,r,l,d){var c=e.children||[],h=r.sort;"asc"!==h&&"desc"!==h&&(h=null);var f=null!=r.leafDepth&&r.leafDepth<=d;if(l&&!f)return e.viewChildren=[];c=n.filter(c,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(a,b){var e="asc"===t?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===e?"asc"===t?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:e}))}(c,h);var y=function(e,t,o){for(var r=0,i=0,n=t.length;i<n;i++)r+=t[i].getValue();var l,d=e.get("visualDimension");t&&t.length?"value"===d&&o?(l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&l.reverse()):(l=[1/0,-1/0],ge(t,(function(e){var t=e.getValue(d);t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t)}))):l=[NaN,NaN];return{sum:r,dataExtent:l}}(t,c,h);if(0===y.sum)return e.viewChildren=[];if(y.sum=function(e,t,o,r,n){if(!r)return o;for(var l=e.get("visibleMin"),d=n.length,c=d,i=d-1;i>=0;i--){var h=n["asc"===r?d-i-1:i].getValue();h/o*t<l&&(c=i,o-=h)}return"asc"===r?n.splice(0,d-c):n.splice(c,d-c),o}(t,o,y.sum,h,c),0===y.sum)return e.viewChildren=[];for(var i=0,v=c.length;i<v;i++){var area=c[i].getValue()/y.sum*o;c[i].setLayout({area:area})}f&&(c.length&&e.setLayout({isLeafRoot:!0},!0),c.length=0);return e.viewChildren=c,e.setLayout({dataExtent:y.dataExtent},!0),c}(e,h,I,t,o,r);if(_.length){var rect={x:x,y:w,width:l,height:d},N=he(l,d),O=1/0,M=[];M.area=0;for(var i=0,S=_.length;i<S;){var j=_[i];M.push(j),M.area+=j.getLayout().area;var L=we(M,N,t.squareRatio);L<=O?(i++,O=L):(M.area-=M.pop().getLayout().area,Ie(M,N,rect,y,!1),N=he(rect.width,rect.height),M.length=M.area=0,O=1/0)}if(M.length&&Ie(M,N,rect,y,!0),!o){var D=h.get("childrenVisibleMin");null!=D&&I<D&&(o=!0)}for(i=0,S=_.length;i<S;i++)xe(_[i],t,o,r+1)}}}function we(e,t,o){for(var r=0,n=1/0,i=0,area=void 0,l=e.length;i<l;i++)(area=e[i].getLayout().area)&&(area<n&&(n=area),area>r&&(r=area));var d=e.area*e.area,c=t*t*o;return d?ce(c*r/d,d/(c*n)):1/0}function Ie(e,t,rect,o,r){var n=t===rect.width?0:1,l=1-n,d=["x","y"],c=["width","height"],h=rect[d[n]],f=t?e.area/t:0;(r||f>rect[c[l]])&&(f=rect[c[l]]);for(var i=0,y=e.length;i<y;i++){var v=e[i],m={},x=f?v.getLayout().area/f:0,w=m[c[l]]=ce(f-2*o,0),I=rect[d[n]]+rect[c[n]]-h,_=i===y-1||I<x?I:x,N=m[c[n]]=ce(_-2*o,0);m[d[l]]=rect[d[l]]+he(o,w/2),m[d[n]]=h+he(o,N/2),h+=_,v.setLayout(m,!0)}rect[d[l]]+=f,rect[c[l]]-=f}function _e(e,t,o,r,n){var l=e.getLayout(),d=o[n],c=d&&d===e;if(!(d&&!c||n===o.length&&e!==r)){e.setLayout({isInView:!0,invisible:!c&&!t.intersect(l),isAboveViewRoot:c},!0);var h=new P.a(t.x-l.x,t.y-l.y,t.width,t.height);ge(e.viewChildren||[],(function(e){_e(e,h,o,r,n+1)}))}}function Ne(e){return e.get(ve)?e.get(me):0}function Oe(e){e.registerSeriesModel(I),e.registerChartView(te),e.registerVisual(ae),e.registerLayout(be),function(e){for(var i=0;i<l.length;i++)e.registerAction({type:l[i],update:"updateView"},n.noop);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,o){var n=r.c(e,["treemapZoomToNode","treemapRootToNode"],t);if(n){var l=t.getViewRoot();l&&(e.direction=r.a(l,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}}))}))}(e)}},1895:function(e,t,o){"use strict";o.d(t,"a",(function(){return Y}));var r=o(1),n=o(0),l=o(34),d=o(113),c=o(42),h=o(270),f=o(8),y=o(14),v=o(17),m=o(242),x=o(215),w=o(143),I=o(4),_=function(e){function t(t,o,r,n){var l=e.call(this)||this;l.z2=2,l.textConfig={inside:!0},Object(v.a)(l).seriesIndex=o.seriesIndex;var text=new d.a({z2:4,silent:t.getModel()// Removed for static mirror,w=t.getLayout(),I=n.extend({},w);I.label=null;var _=t.getVisual("style");_.lineJoin="bevel";var N=t.getVisual("decal");N&&(_.decal=Object(x.a)(N,l));var O=Object(m.a)(h.getModel("itemStyle"),I,!0);n.extend(I,O),n.each(f.g,(function(e){var t=d.ensureState(e),o=h.getModel([e,"itemStyle"]);t.style=o.getItemStyle();var r=Object(m.a)(o,I);r&&(t.shape=r)})),e?(d.setShape(I),d.shape.r=w.r0,c.c(d,{shape:{r:w.r}},o,t.dataIndex)):(c.h(d,{shape:I},o),Object(c.g)(d)),d.useStyle(_),this._updateLabel(o);var M=h.getShallow("cursor");M&&d.attr("cursor",M),this._seriesModel=o||this._seriesModel,this._ecModel=r||this._ecModel;var S=y.get("focus"),j="ancestor"===S?t.getAncestorsIndices():"descendant"===S?t.getDescendantIndices():S;Object(f.J)(this,j,y.get("blurScope"),y.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,o=this.node.getModel(),r=o.getModel("label"),l=this.node.getLayout(),d=l.endAngle-l.startAngle,c=(l.startAngle+l.endAngle)/2,h=Math.cos(c),v=Math.sin(c),m=this,label=m.getTextContent(),x=this.node.dataIndex,_=r.get("minAngle")/180*Math.PI,N=r.get("show")&&!(null!=_&&Math.abs(d)<_);function O(e,t){var o=e.get(t);return null==o?r.get(t):o}label.ignore=!N,n.each(f.a,(function(r){var f="normal"===r?o.getModel("label"):o.getModel([r,"label"]),_="normal"===r,N=_?label:label.ensureState(r),text=e.getFormattedLabel(x,r);_&&(text=text||t.node.name),N.style=Object(y.c)(f,{},null,"normal"!==r,!0),text&&(N.style.text=text);var M=f.get("show");null==M||_||(N.ignore=!M);var S,j=O(f,"position"),L=_?m:m.states[r],D=L.style.fill;L.textConfig={outsideFill:"inherit"===f.get("color")?D:null,inside:"outside"!==j};var T=O(f,"distance")||0,R=O(f,"align"),A=O(f,"rotate"),C=.5*Math.PI,V=1.5*Math.PI,P=Object(w.a)("tangential"===A?Math.PI/2-c:c),k=P>C&&!Object(I.l)(P-C)&&P<V;"outside"===j?(S=l.r+T,R=k?"right":"left"):R&&"center"!==R?"left"===R?(S=l.r0+T,R=k?"right":"left"):"right"===R&&(S=l.r-T,R=k?"left":"right"):(S=d===2*Math.PI&&0===l.r0?0:(l.r+l.r0)/2,R="center"),N.style.align=R,N.style.verticalAlign=O(f,"verticalAlign")||"middle",N.x=S*h+l.cx,N.y=S*v+l.cy;var E=0;"radial"===A?E=Object(w.a)(-c)+(k?Math.PI:0):"tangential"===A?E=Object(w.a)(Math.PI/2-c)+(k?Math.PI:0):n.isNumber(A)&&(E=A*Math.PI/180),N.rotation=Object(w.a)(E)})),label.dirtyStyle()},t}(h.a),N=o(140),O=o(123),M="sunburstRootToNode",S="sunburstHighlight",j="sunburstUnhighlight";var L=o(45),D=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(r.a)(t,e),t.prototype.render=function(e,t,o,r){var l=this;this.seriesModel=e,this.api=o,this.ecModel=t;var data=e.getData(),d=data.tree.root,c=e.getViewRoot(),h=this.group,f=e// Removed for static mirror,l.virtualPiece.on("click",(function(e){l._rootToNode(n.parentNode)}))):l.virtualPiece&&(h.remove(l.virtualPiece),l.virtualPiece=null)}(d,c),this._initEvents(),this._oldChildren=y},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var o=!1;e.seriesModel.getViewRoot().eachNode((function(r){if(!o&&r.piece&&r.piece===t.target){var n=r.getModel().get("nodeClick");if("rootToNode"===n)e._rootToNode(r);else if("link"===n){var l=r.getModel(),link=l.get("link");if(link){var d=l.get("target",!0)||"_blank";Object(L.k)(link,d)}}o=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:M,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var o=t.getData().getItemLayout(0);if(o){var r=e[0]-o.cx,n=e[1]-o.cy,l=Math.sqrt(r*r+n*n);return l<=o.r&&l>=o.r0}},t.type="sunburst",t}(l.a),T=D,R=o(35),A=o(359),C=o(38),V=o(523),P=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.ignoreStyleOnData=!0,o}return Object(r.a)(t,e),t.prototype.getInitialData=function(option,e){var t={name:option.name,children:option.data};k(t);var o=this._levelModels=n.map(option.levels||[],(function(t){return new C.a(t,this,e)}),this),r=A.a.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t),l=o[n.depth];return l&&(e.parentModel=l),e}))}));return r.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return o.treePathInfo=Object(O.d)(r,this),o},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Object(V.a)(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(R.b);function k(e){var t=0;n.each(e.children,(function(e){k(e);var o=e.value;n.isArray(o)&&(o=o[0]),t+=o}));var o=e.value;n.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),n.isArray(e.value)?e.value[0]=o:e.value=o}var E=P,G=Math.PI/180;function z(e,t,o){t.eachSeriesByType(e,(function(e){var t=e.get("center"),r=e.get("radius");n.isArray(r)||(r=[0,r]),n.isArray(t)||(t=[t,t]);var l=o.getWidth(),d=o.getHeight(),c=Math.min(l,d),h=Object(I.q)(t[0],l),f=Object(I.q)(t[1],d),y=Object(I.q)(r[0],c/2),v=Object(I.q)(r[1],c/2),m=-e.get("startAngle")*G,x=e// Removed for static mirror;null!=O&&B(_,O);var M=0;n.each(_.children,(function(e){!isNaN(e.getValue())&&M++}));var S=_.getValue(),j=Math.PI/(S||M)*2,L=_.depth>0,D=_.height-(L?-1:1),T=(v-y)/(D||1),R=e.get("clockwise"),A=e.get("stillShowZeroSum"),C=R?1:-1,V=function(t,o){if(t){var r=o;if(t!==w){var l=t.getValue(),d=0===S&&A?j:l*j;d<x&&(d=x),r=o+C*d;var v=t.depth-N-(L?-1:1),m=y+T*v,_=y+T*(v+1),O=e.getLevelModel(t);if(O){var M=O.get("r0",!0),D=O.get("r",!0),P=O// Removed for static mirror{var e=(a.getValue()-b.getValue())*(r?1:-1);return 0===e?(a.dataIndex-b.dataIndex)*(r?-1:1):e}))}(o,t),o.length&&n.each(e.children,(function(e){B(e,t)}))}var H=o(47);function W(e){var t={};e.eachSeriesByType("sunburst",(function(e){var data=e.getData(),o=data.tree;o.eachNode((function(r){var style=r.getModel().getModel("itemStyle").getItemStyle();style.fill||(style.fill=function(e,o,r){for(var l=e;l&&l.depth>1;)l=l.parentNode;var d=o.getColorFromPalette(l.name||l.dataIndex+"",t);return e.depth>1&&Object(n.isString)(d)&&(d=Object(H.lift)(d,(e.depth-1)/(r-1)*.5)),d}(r,e,o.root.height));var l=data.ensureUniqueItemVisual(r.dataIndex,"style");Object(n.extend)(l,style)}))}))}var X=o(233);function Y(e){e.registerChartView(T),e.registerSeriesModel(E),e.registerLayout(Object(n.curry)(z,"sunburst")),e.registerProcessor(Object(n.curry)(X.a,"sunburst")),e.registerVisual(W),function(e){e.registerAction({type:M,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,o){var r=Object(O.c)(e,[M],t);if(r){var n=t.getViewRoot();n&&(e.direction=Object(O.a)(n,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}))})),e.registerAction({type:S,update:"none"},(function(e,t,o){e=Object(n.extend)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var o=Object(O.c)(e,[S],t);o&&(e.dataIndex=o.node.dataIndex)})),o.dispatchAction(Object(n.extend)(e,{type:"highlight"}))})),e.registerAction({type:j,update:"updateView"},(function(e,t,o){e=Object(n.extend)({},e),o.dispatchAction(Object(n.extend)(e,{type:"downplay"}))}))}(e)}},1910:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var r=o(1),n=o(440),l=o(55),d=o(42),c=o(96),h=o(8),f=o(14),y=o(0),v=o(140),m=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._layers=[],o}return Object(r.a)(t,e),t.prototype.render=function(e,t,o){var data=e.getData(),r=this,m=this.group,x=e.getLayerSeries(),w=data.getLayout("layoutInfo"),rect=w.rect,I=w.boundaryGap;function _(e){return e.name}m.x=0,m.y=rect.y+I[0];var N=new v.a(this._layersSeries||[],x,_,_),O=[];function M(t,o,y){var v=r._layers;if("remove"!==t){for(var style,polygon,w=[],I=[],_=x[o].indices,N=0;N<_.length;N++){var M=data.getItemLayout(_[N]),S=M.x,j=M.y0,L=M.y;w.push(S,j),I.push(S,j+L),style=data.getItemVisual(_[N],"style")}var D=data.getItemLayout(_[0]),T=e.getModel("label").get("margin"),R=e.getModel("emphasis");if("add"===t){var A=O[o]=new l.a;polygon=new n.a({shape:{points:w,stackedOnPoints:I,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),A.add(polygon),m.add(A),e.isAnimationEnabled()&&polygon.setClipPath(function(rect,e,t){var o=new c.a({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return d.c(o,{shape:{x:rect.x-50,width:rect.width+100,height:rect.height+20}},e,t),o}(polygon.getBoundingRect(),e,(function(){polygon.removeClipPath()})))}else{A=v[y];polygon=A.childAt(0),m.add(A),O[o]=A,d.h(polygon,{shape:{points:w,stackedOnPoints:I}},e),Object(d.g)(polygon)}Object(f.g)(polygon,Object(f.e)(e),{labelDataIndex:_[N-1],defaultText:data.getName(_[N-1]),inheritColor:style.fill},{normal:{verticalAlign:"middle"}}),polygon.setTextConfig({position:null,local:!0});var C=polygon.getTextContent();C&&(C.x=D.x-T,C.y=D.y0+D.y/2),polygon.useStyle(style),data.setItemGraphicEl(o,polygon),Object(h.I)(polygon,e),Object(h.J)(polygon,R.get("focus"),R.get("blurScope"),R.get("disabled"))}else m.remove(v[o])}N.add(Object(y.bind)(M,this,"add")).update(Object(y.bind)(M,this,"update")).remove(Object(y.bind)(M,this,"remove")).execute(),this._layersSeries=x,this._layers=O},t.type="themeRiver",t}(o(34).a);var x=m,w=o(35),I=o(193),_=o(260),N=o(84),O=o(5),M=o(232),S=o(54),j=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(r.a)(t,e),t.prototype.init=function(option){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new M.a(y.bind(this.getData,this),y.bind(this.getRawData,this))},t.prototype.fixData=function(data){var e=data.length,t={},o=Object(O.j)(data,(function(e){return t.hasOwnProperty(e[0]+"")||(t[e[0]+""]=-1),e[2]})),r=[];o.buckets.each((function(e,t){r.push({name:t,dataList:e})}));for(var n=r.length,l=0;l<n;++l){for(var d=r[l].name,c=0;c<r[l].dataList.length;++c){var h=r[l].dataList[c][0]+"";t[h]=l}for(var h in t)t.hasOwnProperty(h)&&t[h]!==l&&(t[h]=l,data[e]=[h,0,d],e++)}return data},t.prototype.getInitialData=function(option,e){for(var t=this.getReferringComponents("singleAxis",O.b).models[0]// Removed for static mirror(t)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new N.a(d,this);return c.initData(data),c},t.prototype.getLayerSeries=function(){for(var data=this.getData(),e=data.count(),t=[],i=0;i<e;++i)t[i]=i;var o=data.mapDimension("single"),r=Object(O.j)(t,(function(e){return data// Removed for static mirror,e);return Object(S.c)("nameValue",{name:r,value:n})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(w.b),L=j,D=o(4);function T(e,t){e.eachSeriesByType("themeRiver",(function(e){var data=e.getData(),t=e.coordinateSystem,o={},rect=t.getRect();o.rect=rect;var r=e.get("boundaryGap"),n=t.getAxis();(o.boundaryGap=r,"horizontal"===n.orient)?(r[0]=D.q(r[0],rect.height),r[1]=D.q(r[1],rect.height),R(data,e,rect.height-r[0]-r[1])):(r[0]=D.q(r[0],rect.width),r[1]=D.q(r[1],rect.width),R(data,e,rect.width-r[0]-r[1]));data.setLayout("layoutInfo",o)}))}function R(data,e,t){if(data.count())for(var o,r=e.coordinateSystem,n=e.getLayerSeries(),l=data.mapDimension("single"),d=data.mapDimension("value"),c=y.map(n,(function(e){return y.map(e.indices,(function(e){var t=r.dataToPoint(data.get(l,e));return t[1]=data.get(d,e),t}))})),base=function(data){for(var e=data.length,t=data[0].length,o=[],r=[],n=0,i=0;i<t;++i){for(var l=0,d=0;d<e;++d)l+=data[d][i][1];l>n&&(n=l),o.push(l)}for(var c=0;c<t;++c)r[c]=(n-o[c])/2;n=0;for(var h=0;h<t;++h){var f=o[h]+r[h];f>n&&(n=f)}return{y0:r,max:n}}(c),h=base.y0,f=t/base.max,v=n.length,m=n[0].indices.length,x=0;x<m;++x){o=h[x]*f,data.setItemLayout(n[0].indices[x],{layerIndex:0,x:c[0][x][0],y0:o,y:c[0][x][1]*f});for(var i=1;i<v;++i)o+=c[i-1][x][1]*f,data.setItemLayout(n[i].indices[x],{layerIndex:i,x:c[i][x][0],y0:o,y:c[i][x][1]*f})}}var A=o(233);function C(e){e.registerChartView(x),e.registerSeriesModel(L),e.registerLayout(T),e.registerProcessor(Object(A.a)("themeRiver"))}},1912:function(e,t,o){"use strict";o.d(t,"a",(function(){return w}));var r=o(27),n=o(1),l=o(127),d=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.hasSymbolVisual=!0,o}return Object(n.a)(t,e),t.prototype.getInitialData=function(option,e){return Object(l.a)(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this// Removed for static mirror.b),c=d,h=o(230),f=o(1043),y=o(231),v=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return Object(n.a)(t,e),t.prototype.render=function(e,t,o){var data=e.getData();this._updateSymbolDraw(data,e).updateData(data,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,o){var data=e.getData();this._updateSymbolDraw(data,e).incrementalPrepareUpdate(data),this._finished=!1},t.prototype.incrementalRender=function(e,t,o){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,o){var data=e.getData();if(this.group.dirty(),!this._finished||data.count()>1e4)return{update:!0};var r=Object(y.a)("").reset(e,t,o);r.progress&&r.progress({start:0,end:data.count(),count:data.count()},data),this._symbolDraw.updateLayout(data)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e// Removed for static mirror.a),m=v,x=o(519);function w(e){Object(r.a)(x.a),e.registerSeriesModel(c),e.registerChartView(m),e.registerLayout(Object(y.a)("scatter"))}}}]);