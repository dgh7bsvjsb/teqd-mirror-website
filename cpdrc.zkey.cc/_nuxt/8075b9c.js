(window.webpackJsonp=window.webpackJsonp||[]).push([[557],{1479:function(e,t,o){"use strict";o(892)},1480:function(e,t,o){var r=o(15)((function(i){return i[1]}));r.push([e.i,".cke_top{background:#fff!important;border-bottom:1px solid #dcdfe6!important}",""]),r.locals={},e.exports=r},1481:function(e,t,o){"use strict";o(893)},1482:function(e,t,o){var r=o(15)((function(i){return i[1]}));r.push([e.i,".task-form-title[data-v-049172ec]{background-color:#f2f2f2;border-left:5px solid #409eff;border-left:5px solid var(--primary);color:#409eff;color:var(--primary);font-size:16px;line-height:1.5;margin-bottom:20px;padding:10px 16px}",""]),r.locals={},e.exports=r},1483:function(e,t,o){"use strict";o(894)},1484:function(e,t,o){var r=o(15)((function(i){return i[1]}));r.push([e.i,".el-menu-scrollbar .el-scrollbar-body[data-v-69d1b0d9]{display:inline-block;min-width:100%}.content-box-left-shade[data-v-69d1b0d9]{border-right:1px solid #eee;height:100%;position:relative;width:200px}.move-border[data-v-69d1b0d9]{position:absolute;width:5px;z-index:1}.move-border[data-v-69d1b0d9],.shade-div[data-v-69d1b0d9]{bottom:0;cursor:e-resize;right:0;top:0}.shade-div[data-v-69d1b0d9]{left:0;position:fixed;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;z-index:9999}",""]),r.locals={},e.exports=r},1485:function(e,t,o){"use strict";o(895)},1486:function(e,t,o){var r=o(15)((function(i){return i[1]}));r.push([e.i,"",""]),r.locals={},e.exports=r},1514:function(e,t,o){"use strict";o(908)},1515:function(e,t,o){var r=o(15)((function(i){return i[1]}));r.push([e.i,".code-popover-box[data-v-4ed4a4c0]{display:inline-block}.img-box[data-v-4ed4a4c0]{margin-top:15px;text-align:center}.img-box img[data-v-4ed4a4c0]{cursor:pointer;width:100px}.img-input[data-v-4ed4a4c0] input{text-align:center}",""]),r.locals={},e.exports=r},1516:function(e,t,o){"use strict";o(909)},1517:function(e,t,o){var r=o(15)((function(i){return i[1]}));r.push([e.i,".code-popover-box[data-v-5470b4ff]{display:inline-block}.img-box[data-v-5470b4ff]{margin-top:15px;text-align:center}.img-box img[data-v-5470b4ff]{cursor:pointer;width:100px}.img-input[data-v-5470b4ff] input{text-align:center}",""]),r.locals={},e.exports=r},498:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98),core_js_modules_es6_number_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(173),core_js_modules_es6_number_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_number_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89),core_js_modules_es6_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_regexp_replace_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63),core_js_modules_es6_regexp_replace_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_replace_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(48),core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_regexp_match_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(161),core_js_modules_es6_regexp_match_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_match_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es7_array_includes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46),core_js_modules_es7_array_includes_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es7_array_includes_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_string_iterator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(160),core_js_modules_es6_string_iterator_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_string_iterator_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(146),core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_9__),element_ui_lib_utils_popup__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(420),element_ui_lib_utils_popup__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(element_ui_lib_utils_popup__WEBPACK_IMPORTED_MODULE_10__);__webpack_exports__.a={name:"ckeditor4",props:Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({value:{type:String,default:""},readOnly:{type:Boolean,default:!1},fullPage:{type:Boolean,default:!1},placeholder:{type:String,default:""},height:{type:Number,default:200},type:String,title:String},"placeholder",String),"full",{type:Boolean,default:!0}),"toolbar",{type:Array,default:function(){return[]}}),data:function(){return{fullToolbar:[{name:"document",items:["Source","-","ExportPdf","Print","-","Templates"]},{name:"clipboard",items:["Cut","Copy","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","Scayt"]},{name:"forms",items:["CreateDiv","Form","Checkbox","Radio","TextField","Textarea","Select","Button","ImageButton","HiddenField"]},"/",{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","CopyFormatting","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","textindent","-","Blockquote","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl","Language"]},{name:"styles",items:["Styles","Format","Font","FontSize","lineheight"]},{name:"colors",items:["TextColor","BGColor"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["kityformula","CreatePlaceholder","Image","Video","ReUpload","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"]},{name:"tools",items:["Maximize","ShowBlocks"]}],simpleToolbar:[{name:"document",items:["Source"]},{name:"basicstyles",items:["Bold","Italic"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","textindent","-","Blockquote"]},{name:"styles",items:["Font","FontSize","lineheight"]},{name:"colors",items:["TextColor"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["kityformula","CreatePlaceholder","Image","Video","HorizontalRule"]}],inputValue:this.value||"",editorModal:{show:!1,mode:""},ckeditorid:0,ckeditor:null,editorConfig:{skin:"moono-lisa",height:this.height,editorplaceholder:this.placeholder,image_previewText:" ",filebrowserUploadUrl:"/api/file/file/ckeUploadPublic?path=cke",imageUploadUrl:"/api/file/file/ckeUploadPublic?path=cke",pasteTools_keepZeroMargins:!1,forcePasteAsPlainText:!1,allowedContent:!0,pasteFromWordRemoveFontStyles:!1,pasteFromWordRemoveStyles:!1,readOnly:this.readOnly,div_wrapTable:!0,extraPlugins:["placeholder","lineheight","textindent","uploadimage","reupload","video","kityformula"],language:"zh-cn",toolbarCanCollapse:!0,customConfig:"",fullPage:this.fullPage,toolbar:[],baseFloatZIndex:element_ui_lib_utils_popup__WEBPACK_IMPORTED_MODULE_10__.PopupManager.nextZIndex()+20}}},created:function(){},mounted:function(){this.ckeditorid=parseInt(1e4*Math.random()).toString(),"input"!=this.type&&this.setEditor()},watch:{value:function(){var e=this;this.inputValue=this.value||"",this.ckeditor&&this.value!==this.ckeditor.getData()&&("input"!=this.type||this.editorModal.show)&&(this.ckeditor&&this.ckeditor.config&&(this.editorConfig.baseFloatZIndex=element_ui_lib_utils_popup__WEBPACK_IMPORTED_MODULE_10__.PopupManager.nextZIndex()+20,this.ckeditor.config.baseFloatZIndex=this.editorConfig.baseFloatZIndex),this.ckeditor.setData(this.inputValue),setTimeout((function(){e.ckeditor.setData(e.inputValue)}),500))},inputValue:function(e,t){this.$emit("input",e)}},methods:{getToolbar:function(){var e=this.toolbar||[];return e&&e.length>0||(e=this.full?this.fullToolbar:this.simpleToolbar),e},showEditor:function(){this.editorModal.show=!0,this.setEditor()},setEditor:function(){var e=this;this.$nextTick((function(){setTimeout((function(){e.editorConfig.toolbar=e.getToolbar(),e.ckeditor=CKEDITOR.replace(e.ckeditorid,e.editorConfig),e.ckeditor&&(e.ckeditor.addCommand("cmd_reupload",{exec:function(t){e.checkImageUrl(t.getData(),!0,(function(t){t||e.$alert("未检测到加载失败的图片","提示")}))}}),e.ckeditor.setData(e.value),e.ckeditor.on("change",(function(){setTimeout((function(){e.$emit("input",e.ckeditor.getData())}),500)})),e.ckeditor.on("paste",(function(t){for(var i=0;i<t.data.dataTransfer.getFilesCount();i++){var o=t.data.dataTransfer.getFile(i);CKEDITOR.fileTools.isTypeSupported(o,/image/)&&r(t,o)}function r(t,o){var r=e.ckeditor.uploadRepository.create(o);r.on("error",(function(e){console.info(e)})),r.loadAndUpload(e.editorConfig.imageUploadUrl)}e.checkImageUrl(t.data.dataValue,!0)})),e.ckeditor.on("mode",(function(t){"source"==e.editorModal.mode&&"wysiwyg"==t.editor.mode&&e.checkImageUrl(t.editor.getData(),!0),e.editorModal.mode=t.editor.mode})))}),300),CKEDITOR.on("dialogDefinition",(function(t){var o=t.data.name,r=t.data.definition;"image"!=o&&"link"!=o&&"imagebutton"!=o&&"video"!=o||(r.getContents("info").get("browse").onClick=function(){var dialog=this.getDialog();dialog.getParentEditor();e.editorConfig.baseFloatZIndex+=20;var t=[];"image"==o||"imagebutton"==o?t=["jpg","jpeg","gif","png","ico"]:"video"==o&&(t=["mp3","mp4","mov"]),e.fileView({z_index:e.editorConfig.baseFloatZIndex,exts:t,page:!0,done:function(e){var t=e.url,r=e.originalFilename;"link"==o?(dialog.getContentElement("info","url").setValue(t),dialog.getContentElement("info","linkDisplayText").setValue(r)):"video"==o?dialog.getContentElement("info","src").setValue(t):(dialog.getContentElement("info","txtUrl").setValue(t),dialog.getContentElement("info","txtAlt").setValue(r))}})})}))}))},checkImageUrl:function checkImageUrl(html,check,callback){if(html){var self=this,imgReg=/<img.*?(?:>|\/>)/gi,fileUrls=[],uFileUrls=[],fileUrlCount=0,arr=html.match(imgReg),uploadLoding;if(check||(uploadLoding=self.$loading({lock:!0,text:"正在上传",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})),html&&arr&&arr.length>0){check&&(uploadLoding=self.$loading({lock:!0,text:"正在检测",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));for(var srcReg=/[^>]* src=[\'\"]?([^\'\"]*)[\'\"]?/i,srcArr=[],i=0;i<arr.length;i++){var src=arr[i].match(srcReg);src&&src[1]&&0==src[1].indexOf("http")&&!srcArr.includes(src[1])&&srcArr.push(src[1])}var imgErrorTotal=0;if(srcArr.length>0){for(var promiseAll=[],img=[],imgTotal=srcArr.length,_loop=function(e){promiseAll[e]=new Promise((function(t,o){img[e]=new Image,img[e].src=srcArr[e],img[e].onload=function(e){this.src.indexOf("mmbiz.qpic.cn")>-1||this.src.indexOf("pics0.baidu.com")>-1?t({check:!1,src:this.src}):t({check:!0,src:this.src})},img[e].onerror=function(e){t({check:!1,src:this.src})}}))},_i=0;_i<imgTotal;_i++)_loop(_i);promiseAll.length>0?Promise.all(promiseAll).then((function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var img=e[t];if(!img.check){var o=img.src;fileUrls.push(o),check||pasteWebUrlUpload(o),imgErrorTotal+=1}}})).catch((function(){})).finally((function(){isUpload(imgErrorTotal)})):isUpload(imgErrorTotal)}else isUpload(imgErrorTotal)}}function isUpload(e){check&&uploadLoding&&uploadLoding.close(),check&&e>0?(self.$confirm("检测到 "+e+" 张加载失败的图片, 是否重新加载?","提示",{confirmButtonText:"重新加载",cancelButtonText:"取消",type:"warning"}).then((function(){self.checkImageUrl(html)})).catch((function(){})),"function"==typeof callback&&callback(!0)):check&&"function"==typeof callback&&callback(!1)}function pasteWebUrlUpload(e){self.webUrlUpload(e,pasteReplaceFileUrl)}function pasteReplaceFileUrl(res){uFileUrls.push(res);var notification=new CKEDITOR.plugins.notification(self.ckeditor,{message:"文件上传成功",type:"success"});if(0==res.uploaded&&(notification=new CKEDITOR.plugins.notification(self.ckeditor,{message:res.error.message,type:"warning"})),notification.show(),fileUrlCount==fileUrls.length-1){for(var dataValue=self.ckeditor.getData(),index=0;index<uFileUrls.length;index++){var element=uFileUrls[index];if(element.originalFileUrl){var originalFileUrl=escapeQueryChars(element.originalFileUrl),regexp1=eval("/"+originalFileUrl+"/g");dataValue=dataValue.replace(regexp1,element.url)}}self.ckeditor.setData(dataValue),uploadLoding.close()}else fileUrlCount+=1}function isHasImg(e,t,o){if(e.indexOf("mmbiz.qpic.cn")>-1)o(e,t,!1);else{var r=new Image;r.onerror=function(r){console.info("onerror",r),"function"==typeof o&&o(e,t,!1)},r.onload=function(r){console.info("onload",r),"function"==typeof o&&o(e,t,!0)},r.src=e,r.fileSize>0||r.width>0&&r.height>0?(o(e,t,!0),o=void 0):(o(e,t,!1),o=void 0)}}function escapeQueryChars(q){var e="";if(null==q||""===q||""===q)return"*:*";for(var i=0;i<q.length;i++){var t=q.charAt(i);"\\"!=t&&"+"!=t&&"-"!=t&&"!"!=t&&"("!=t&&")"!=t&&":"!=t&&"^"!=t&&"["!=t&&"]"!=t&&'"'!=t&&"{"!=t&&"}"!=t&&"~"!=t&&"*"!=t&&"?"!=t&&"|"!=t&&"&"!=t&&";"!=t&&"/"!=t&&" "!=t||(e+="\\"),e+=t}return e}},interSectionText:function(text){var e=this;e.ckeditor&&(e.ckeditor.insertText(text),e.$nextTick((function(){e.ckeditor.focus()})))},beforeCloseFun:function(e){this.destroyCkeditor(),e()},destroyCkeditor:function(){if(this.ckeditor){var e=CKEDITOR.instances[this.ckeditor.name];e&&(e.removeAllListeners(),CKEDITOR.remove(e)),this.ckeditor=""}},webUrlUpload:function(e,t){e&&this.$axios({method:"post",url:"/file/file/uploadWebFileToPublic?fileUrl="+encodeURIComponent(e)+"&path=cke"}).then((function(e){e.error,t(e)}))}},beforeDestroy:function(){try{this.ckeditor&&this.ckeditor.destroy()}catch(e){console.log(e)}}}},499:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_array_includes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46),core_js_modules_es7_array_includes_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_array_includes_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(159),core_js_modules_es6_array_find_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48),core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50),core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(146),core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_4__),_components_common_monacoEditor__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(337);__webpack_exports__.a={props:{value:{type:Object},showComment:Boolean,commentTip:String,form:Array,labelWidth:String,defaultData:Object,disabled:Boolean,commentText:String,commentRequired:Boolean,labelSuffix:String,formTemplate:String},components:{monacoEditor:_components_common_monacoEditor__WEBPACK_IMPORTED_MODULE_5__.default},data:function(){return{codeTemp:{},layForm:""}},computed:{formList:function(){for(var e=[{form:[]}],t=[],i=0;i<this.form.length;i++){var o=JSON.parse(JSON.stringify(this.form[i]));if("array"==o.typeName&&this.$set(this.codeTemp,o.id,""),!this.value[o.id]&&o.value&&o.value.value&&(this.$set(this.value,o.id,o.value.value),"array"==o.typeName))if("string"==typeof o.value.value){this.$set(this.codeTemp,o.id,o.value.value);try{delete this.value[o.id],this.$set(this.value,o.id,JSON.parse(o.value.value))}catch(e){console.log(e)}}else this.$set(this.codeTemp,o.id,JSON.stringify(o.value.value));o.properties||this.$set(o,"properties",{}),o.properties.class?(t.includes(o.properties.class)||(t.push(o.properties.class),e.push({title:o.properties.class,form:[]})),e[t.indexOf(o.properties.class)+1].form.push(o)):e[0].form.push(o)}return e}},mounted:function(){this.formTemplate&&this.renderFormTemplate(),"comment"in this.value||this.$set(this.value,"comment","")},methods:{renderFormTemplate:function(){var e=this,element=this.$refs.customForm;$(element).html(this.formTemplate),this.layForm||layui.use("form",(function(){var form=e.layForm=layui.form;form.render(),form.on("select()",(function(data){e.getFormData()})),form.on("checkbox()",(function(data){e.getFormData()})),form.on("radio()",(function(data){e.getFormData()})),form.on("switch()",(function(data){e.getFormData()})),$(element).find("input").change((function(){e.getFormData()}))}))},getFormData:function(){var element=this.$refs.customForm,form=$($(element).find("form")),e=form.serializeArray(),data={};return form.find("input[type=checkbox]").each((function(){var e=$(this).attr("name");data[e]||(data[e]=[])})),e.forEach((function(e){"checkbox"==$(form.find("[name=".concat(e.name,"]"))).attr("type")?(data[e.name]||(data[e.name]=[]),e.value&&data[e.name].push(e.value)):data[e.name]=e.value})),data.comment=data.comment||this.value.comment||"",this.$emit("input",Object.assign({},this.value,data)),data},getItems:function(e){var t=[];if(e.type.values)for(var i in e.type.values)t.push({value:i,title:e.type.values[i]});if(0==t.length&&e.properties.items)try{var o=JSON.parse(e.properties.items);for(i=0;i<o.length;i++)t.push(o[i])}catch(e){console.log(e)}return t},getRules:function getRules(item){var rules=[];if(item.validationConstraints){"long"==item.typeName&&rules.push({type:"number",message:"请输入数字值"}),"array"==item.typeName&&rules.push({validator:this.checkJSON});for(var i=0;i<item.validationConstraints.length;i++){var temp=item.validationConstraints[i];"required"==temp.name&&"boolean"!=item.typeName&&rules.push({required:!0,message:(item.label||item.id)+"不能为空"}),"min"==temp.name&&rules.push({value:temp.configuration,validator:function(e,t,o){return(t||0===t)&&t<e.value?o(new Error):o()},message:(item.label||item.id)+"值不能小于"+temp.configuration}),"max"==temp.name&&rules.push({value:temp.configuration,validator:function(e,t,o){return(t||0===t)&&t>e.value?o(new Error):o()},message:(item.label||item.id)+"值不能大于"+temp.configuration}),"rules"==temp.name&&console.log(temp)}}if(item.properties&&item.properties.rules)try{for(var rulesTemp=JSON.parse(item.properties.rules),i=0;i<rulesTemp.length;i++)rulesTemp[i].reg&&rules.push({value:rulesTemp[i].reg,validator:function validator(rule,value,callback){if(!value)return callback();try{var reg=eval(rule.value);return reg.test(value)?callback():callback(new Error)}catch(e){return callback()}},message:rulesTemp[i].message})}catch(e){}return rules},checkJSON:function(e,t,o){var r=this.codeTemp[e.field];if(!r)return o();try{var n=JSON.parse(r);return this.$set(this.value,e.field,n),o()}catch(e){return console.log(e),o(new Error("请输入正确格式"))}},validate:function(e){var t=this;this.formTemplate?(this.getFormData(),this.$nextTick((function(){return t.layFormVerify()?e(!0):e(!1)}))):this.$refs.task.validate(e)},layFormVerify:function(){if(!verify)return!0;for(var i in verify){var e=verify[i]("_data"==i?this.value:this.value[i]);if(e)return void this.$message.error(e)}return!0},clearValidate:function(e){this.$refs.task.clearValidate(e)}},watch:{value:function(e,t){"comment"in e||this.$set(this.value,"comment","")}}}},705:function(e,t,o){"use strict";o.r(t);var r=o(498).a,n=(o(1479),o(10)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",["input"==e.type?t("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[t("el-button",{attrs:{slot:"append"},on:{click:e.showEditor},slot:"append"},[e._v("编辑器")])],1):t("textarea",{attrs:{id:e.ckeditorid}}),e._v(" "),t("el-dialog",{attrs:{title:e.title||"富文本编辑器",visible:e.editorModal.show,"append-to-body":"","destroy-on-close":"",top:"5vh","before-close":e.beforeCloseFun},on:{"update:visible":function(t){return e.$set(e.editorModal,"show",t)}}},[e.editorModal.show?t("div",[t("textarea",{attrs:{id:e.ckeditorid,placeholder:e.placeholder}})]):e._e(),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.editorModal.show=!1}}},[e._v("关闭")])],1)])],1)}),[],!1,null,null,null);t.default=component.exports},710:function(e,t,o){"use strict";o.r(t);o(46);var r=o(499).a,n=(o(1481),o(10)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bpmn-form-box"},[e.formTemplate?t("div",{ref:"customForm",staticClass:"bpmn-custom-form"}):t("el-form",{ref:"task",attrs:{size:"small",model:e.value,"label-width":e.labelWidth||"100px",disabled:e.disabled,"label-suffix":e.labelSuffix}},e._l(e.formList,(function(o){return t("div",{staticClass:"task-form-box"},[o.title?t("div",{staticClass:"task-form-title"},[e._v(e._s(o.title))]):e._e(),e._v(" "),t("div",{staticClass:"task-form-content"},[e._l(o.form,(function(i){return i.properties.hide?e._e():t("el-form-item",{key:i.id,style:2==i.properties.column?"width:50%;display:inline-block":3==i.properties.column?"width:33.3%;display:inline-block":"",attrs:{label:i.label||i.id,prop:i.id,rules:e.getRules(i)}},["boolean"==i.typeName?t("el-switch",{model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,t)},expression:"value[i.id]"}}):"enum"==i.typeName||"string"==i.typeName&&["enum","radio","select"].includes(i.properties.type)?["radio"==i.properties.type?t("el-radio-group",{model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,t)},expression:"value[i.id]"}},e._l(e.getItems(i),(function(o,r){return t("el-radio",{key:o.value,attrs:{label:o.value}},[e._v(e._s(o.title))])})),1):t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:i.properties.placeholder||"请选择","allow-create":!!i.properties.allowCreate||void 0},model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,t)},expression:"value[i.id]"}},e._l(e.getItems(i),(function(e,o){return t("el-option",{key:e.value,attrs:{value:e.value,label:e.title}})})),1)]:"date"==i.typeName||"string"==i.typeName&&"date"==i.properties.type?t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:i.properties.dateType||"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:i.properties.placeholder||"请选择"},model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,t)},expression:"value[i.id]"}}):"file"==i.typeName?[t("local-upload",{attrs:{accept:i.properties.accept||void 0,private:"",showFile:"",fileObj:"",multiple:!!i.properties.multiple||void 0,disabled:e.disabled,size:i.properties.size||void 0},model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,t)},expression:"value[i.id]"}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)]:"array"==i.typeName?["array"==i.typeName?t("monaco-editor",{staticStyle:{height:"300px"},model:{value:e.codeTemp[i.id],callback:function(t){e.$set(e.codeTemp,i.id,t)},expression:"codeTemp[i.id]"}}):e._e()]:"long"==i.typeName?t("el-input",{attrs:{placeholder:i.properties.placeholder,type:i.properties.type||void 0,disabled:!!i.properties.disabled||void 0,maxlength:"16"},model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,e._n(t))},expression:"value[i.id]"}}):t("el-input",{attrs:{placeholder:i.properties.placeholder,type:i.properties.type||void 0,disabled:!!i.properties.disabled||void 0,readonly:!!i.properties.readonly||void 0,rows:"textarea"==i.properties.type?"5":""},model:{value:e.value[i.id],callback:function(t){e.$set(e.value,i.id,t)},expression:"value[i.id]"}}),e._v(" "),i.properties.tip?t("p",{domProps:{innerHTML:e._s(i.properties.tip)}}):e._e()],2)})),e._v(" "),e.showComment&&!o.title?t("el-form-item",{attrs:{label:e.commentText||"审核意见",prop:"comment",rules:e.commentRequired?[{required:!0,message:"请输入".concat(e.commentText||"审核意见")}]:void 0}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.value.comment,callback:function(t){e.$set(e.value,"comment",t)},expression:"value.comment"}}),e._v(" "),e.commentTip?t("p",{domProps:{innerHTML:e._s(e.commentTip)}}):e._e()],1):e._e()],2)])})),0)],1)}),[],!1,null,"049172ec",null);t.default=component.exports},746:function(e,t,o){"use strict";o.r(t);o(63);var r={props:{width:{type:String,default:"200px"},height:{type:String,default:" calc(100vh - 175px)"},minWidth:{type:String,default:"100px"},maxWidth:{type:String,default:"100%"}},data:function(){return{ifHideText:!1,basicsX:0,beforeMoveWidth:0,thisWidth:"200px",showShadeDiv:!1}},created:function(){this.thisWidth=this.width},methods:{mousedown:function(e){var t=window.getComputedStyle(e.currentTarget.parentElement).width;this.thisWidth=t?t.replace("px",""):this.thisWidth,this.showShadeDiv=!0,this.beforeMoveWidth=parseFloat(this.thisWidth.replace("px","")),this.basicsX=e.clientX},mousemove:function(e){var t=e.clientX-this.basicsX,o=this.beforeMoveWidth+t;o<=50?(o=50,this.ifHideText=!0):this.ifHideText=!1,this.thisWidth=o+"px"},mouseup:function(e){this.showShadeDiv=!1}}},n=(o(1483),o(1485),o(10)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-box-left content-box-left-shade",style:{width:e.thisWidth,minWidth:e.minWidth,maxWidth:e.maxWidth,height:e.height}},[t("el-scrollbar",{staticClass:"el-menu-scrollbar",staticStyle:{height:"100%"},attrs:{wrapStyle:"overflow-x:hidden;"}},[t("div",{staticClass:"el-scrollbar-body"},[e._t("default")],2)]),e._v(" "),t("div",{staticClass:"move-border",on:{mousedown:e.mousedown}}),e._v(" "),e.showShadeDiv?t("div",{staticClass:"shade-div",on:{mousemove:e.mousemove,mouseup:e.mouseup}}):e._e()],1)}),[],!1,null,"69d1b0d9",null);t.default=component.exports},748:function(e,t,o){"use strict";o.r(t);o(173);var r={props:{phone:{type:String,default:function(){return""}},type:{type:String,default:function(){return""}},sendType:{type:String,default:function(){return"login"}},times:{type:Number,default:function(){return 0}},maxTimes:{type:Number,default:function(){return 60}},text:{type:String,default:function(){return""}},size:{type:String,default:function(){return""}}},watch:{times:function(e){this.seconds=e}},data:function(){return{loading:!1,seconds:0,imageVisible:!1,data:{imageCode:"",imageNumber:"",imageCodeUrl:""}}},computed:{btnText:function(){return this.loading?"发送中...":this.seconds>0?this.seconds+"s后可重发":"获取验证码"},disabled:function(){return this.seconds>0||this.loading}},methods:{handleOnMouseDown:function(){this.imageVisible=!1},updateSeconds:function(e){this.seconds=e,this.$emit("update:times",e)},sendCode:function(){var e=this;if(this.imageVisible=!1,(this.phone||"original"==this.sendType)&&!this.disabled){this.loading=!0;var t={type:this.sendType,imageCode:this.data.imageCode,imageNumber:this.data.imageNumber};"original"!=this.sendType&&(t.phone=this.phone),this.$axios({method:"post",url:"oauth/auth/common/code/phone",data:t}).then((function(t){e.loading=!1,t.resultStatus?(e.$message.success("已发送验证码，请查收"),e.doLoop(e.maxTimes)):10031==t.status||10032==t.status||10033==t.status?(e.$message.error(t.message),e.imageVisible=!0,e.getImageCode()):10027==t.status?e.$message.error("手机号已绑定其他账号"):e.$message.error(t.message)}))}},imageCodeSubmit:function(){var e=this;this.$refs.imgForm.validate((function(t){t?e.sendCode():e.$refs.imageCode&&e.$refs.imageCode.$el.children[0].focus()}))},getImageCode:function(){var e=this;this.$nextTick((function(){e.$refs.imageCode&&e.$refs.imageCode.$el.children[0].focus()})),this.data.imageCode="";this.$axios({method:"post",url:"oauth/common/code/image",data:{}}).then((function(t){200==t.status?(e.data.imageNumber=t.result.number,e.data.imageCodeUrl=t.result.base64):e.$message.error(t.message||"错误")}))},doLoop:function(e){var t=this;e=e||this.maxTimes,this.updateSeconds(e),--e;var o=setInterval((function(){e>0?(t.updateSeconds(e),--e):(t.updateSeconds(0),clearInterval(o))}),1e3)}}},n=(o(1514),o(10)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"code-popover-box"},[t("el-popover",{directives:[{name:"click-outside",rawName:"v-click-outside:handleOnMouseDown",arg:"handleOnMouseDown"}],attrs:{placement:"bottom",width:"250",trigger:"manual","popper-options":{visible:e.imageVisible}},model:{value:e.imageVisible,callback:function(t){e.imageVisible=t},expression:"imageVisible"}},[t("el-form",{ref:"imgForm",attrs:{model:e.data,"status-icon":"",size:"medium"},nativeOn:{submit:function(t){return t.preventDefault(),e.imageCodeSubmit.apply(null,arguments)}}},[t("el-form-item",[t("div",{staticClass:"img-box"},[t("img",{attrs:{src:e.data.imageCodeUrl,title:"看不清？点击刷新"},on:{click:function(t){return e.getImageCode()}}})])]),e._v(" "),t("el-form-item",{attrs:{prop:"imageCode",rules:[{required:!0,message:"请输入图片验证码",trigger:"change"}]}},[t("el-input",{ref:"imageCode",staticClass:"img-input",attrs:{placeholder:"图片验证码",clearable:""},model:{value:e.data.imageCode,callback:function(t){e.$set(e.data,"imageCode",t)},expression:"data.imageCode"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"small"},on:{click:e.imageCodeSubmit}},[e._v("发送")])],1)],1),e._v(" "),t("el-button",{attrs:{slot:"reference",type:e.type,disabled:e.disabled,size:e.size},on:{click:e.sendCode},slot:"reference"},[e._v("\n      "+e._s(e.text||e.btnText)+"\n    ")])],1)],1)}),[],!1,null,"4ed4a4c0",null);t.default=component.exports},749:function(e,t,o){"use strict";o.r(t);o(173);var r={props:{email:{type:String,default:function(){return""}},type:{type:String,default:function(){return""}},sendType:{type:String,default:function(){return"login"}},times:{type:Number,default:function(){return 0}},maxTimes:{type:Number,default:function(){return 60}},text:{type:String,default:function(){return""}},size:{type:String,default:function(){return""}}},watch:{times:function(e){this.seconds=e}},data:function(){return{loading:!1,seconds:0,imageVisible:!1,data:{imageCode:"",imageNumber:"",imageCodeUrl:""}}},computed:{btnText:function(){return this.loading?"发送中...":this.seconds>0?this.seconds+"s后可重发":"获取验证码"},disabled:function(){return this.seconds>0||this.loading}},methods:{handleOnMouseDown:function(){this.imageVisible=!1},updateSeconds:function(e){this.seconds=e,this.$emit("update:times",e)},sendCode:function(){var e=this;if(this.imageVisible=!1,(this.email||"original"==this.sendType)&&!this.disabled){this.loading=!0;var t={type:this.sendType,imageCode:this.data.imageCode,imageNumber:this.data.imageNumber};"original"!=this.sendType&&(t.email=this.email),this.$axios({method:"post",url:"oauth/auth/common/code/email",data:t}).then((function(t){e.loading=!1,t.resultStatus?(e.$message.success("已发送验证码，请查收"),e.doLoop(e.maxTimes)):10031==t.status||10032==t.status||10033==t.status?(e.$message.error(t.message),e.imageVisible=!0,e.getImageCode()):10048==t.status?e.$message.error("邮箱已绑定其他账号"):e.$message.error(t.message)}))}},imageCodeSubmit:function(){var e=this;this.$refs.imgForm.validate((function(t){t?e.sendCode():e.$refs.imageCode&&e.$refs.imageCode.$el.children[0].focus()}))},getImageCode:function(){var e=this;this.$nextTick((function(){e.$refs.imageCode&&e.$refs.imageCode.$el.children[0].focus()})),this.data.imageCode="";this.$axios({method:"post",url:"oauth/common/code/image",data:{}}).then((function(t){200==t.status?(e.data.imageNumber=t.result.number,e.data.imageCodeUrl=t.result.base64):e.$message.error(t.message||"错误")}))},doLoop:function(e){var t=this;e=e||this.maxTimes,this.updateSeconds(e),--e;var o=setInterval((function(){e>0?(t.updateSeconds(e),--e):(t.updateSeconds(0),clearInterval(o))}),1e3)}}},n=(o(1516),o(10)),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"code-popover-box"},[t("el-popover",{directives:[{name:"click-outside",rawName:"v-click-outside:handleOnMouseDown",arg:"handleOnMouseDown"}],attrs:{placement:"bottom",width:"250",trigger:"manual","popper-options":{visible:e.imageVisible}},model:{value:e.imageVisible,callback:function(t){e.imageVisible=t},expression:"imageVisible"}},[t("el-form",{ref:"imgForm",attrs:{model:e.data,"status-icon":"",size:"medium"},nativeOn:{submit:function(t){return t.preventDefault(),e.imageCodeSubmit.apply(null,arguments)}}},[t("el-form-item",[t("div",{staticClass:"img-box"},[t("img",{attrs:{src:e.data.imageCodeUrl,title:"看不清？点击刷新"},on:{click:function(t){return e.getImageCode()}}})])]),e._v(" "),t("el-form-item",{attrs:{prop:"imageCode",rules:[{required:!0,message:"请输入图片验证码",trigger:"change"}]}},[t("el-input",{ref:"imageCode",staticClass:"img-input",attrs:{placeholder:"图片验证码",clearable:""},model:{value:e.data.imageCode,callback:function(t){e.$set(e.data,"imageCode",t)},expression:"data.imageCode"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"small"},on:{click:e.imageCodeSubmit}},[e._v("发送")])],1)],1),e._v(" "),t("el-button",{attrs:{slot:"reference",type:e.type,disabled:e.disabled,size:e.size},on:{click:e.sendCode},slot:"reference"},[e._v("\n      "+e._s(e.text||e.btnText)+"\n    ")])],1)],1)}),[],!1,null,"5470b4ff",null);t.default=component.exports},892:function(e,t,o){var content=o(1480);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("099afc1b",content,!0,{sourceMap:!1})},893:function(e,t,o){var content=o(1482);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("69460f7a",content,!0,{sourceMap:!1})},894:function(e,t,o){var content=o(1484);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("2f4c710c",content,!0,{sourceMap:!1})},895:function(e,t,o){var content=o(1486);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("23c9edd6",content,!0,{sourceMap:!1})},908:function(e,t,o){var content=o(1515);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("0ee84808",content,!0,{sourceMap:!1})},909:function(e,t,o){var content=o(1517);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(16).default)("5b7ce41b",content,!0,{sourceMap:!1})}}]);