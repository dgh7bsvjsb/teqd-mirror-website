(window.webpackJsonp=window.webpackJsonp||[]).push([[1195],{256:function(t,e,n){"use strict";var r=n(44),o=n(106),c=n(533),l=n(148),h=n(109),d=Object(r.a)("switch"),f=d[0],m=d[1];e.a=f({mixins:[l.a],props:c.a,computed:{checked:function(){return this.value===this.activeValue},style:function(){return{fontSize:Object(o.a)(this.size),backgroundColor:this.checked?this.activeColor:this.inactiveColor}}},methods:{onClick:function(t){if(this.$emit("click",t),!this.disabled&&!this.loading){var e=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",e),this.$emit("change",e)}},genLoading:function(){var t=this.$createElement;if(this.loading){var e=this.checked?this.activeColor:this.inactiveColor;return t(h.a,{class:m("loading"),attrs:{color:e}})}}},render:function(){var t=arguments[0],e=this.checked,n=this.loading,r=this.disabled;return t("div",{class:m({on:e,loading:n,disabled:r}),attrs:{role:"switch","aria-checked":String(e)},style:this.style,on:{click:this.onClick}},[t("div",{class:m("node")},[this.genLoading()])])}})},257:function(t,e,n){"use strict";var r=n(23),o=n.n(r),c=n(44),l=n(19),h=n(29),d=Object(c.a)("tag"),f=d[0],m=d[1];function v(t,e,n,r){var c,d=e.type,mark=e.mark,f=e.plain,v=e.color,k=e.round,S=e.size,y=e.textColor,style=((c={})[f?"color":"backgroundColor"]=v,c);f?(style.color=y||v,style.borderColor=v):(style.color=y,style.background=v);var C={mark:mark,plain:f,round:k};S&&(C[S]=S);var O=e.closeable&&t(h.a,{attrs:{name:"cross"},class:m("close"),on:{click:function(t){t.stopPropagation(),Object(l.a)(r,"close")}}});return t("transition",{attrs:{name:e.closeable?"van-fade":null}},[t("span",o()([{key:"content",style:style,class:m([C,d])},Object(l.b)(r,!0)]),[null==n.default?void 0:n.default(),O])])}v.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}},e.a=f(v)},288:function(t,e,n){"use strict";var r=n(13),o=n(44),c=n(36),l=n(95),h=Object(o.a)("tab"),d=h[0],f=h[1];e.a=d({mixins:[Object(c.a)("vanTabs")],props:Object(r.a)({},l.c,{dot:Boolean,name:[Number,String],info:[Number,String],badge:[Number,String],title:String,titleStyle:null,titleClass:null,disabled:Boolean}),data:function(){return{inited:!1}},computed:{computedName:function(){var t;return null!=(t=this.name)?t:this.index},isActive:function(){var t=this.computedName===this.parent.currentName;return t&&(this.inited=!0),t}},watch:{title:function(){this.parent.setLine(),this.parent.scrollIntoView()},inited:function(t){var e=this;this.parent.lazyRender&&t&&this.$nextTick((function(){e.parent.$emit("rendered",e.computedName,e.title)}))}},render:function(t){var e=this.slots,n=this.parent,r=this.isActive,o=e();if(o||n.animated){var c=n.scrollspy||r,l=this.inited||n.scrollspy||!n.lazyRender?o:t();return n.animated?t("div",{attrs:{role:"tabpanel","aria-hidden":!r},class:f("pane-wrapper",{inactive:!r})},[t("div",{class:f("pane")},[l])]):t("div",{directives:[{name:"show",value:c}],attrs:{role:"tabpanel"},class:f("pane")},[l])}}})},325:function(t,e,n){"use strict";var r=n(44),o=n(106),c=n(6),l=n(93),h=n(56);var d=n(95),style=n(235),f=n(33),m=n(51),v=n(537),k=n(36),S=n(114),y=n(152),C=Object(r.a)("tab"),O=C[0],x=C[1],w=O({props:{dot:Boolean,type:String,info:[Number,String],color:String,title:String,isActive:Boolean,disabled:Boolean,scrollable:Boolean,activeColor:String,inactiveColor:String},computed:{style:function(){var style={},t=this.color,e=this.isActive,n="card"===this.type;t&&n&&(style.borderColor=t,this.disabled||(e?style.backgroundColor=t:style.color=t));var r=e?this.activeColor:this.inactiveColor;return r&&(style.color=r),style}},methods:{onClick:function(){this.$emit("click")},genText:function(){var t=this.$createElement,e=t("span",{class:x("text",{ellipsis:!this.scrollable})},[this.slots()||this.title]);return this.dot||Object(c.c)(this.info)&&""!==this.info?t("span",{class:x("text-wrapper")},[e,t(y.a,{attrs:{dot:this.dot,info:this.info}})]):e}},render:function(){return(0,arguments[0])("div",{attrs:{role:"tab","aria-selected":this.isActive},class:[x({active:this.isActive,disabled:this.disabled})],style:this.style,on:{click:this.onClick}},[this.genText()])}}),j=n(425),T=n(13),I=n(104),$=Object(r.a)("tabs"),B=$[0],N=$[1],P=B({mixins:[I.a],props:{count:Number,duration:[Number,String],animated:Boolean,swipeable:Boolean,currentIndex:Number},computed:{style:function(){if(this.animated)return{transform:"translate3d("+-1*this.currentIndex*100+"%, 0, 0)",transitionDuration:this.duration+"s"}},listeners:function(){if(this.swipeable)return{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}}},methods:{onTouchEnd:function(){var t=this.direction,e=this.deltaX,n=this.currentIndex;"horizontal"===t&&this.offsetX>=50&&(e>0&&0!==n?this.$emit("change",n-1):e<0&&n!==this.count-1&&this.$emit("change",n+1))},genChildren:function(){var t=this.$createElement;return this.animated?t("div",{class:N("track"),style:this.style},[this.slots()]):this.slots()}},render:function(){return(0,arguments[0])("div",{class:N("content",{animated:this.animated}),on:Object(T.a)({},this.listeners)},[this.genChildren()])}}),L=Object(r.a)("tabs"),M=L[0],V=L[1];e.a=M({mixins:[Object(k.b)("vanTabs"),Object(S.a)((function(t){this.scroller||(this.scroller=Object(h.d)(this.$el)),t(window,"resize",this.resize,!0),this.scrollspy&&t(this.scroller,"scroll",this.onScroll,!0)}))],inject:{vanPopup:{default:null}},model:{prop:"active"},props:{color:String,border:Boolean,sticky:Boolean,animated:Boolean,swipeable:Boolean,scrollspy:Boolean,background:String,lineWidth:[Number,String],lineHeight:[Number,String],beforeChange:Function,titleActiveColor:String,titleInactiveColor:String,type:{type:String,default:"line"},active:{type:[Number,String],default:0},ellipsis:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},offsetTop:{type:[Number,String],default:0},lazyRender:{type:Boolean,default:!0},swipeThreshold:{type:[Number,String],default:5}},data:function(){return{position:"",currentIndex:null,lineStyle:{backgroundColor:this.color}}},computed:{scrollable:function(){return this.children.length>this.swipeThreshold||!this.ellipsis},navStyle:function(){return{borderColor:this.color,background:this.background}},currentName:function(){var t=this.children[this.currentIndex];if(t)return t.computedName},offsetTopPx:function(){return Object(o.b)(this.offsetTop)},scrollOffset:function(){return this.sticky?this.offsetTopPx+this.tabHeight:0}},watch:{color:"setLine",active:function(t){t!==this.currentName&&this.setCurrentIndexByName(t)},children:function(){var t=this;this.setCurrentIndexByName(this.active),this.setLine(),this.$nextTick((function(){t.scrollIntoView(!0)}))},currentIndex:function(){this.scrollIntoView(),this.setLine(),this.stickyFixed&&!this.scrollspy&&Object(h.g)(Math.ceil(Object(h.a)(this.$el)-this.offsetTopPx))},scrollspy:function(t){t?Object(f.b)(this.scroller,"scroll",this.onScroll,!0):Object(f.a)(this.scroller,"scroll",this.onScroll)}},mounted:function(){var t=this;this.init(),this.vanPopup&&this.vanPopup.onReopen((function(){t.setLine()}))},activated:function(){this.init(),this.setLine()},methods:{resize:function(){this.setLine()},init:function(){var t=this;this.$nextTick((function(){t.inited=!0,t.tabHeight=Object(h.e)(t.$refs.wrap),t.scrollIntoView(!0)}))},setLine:function(){var t=this,e=this.inited;this.$nextTick((function(){var n=t.$refs.titles;if(n&&n[t.currentIndex]&&"line"===t.type&&!Object(style.a)(t.$el)){var title=n[t.currentIndex].$el,r=t.lineWidth,l=t.lineHeight,h=title.offsetLeft+title.offsetWidth/2,d={width:Object(o.a)(r),backgroundColor:t.color,transform:"translateX("+h+"px) translateX(-50%)"};if(e&&(d.transitionDuration=t.duration+"s"),Object(c.c)(l)){var f=Object(o.a)(l);d.height=f,d.borderRadius=f}t.lineStyle=d}}))},setCurrentIndexByName:function(t){var e=this.children.filter((function(e){return e.computedName===t})),n=(this.children[0]||{}).index||0;this.setCurrentIndex(e.length?e[0].index:n)},setCurrentIndex:function(t){var e=this.findAvailableTab(t);if(Object(c.c)(e)){var n=this.children[e],r=n.computedName,o=null!==this.currentIndex;this.currentIndex=e,r!==this.active&&(this.$emit("input",r),o&&this.$emit("change",r,n.title))}},findAvailableTab:function(t){for(var e=t<this.currentIndex?-1:1;t>=0&&t<this.children.length;){if(!this.children[t].disabled)return t;t+=e}},onClick:function(t,e){var n=this,r=this.children[e],title=r.title,o=r.disabled,c=r.computedName;o?this.$emit("disabled",c,title):(Object(v.a)({interceptor:this.beforeChange,args:[c],done:function(){n.setCurrentIndex(e),n.scrollToCurrentContent()}}),this.$emit("click",c,title),Object(d.b)(t.$router,t))},scrollIntoView:function(t){var e=this.$refs.titles;if(this.scrollable&&e&&e[this.currentIndex]){var nav=this.$refs.nav,title=e[this.currentIndex].$el;!function(t,e,n){var r=0,o=t.scrollLeft,c=0===n?1:Math.round(1e3*n/16);!function animate(){t.scrollLeft+=(e-o)/c,++r<c&&Object(l.c)(animate)}()}(nav,title.offsetLeft-(nav.offsetWidth-title.offsetWidth)/2,t?0:+this.duration)}},onSticktScroll:function(t){this.stickyFixed=t.isFixed,this.$emit("scroll",t)},scrollTo:function(t){var e=this;this.$nextTick((function(){e.setCurrentIndexByName(t),e.scrollToCurrentContent(!0)}))},scrollToCurrentContent:function(t){var e=this;if(void 0===t&&(t=!1),this.scrollspy){var n=this.children[this.currentIndex],r=null==n?void 0:n.$el;if(r){var o=Object(h.a)(r,this.scroller)-this.scrollOffset;this.lockScroll=!0,function(t,e,n,r){var o=Object(h.c)(t),c=o<e,d=0===n?1:Math.round(1e3*n/16),f=(e-o)/d;!function animate(){o+=f,(c&&o>e||!c&&o<e)&&(o=e),Object(h.h)(t,o),c&&o<e||!c&&o>e?Object(l.c)(animate):r&&Object(l.c)(r)}()}(this.scroller,o,t?0:+this.duration,(function(){e.lockScroll=!1}))}}},onScroll:function(){if(this.scrollspy&&!this.lockScroll){var t=this.getCurrentIndexOnScroll();this.setCurrentIndex(t)}},getCurrentIndexOnScroll:function(){for(var t=this.children,e=0;e<t.length;e++){if(Object(h.f)(t[e].$el)>this.scrollOffset)return 0===e?0:e-1}return t.length-1}},render:function(){var t,e=this,n=arguments[0],r=this.type,o=this.animated,c=this.scrollable,l=this.children.map((function(t,o){var l;return n(w,{ref:"titles",refInFor:!0,attrs:{type:r,dot:t.dot,info:null!=(l=t.badge)?l:t.info,title:t.title,color:e.color,isActive:o===e.currentIndex,disabled:t.disabled,scrollable:c,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor},style:t.titleStyle,class:t.titleClass,scopedSlots:{default:function(){return t.slots("title")}},on:{click:function(){e.onClick(t,o)}}})})),h=n("div",{ref:"wrap",class:[V("wrap",{scrollable:c}),(t={},t[m.f]="line"===r&&this.border,t)]},[n("div",{ref:"nav",attrs:{role:"tablist"},class:V("nav",[r,{complete:this.scrollable}]),style:this.navStyle},[this.slots("nav-left"),l,"line"===r&&n("div",{class:V("line"),style:this.lineStyle}),this.slots("nav-right")])]);return n("div",{class:V([r])},[this.sticky?n(j.a,{attrs:{container:this.$el,offsetTop:this.offsetTop},on:{scroll:this.onSticktScroll}},[h]):h,n(P,{attrs:{count:this.children.length,animated:o,duration:this.duration,swipeable:this.swipeable,currentIndex:this.currentIndex},on:{change:this.setCurrentIndex}},[this.slots()])])}})},425:function(t,e,n){"use strict";var r=n(235),o=n(106),c=n(44),l=n(6),h=n(56),d=n(114),f=Object(c.a)("sticky"),m=f[0],v=f[1];e.a=m({mixins:[Object(d.a)((function(t,e){if(this.scroller||(this.scroller=Object(h.d)(this.$el)),this.observer){var n=e?"observe":"unobserve";this.observer[n](this.$el)}t(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{offsetTopPx:function(){return Object(o.b)(this.offsetTop)},style:function(){if(this.fixed){var style={};return Object(l.c)(this.zIndex)&&(style.zIndex=this.zIndex),this.offsetTopPx&&this.fixed&&(style.top=this.offsetTopPx+"px"),this.transform&&(style.transform="translate3d(0, "+this.transform+"px, 0)"),style}}},watch:{fixed:function(t){this.$emit("change",t)}},created:function(){var t=this;!l.h&&window.IntersectionObserver&&(this.observer=new IntersectionObserver((function(e){e[0].intersectionRatio>0&&t.onScroll()}),{root:document.body}))},methods:{onScroll:function(){var t=this;if(!Object(r.a)(this.$el)){this.height=this.$el.offsetHeight;var e=this.container,n=this.offsetTopPx,o=Object(h.c)(window),c=Object(h.a)(this.$el),l=function(){t.$emit("scroll",{scrollTop:o,isFixed:t.fixed})};if(e){var d=c+e.offsetHeight;if(o+n+this.height>d){var f=this.height+o-d;return f<this.height?(this.fixed=!0,this.transform=-(f+n)):this.fixed=!1,void l()}}o+n>c?(this.fixed=!0,this.transform=0):this.fixed=!1,l()}}},render:function(){var t=arguments[0],e=this.fixed;return t("div",{style:{height:e?this.height+"px":null}},[t("div",{class:v({fixed:e}),style:this.style},[this.slots()])])}})},428:function(t,e,n){"use strict";var r=n(44),o=n(235),c=n(33),l=n(93),h=n(86),d=n(104),f=n(36),m=n(114),v=Object(r.a)("swipe"),k=v[0],S=v[1];e.a=k({mixins:[d.a,Object(f.b)("vanSwipe"),Object(m.a)((function(t,e){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0),t(window,"visibilitychange",this.onVisibilityChange),e?this.initialize():this.clear()}))],props:{width:[Number,String],height:[Number,String],autoplay:[Number,String],vertical:Boolean,lazyRender:Boolean,indicatorColor:String,loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},touchable:{type:Boolean,default:!0},initialSwipe:{type:[Number,String],default:0},showIndicators:{type:Boolean,default:!0},stopPropagation:{type:Boolean,default:!0}},data:function(){return{rect:null,offset:0,active:0,deltaX:0,deltaY:0,swiping:!1,computedWidth:0,computedHeight:0}},watch:{children:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t>0?this.autoPlay():this.clear()}},computed:{count:function(){return this.children.length},maxCount:function(){return Math.ceil(Math.abs(this.minOffset)/this.size)},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var style={transitionDuration:(this.swiping?0:this.duration)+"ms",transform:"translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)"};if(this.size){var t=this.vertical?"height":"width",e=this.vertical?"width":"height";style[t]=this.trackSize+"px",style[e]=this[e]?this[e]+"px":""}return style},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}},minOffset:function(){return(this.vertical?this.rect.height:this.rect.width)-this.size*this.count}},mounted:function(){this.bindTouchEvent(this.$refs.track)},methods:{initialize:function(t){if(void 0===t&&(t=+this.initialSwipe),this.$el&&!Object(o.a)(this.$el)){clearTimeout(this.timer);var rect={width:this.$el.offsetWidth,height:this.$el.offsetHeight};this.rect=rect,this.swiping=!0,this.active=t,this.computedWidth=+this.width||rect.width,this.computedHeight=+this.height||rect.height,this.offset=this.getTargetOffset(t),this.children.forEach((function(t){t.offset=0})),this.autoPlay()}},resize:function(){this.initialize(this.activeIndicator)},onVisibilityChange:function(){document.hidden?this.clear():this.autoPlay()},onTouchStart:function(t){this.touchable&&(this.clear(),this.touchStartTime=Date.now(),this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(Object(c.c)(t,this.stopPropagation),this.move({offset:this.delta})))},onTouchEnd:function(){if(this.touchable&&this.swiping){var t=this.size,e=this.delta,n=e/(Date.now()-this.touchStartTime);if((Math.abs(n)>.25||Math.abs(e)>t/2)&&this.isCorrectDirection){var r=this.vertical?this.offsetY:this.offsetX,o=0;o=this.loop?r>0?e>0?-1:1:0:-Math[e>0?"ceil":"floor"](e/t),this.move({pace:o,emitChange:!0})}else e&&this.move({pace:0});this.swiping=!1,this.autoPlay()}},getTargetActive:function(t){var e=this.active,n=this.count,r=this.maxCount;return t?this.loop?Object(h.c)(e+t,-1,n):Object(h.c)(e+t,0,r):e},getTargetOffset:function(t,e){void 0===e&&(e=0);var n=t*this.size;this.loop||(n=Math.min(n,-this.minOffset));var r=e-n;return this.loop||(r=Object(h.c)(r,this.minOffset,0)),r},move:function(t){var e=t.pace,n=void 0===e?0:e,r=t.offset,o=void 0===r?0:r,c=t.emitChange,l=this.loop,h=this.count,d=this.active,f=this.children,m=this.trackSize,v=this.minOffset;if(!(h<=1)){var k=this.getTargetActive(n),S=this.getTargetOffset(k,o);if(l){if(f[0]&&S!==v){var y=S<v;f[0].offset=y?m:0}if(f[h-1]&&0!==S){var C=S>0;f[h-1].offset=C?-m:0}}this.active=k,this.offset=S,c&&k!==d&&this.$emit("change",this.activeIndicator)}},prev:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),Object(l.b)((function(){t.swiping=!1,t.move({pace:-1,emitChange:!0})}))},next:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),Object(l.b)((function(){t.swiping=!1,t.move({pace:1,emitChange:!0})}))},swipeTo:function(t,e){var n=this;void 0===e&&(e={}),this.correctPosition(),this.resetTouchStatus(),Object(l.b)((function(){var r;r=n.loop&&t===n.count?0===n.active?0:t:t%n.count,e.immediate?Object(l.b)((function(){n.swiping=!1})):n.swiping=!1,n.move({pace:r-n.active,emitChange:!0})}))},correctPosition:function(){this.swiping=!0,this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e>0&&this.count>1&&(this.clear(),this.timer=setTimeout((function(){t.next(),t.autoPlay()}),e))},genIndicator:function(){var t=this,e=this.$createElement,n=this.count,r=this.activeIndicator,slot=this.slots("indicator");return slot||(this.showIndicators&&n>1?e("div",{class:S("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(n)).map((function(n,o){return e("i",{class:S("indicator",{active:o===r}),style:o===r?t.indicatorStyle:null})}))]):void 0)}},render:function(){var t=arguments[0];return t("div",{class:S()},[t("div",{ref:"track",style:this.trackStyle,class:S("track",{vertical:this.vertical})},[this.slots()]),this.genIndicator()])}})},429:function(t,e,n){"use strict";var r=n(13),o=n(44),c=n(36),l=Object(o.a)("swipe-item"),h=l[0],d=l[1];e.a=h({mixins:[Object(c.a)("vanSwipe")],data:function(){return{offset:0,inited:!1,mounted:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.mounted=!0}))},computed:{style:function(){var style={},t=this.parent,e=t.size,n=t.vertical;return e&&(style[n?"height":"width"]=e+"px"),this.offset&&(style.transform="translate"+(n?"Y":"X")+"("+this.offset+"px)"),style},shouldRender:function(){var t=this.index,e=this.inited,n=this.parent,r=this.mounted;if(!n.lazyRender||e)return!0;if(!r)return!1;var o=n.activeIndicator,c=n.count-1,l=0===o&&n.loop?c:o-1,h=o===c&&n.loop?0:o+1,d=t===o||t===l||t===h;return d&&(this.inited=!0),d}},render:function(){return(0,arguments[0])("div",{class:d(),style:this.style,on:Object(r.a)({},this.$listeners)},[this.shouldRender&&this.slots()])}})},432:function(t,e,n){"use strict";var r=n(23),o=n.n(r),c=n(44),l=n(106),h=n(6),d=n(534),f=n(33),m=n(86),v=n(197),k=n(148),S=Object(c.a)("stepper"),y=S[0],C=S[1];function O(t,e){return String(t)===String(e)}e.a=y({mixins:[k.a],props:{value:null,theme:String,integer:Boolean,disabled:Boolean,allowEmpty:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,decimalLength:[Number,String],name:{type:[Number,String],default:""},min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0},showInput:{type:Boolean,default:!0},longPress:{type:Boolean,default:!0}},data:function(){var t,e=null!=(t=this.value)?t:this.defaultValue,n=this.format(e);return O(n,this.value)||this.$emit("input",n),{currentValue:n}},computed:{minusDisabled:function(){return this.disabled||this.disableMinus||this.currentValue<=+this.min},plusDisabled:function(){return this.disabled||this.disablePlus||this.currentValue>=+this.max},inputStyle:function(){var style={};return this.inputWidth&&(style.width=Object(l.a)(this.inputWidth)),this.buttonSize&&(style.height=Object(l.a)(this.buttonSize)),style},buttonStyle:function(){if(this.buttonSize){var t=Object(l.a)(this.buttonSize);return{width:t,height:t}}}},watch:{max:"check",min:"check",integer:"check",decimalLength:"check",value:function(t){O(t,this.currentValue)||(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t,{name:this.name})}},methods:{check:function(){var t=this.format(this.currentValue);O(t,this.currentValue)||(this.currentValue=t)},formatNumber:function(t){return Object(m.b)(String(t),!this.integer)},format:function(t){return this.allowEmpty&&""===t||(t=""===(t=this.formatNumber(t))?0:+t,t=Object(v.a)(t)?this.min:t,t=Math.max(Math.min(this.max,t),this.min),Object(h.c)(this.decimalLength)&&(t=t.toFixed(this.decimalLength))),t},onInput:function(t){var e=t.target.value,n=this.formatNumber(e);if(Object(h.c)(this.decimalLength)&&-1!==n.indexOf(".")){var r=n.split(".");n=r[0]+"."+r[1].slice(0,this.decimalLength)}O(e,n)||(t.target.value=n),n===String(+n)&&(n=+n),this.emitChange(n)},emitChange:function(t){this.asyncChange?(this.$emit("input",t),this.$emit("change",t,{name:this.name})):this.currentValue=t},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,n=this.format(Object(m.a)(+this.currentValue,e));this.emitChange(n),this.$emit(t)}},onFocus:function(t){this.disableInput&&this.$refs.input?this.$refs.input.blur():this.$emit("focus",t)},onBlur:function(t){var e=this.format(t.target.value);t.target.value=e,this.emitChange(e),this.$emit("blur",t),Object(d.a)()},longPressStep:function(){var t=this;this.longPressTimer=setTimeout((function(){t.onChange(),t.longPressStep(t.type)}),200)},onTouchStart:function(){var t=this;this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout((function(){t.isLongPress=!0,t.onChange(),t.longPressStep()}),600))},onTouchEnd:function(t){this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress&&Object(f.c)(t))},onMousedown:function(t){this.disableInput&&t.preventDefault()}},render:function(){var t=this,e=arguments[0],n=function(e){return{on:{click:function(n){n.preventDefault(),t.type=e,t.onChange()},touchstart:function(){t.type=e,t.onTouchStart()},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}}};return e("div",{class:C([this.theme])},[e("button",o()([{directives:[{name:"show",value:this.showMinus}],attrs:{type:"button"},style:this.buttonStyle,class:C("minus",{disabled:this.minusDisabled})},n("minus")])),e("input",{directives:[{name:"show",value:this.showInput}],ref:"input",attrs:{type:this.integer?"tel":"text",role:"spinbutton",disabled:this.disabled,readonly:this.disableInput,inputmode:this.integer?"numeric":"decimal",placeholder:this.placeholder,"aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue},class:C("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur,mousedown:this.onMousedown}}),e("button",o()([{directives:[{name:"show",value:this.showPlus}],attrs:{type:"button"},style:this.buttonStyle,class:C("plus",{disabled:this.plusDisabled})},n("plus")]))])}})},533:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={size:[Number,String],value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}}},649:function(t,e,n){"use strict";var r=n(44),o=n(106),c=n(445),l=n(33),h=n(86),d=n(104),f=n(148),m=Object(r.a)("slider"),v=m[0],k=m[1],S=function(t,e){return JSON.stringify(t)===JSON.stringify(e)};e.a=v({mixins:[d.a,f.a],props:{disabled:Boolean,vertical:Boolean,range:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},value:{type:[Number,Array],default:0}},data:function(){return{dragStatus:""}},computed:{scope:function(){return this.max-this.min},buttonStyle:function(){if(this.buttonSize){var t=Object(o.a)(this.buttonSize);return{width:t,height:t}}}},created:function(){this.updateValue(this.value)},mounted:function(){this.range?(this.bindTouchEvent(this.$refs.wrapper0),this.bindTouchEvent(this.$refs.wrapper1)):this.bindTouchEvent(this.$refs.wrapper)},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.currentValue=this.value,this.range?this.startValue=this.value.map(this.format):this.startValue=this.format(this.value),this.dragStatus="start")},onTouchMove:function(t){if(!this.disabled){"start"===this.dragStatus&&this.$emit("drag-start"),Object(l.c)(t,!0),this.touchMove(t),this.dragStatus="draging";var rect=this.$el.getBoundingClientRect(),e=(this.vertical?this.deltaY:this.deltaX)/(this.vertical?rect.height:rect.width)*this.scope;this.range?this.currentValue[this.index]=this.startValue[this.index]+e:this.currentValue=this.startValue+e,this.updateValue(this.currentValue)}},onTouchEnd:function(){this.disabled||("draging"===this.dragStatus&&(this.updateValue(this.currentValue,!0),this.$emit("drag-end")),this.dragStatus="")},onClick:function(t){if(t.stopPropagation(),!this.disabled){var rect=this.$el.getBoundingClientRect(),e=this.vertical?t.clientY-rect.top:t.clientX-rect.left,n=this.vertical?rect.height:rect.width,r=+this.min+e/n*this.scope;if(this.range){var o=this.value,c=o[0],l=o[1];r<=(c+l)/2?c=r:l=r,r=[c,l]}this.startValue=this.value,this.updateValue(r,!0)}},handleOverlap:function(t){return t[0]>t[1]?(t=Object(c.a)(t)).reverse():t},updateValue:function(t,e){t=this.range?this.handleOverlap(t).map(this.format):this.format(t),S(t,this.value)||this.$emit("input",t),e&&!S(t,this.startValue)&&this.$emit("change",t)},format:function(t){var e=+this.min,n=+this.max,r=+this.step;t=Object(h.c)(t,e,n);var o=Math.round((t-e)/r)*r;return Object(h.a)(e,o)}},render:function(){var t,e,n,r,c,l,h=this,d=arguments[0],f=this.vertical,m=f?"height":"width",v=f?"width":"height",S=((t={background:this.inactiveColor})[v]=Object(o.a)(this.barHeight),t),y=function(){var t=h.value,e=h.min,n=h.range,r=h.scope;return n?100*(t[0]-e)/r+"%":null},C=((e={})[m]=(n=h.value,r=h.min,c=h.range,l=h.scope,c?100*(n[1]-n[0])/l+"%":100*(n-r)/l+"%"),e.left=this.vertical?null:y(),e.top=this.vertical?y():null,e.background=this.activeColor,e);this.dragStatus&&(C.transition="none");var O=function(i){var map=["left","right"],t="number"==typeof i,e=t?h.value[i]:h.value;return d("div",{ref:t?"wrapper"+i:"wrapper",attrs:{role:"slider",tabindex:h.disabled?-1:0,"aria-valuemin":h.min,"aria-valuenow":h.value,"aria-valuemax":h.max,"aria-orientation":h.vertical?"vertical":"horizontal"},class:k(t?"button-wrapper-"+map[i]:"button-wrapper"),on:{touchstart:function(){t&&(h.index=i)},click:function(t){return t.stopPropagation()}}},[function(){if(t){var slot=h.slots(0===i?"left-button":"right-button",{value:e});if(slot)return slot}return h.slots("button")?h.slots("button"):d("div",{class:k("button"),style:h.buttonStyle})}()])};return d("div",{style:S,class:k({disabled:this.disabled,vertical:f}),on:{click:this.onClick}},[d("div",{class:k("bar"),style:C},[this.range?[O(0),O(1)]:O()])])}})},650:function(t,e,n){"use strict";var r=n(44),o=n(51),c=n(36),l=n(29),h=Object(r.a)("step"),d=h[0],f=h[1];e.a=d({mixins:[Object(c.a)("vanSteps")],computed:{status:function(){return this.index<this.parent.active?"finish":this.index===+this.parent.active?"process":void 0},active:function(){return"process"===this.status},lineStyle:function(){var t=this.parent,e=t.activeColor,n=t.inactiveColor,r=t.center,o=t.direction,style={background:"finish"===this.status?e:n};return r&&"vertical"===o&&(style.top="50%"),style},circleContainerStyle:function(){if(this.parent.center&&"vertical"===this.parent.direction)return{top:"50%"}},titleStyle:function(){return this.active?{color:this.parent.activeColor}:this.status?void 0:{color:this.parent.inactiveColor}}},methods:{genCircle:function(){var t=this.$createElement,e=this.parent,n=e.activeIcon,r=e.iconPrefix,o=e.activeColor,c=e.finishIcon,h=e.inactiveIcon;if(this.active)return this.slots("active-icon")||t(l.a,{class:f("icon","active"),attrs:{name:n,color:o,classPrefix:r}});var d=this.slots("finish-icon");if("finish"===this.status&&(c||d))return d||t(l.a,{class:f("icon","finish"),attrs:{name:c,color:o,classPrefix:r}});var m=this.slots("inactive-icon");return h||m?m||t(l.a,{class:f("icon"),attrs:{name:h,classPrefix:r}}):t("i",{class:f("circle"),style:this.lineStyle})},onClickStep:function(){this.parent.$emit("click-step",this.index)}},render:function(){var t,e=arguments[0],n=this.status,r=this.active,c=this.parent.direction;return e("div",{class:[o.a,f([c,(t={},t[n]=n,t)])]},[e("div",{class:f("title",{active:r}),style:this.titleStyle,on:{click:this.onClickStep}},[this.slots()]),e("div",{class:f("circle-container"),on:{click:this.onClickStep},style:this.circleContainerStyle},[this.genCircle()]),e("div",{class:f("line"),style:this.lineStyle})])}})},651:function(t,e,n){"use strict";var r=n(44),o=n(36),c=Object(r.a)("steps"),l=c[0],h=c[1];e.a=l({mixins:[Object(o.b)("vanSteps")],props:{center:Boolean,iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String,active:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},activeIcon:{type:String,default:"checked"}},render:function(){var t=arguments[0];return t("div",{class:h([this.direction])},[t("div",{class:h("items")},[this.slots()])])}})},652:function(t,e,n){"use strict";var r=n(23),o=n.n(r),c=n(44),l=n(19),h=n(29),d=n(85),f=Object(c.a)("submit-bar"),m=f[0],v=f[1],k=f[2];function S(t,e,n,r){var c=e.tip,f=e.price,m=e.tipIcon;return t("div",o()([{class:v({unfit:!e.safeAreaInsetBottom})},Object(l.b)(r)]),[n.top&&n.top(),function(){if(n.tip||c)return t("div",{class:v("tip")},[m&&t(h.a,{class:v("tip-icon"),attrs:{name:m}}),c&&t("span",{class:v("tip-text")},[c]),n.tip&&n.tip()])}(),t("div",{class:v("bar")},[n.default&&n.default(),function(){if("number"==typeof f){var n=(f/100).toFixed(e.decimalLength).split("."),r=e.decimalLength?"."+n[1]:"";return t("div",{style:{textAlign:e.textAlign?e.textAlign:""},class:v("text")},[t("span",[e.label||k("label")]),t("span",{class:v("price")},[e.currency,t("span",{class:v("price","integer")},[n[0]]),r]),e.suffixLabel&&t("span",{class:v("suffix-label")},[e.suffixLabel])])}}(),n.button?n.button():t(d.a,{attrs:{round:!0,type:e.buttonType,text:e.loading?"":e.buttonText,color:e.buttonColor,loading:e.loading,disabled:e.disabled},class:v("button",e.buttonType),on:{click:function(){Object(l.a)(r,"submit")}}})])])}S.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,textAlign:String,buttonText:String,buttonColor:String,suffixLabel:String,safeAreaInsetBottom:{type:Boolean,default:!0},decimalLength:{type:[Number,String],default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}},e.a=m(S)},653:function(t,e,n){"use strict";var r=n(44),o=n(86),c=n(33),l=n(104),h=n(371),d=Object(r.a)("swipe-cell"),f=d[0],m=d[1];e.a=f({mixins:[l.a,Object(h.a)({event:"touchstart",method:"onClick"})],props:{onClose:Function,disabled:Boolean,leftWidth:[Number,String],rightWidth:[Number,String],beforeClose:Function,stopPropagation:Boolean,name:{type:[Number,String],default:""}},data:function(){return{offset:0,dragging:!1}},computed:{computedLeftWidth:function(){return+this.leftWidth||this.getWidthByRef("left")},computedRightWidth:function(){return+this.rightWidth||this.getWidthByRef("right")}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{getWidthByRef:function(t){return this.$refs[t]?this.$refs[t].getBoundingClientRect().width:0},open:function(t){var e="left"===t?this.computedLeftWidth:-this.computedRightWidth;this.opened=!0,this.offset=e,this.$emit("open",{position:t,name:this.name,detail:this.name})},close:function(t){this.offset=0,this.opened&&(this.opened=!1,this.$emit("close",{position:t,name:this.name}))},onTouchStart:function(t){this.disabled||(this.startOffset=this.offset,this.touchStart(t))},onTouchMove:function(t){this.disabled||(this.touchMove(t),"horizontal"===this.direction&&(this.dragging=!0,this.lockClick=!0,(!this.opened||this.deltaX*this.startOffset<0)&&Object(c.c)(t,this.stopPropagation),this.offset=Object(o.c)(this.deltaX+this.startOffset,-this.computedRightWidth,this.computedLeftWidth)))},onTouchEnd:function(){var t=this;this.disabled||this.dragging&&(this.toggle(this.offset>0?"left":"right"),this.dragging=!1,setTimeout((function(){t.lockClick=!1}),0))},toggle:function(t){var e=Math.abs(this.offset),n=this.opened?.85:.15,r=this.computedLeftWidth,o=this.computedRightWidth;o&&"right"===t&&e>o*n?this.open("right"):r&&"left"===t&&e>r*n?this.open("left"):this.close()},onClick:function(t){void 0===t&&(t="outside"),this.$emit("click",t),this.opened&&!this.lockClick&&(this.beforeClose?this.beforeClose({position:t,name:this.name,instance:this}):this.onClose?this.onClose(t,this,{name:this.name}):this.close(t))},getClickHandler:function(t,e){var n=this;return function(r){e&&r.stopPropagation(),n.onClick(t)}},genLeftPart:function(){var t=this.$createElement,content=this.slots("left");if(content)return t("div",{ref:"left",class:m("left"),on:{click:this.getClickHandler("left",!0)}},[content])},genRightPart:function(){var t=this.$createElement,content=this.slots("right");if(content)return t("div",{ref:"right",class:m("right"),on:{click:this.getClickHandler("right",!0)}},[content])}},render:function(){var t=arguments[0],e={transform:"translate3d("+this.offset+"px, 0, 0)",transitionDuration:this.dragging?"0s":".6s"};return t("div",{class:m(),on:{click:this.getClickHandler("cell")}},[t("div",{class:m("wrapper"),style:e},[this.genLeftPart(),this.slots(),this.genRightPart()])])}})},654:function(t,e,n){"use strict";var r=n(13),o=n(23),c=n.n(o),l=n(44),h=n(19),d=n(78),f=n(256),m=n(533),v=Object(l.a)("switch-cell"),k=v[0],S=v[1];function y(t,e,n,o){return t(d.a,c()([{attrs:{center:!0,size:e.cellSize,title:e.title,border:e.border},class:S([e.cellSize])},Object(h.b)(o)]),[t(f.a,{props:Object(r.a)({},e),on:Object(r.a)({},o.listeners)})])}y.props=Object(r.a)({},m.a,{title:String,cellSize:String,border:{type:Boolean,default:!0},size:{type:String,default:"24px"}}),e.a=k(y)},655:function(t,e,n){"use strict";var r=n(44),o=n(51),c=n(537),l=n(36),h=Object(r.a)("tabbar"),d=h[0],f=h[1];e.a=d({mixins:[Object(l.b)("vanTabbar")],props:{route:Boolean,zIndex:[Number,String],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,value:{type:[Number,String],default:0},border:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:null}},data:function(){return{height:null}},computed:{fit:function(){return null!==this.safeAreaInsetBottom?this.safeAreaInsetBottom:this.fixed}},watch:{value:"setActiveItem",children:"setActiveItem"},mounted:function(){var t=this;if(this.placeholder&&this.fixed){var e=function(){t.height=t.$refs.tabbar.getBoundingClientRect().height};e(),setTimeout(e,100)}},methods:{setActiveItem:function(){var t=this;this.children.forEach((function(e,n){e.nameMatched=e.name===t.value||n===t.value}))},triggerChange:function(t,e){var n=this;Object(c.a)({interceptor:this.beforeChange,args:[t],done:function(){n.$emit("input",t),n.$emit("change",t),e()}})},genTabbar:function(){var t;return(0,this.$createElement)("div",{ref:"tabbar",style:{zIndex:this.zIndex},class:[(t={},t[o.f]=this.border,t),f({unfit:!this.fit,fixed:this.fixed})]},[this.slots()])}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:f("placeholder"),style:{height:this.height+"px"}},[this.genTabbar()]):this.genTabbar()}})},656:function(t,e,n){"use strict";var r=n(13),o=n(44),c=n(6),l=n(95),h=n(36),d=n(29),f=n(152),m=Object(o.a)("tabbar-item"),v=m[0],k=m[1];e.a=v({mixins:[Object(h.a)("vanTabbar")],props:Object(r.a)({},l.c,{dot:Boolean,icon:String,name:[Number,String],info:[Number,String],badge:[Number,String],iconPrefix:String}),data:function(){return{nameMatched:!1}},computed:{active:function(){if(this.parent.route&&"$route"in this){var t=this.to,e=this.$route,n=Object(c.f)(t)?t:{path:t};return!!e.matched.find((function(t){var path=""===t.path?"/":t.path,e=n.path===path,r=Object(c.c)(n.name)&&n.name===t.name;return e||r}))}return this.nameMatched}},methods:{onClick:function(t){var e=this;this.active||this.parent.triggerChange(this.name||this.index,(function(){Object(l.b)(e.$router,e)})),this.$emit("click",t)},genIcon:function(){var t=this.$createElement,slot=this.slots("icon",{active:this.active});return slot||(this.icon?t(d.a,{attrs:{name:this.icon,classPrefix:this.iconPrefix}}):void 0)}},render:function(){var t,e=arguments[0],n=this.active,r=this.parent[n?"activeColor":"inactiveColor"];return e("div",{class:k({active:n}),style:{color:r},on:{click:this.onClick}},[e("div",{class:k("icon")},[this.genIcon(),e(f.a,{attrs:{dot:this.dot,info:null!=(t=this.badge)?t:this.info}})]),e("div",{class:k("text")},[this.slots("default",{active:n})])])}})},659:function(t,e,n){"use strict";var r={QUOTA_LIMIT:0,STOCK_LIMIT:1},o="",c={LIMIT_TYPE:r,UNSELECTED_SKU_VALUE_ID:o},l=n(13),h=function(t){var e={};return t.forEach((function(t){e[t.k_s]=t.v})),e},d=function(t,e){var n=Object.keys(e).filter((function(t){return e[t]!==o}));return t.length===n.length},f=function(t,e){return t.filter((function(t){return Object.keys(e).every((function(n){return String(t[n])===String(e[n])}))}))[0]},m=function(t,e){var n=h(t);return Object.keys(e).reduce((function(t,r){var c=n[r]||[],l=e[r];if(l!==o&&c.length>0){var h=c.filter((function(t){return t.id===l}))[0];h&&t.push(h)}return t}),[])},v=function(t,e,n){var r,c=n.key,h=n.valueId,d=Object(l.a)({},e,((r={})[c]=h,r)),f=Object.keys(d).filter((function(t){return d[t]!==o}));return t.filter((function(t){return f.every((function(e){return String(d[e])===String(t[e])}))})).reduce((function(t,e){return t+=e.stock_num}),0)>0},k=function(t,e){var n=function(t){var e={};return t.forEach((function(t){var n={};t.v.forEach((function(t){n[t.id]=t})),e[t.k_id]=n})),e}(t);return Object.keys(e).reduce((function(t,r){return e[r].forEach((function(e){t.push(Object(l.a)({},n[r][e]))})),t}),[])},S=function(t,e){var n=[];return(t||[]).forEach((function(t){if(e[t.k_id]&&e[t.k_id].length>0){var r=[];t.v.forEach((function(n){e[t.k_id].indexOf(n.id)>-1&&r.push(Object(l.a)({},n))})),n.push(Object(l.a)({},t,{v:r}))}})),n},y={normalizeSkuTree:h,getSkuComb:f,getSelectedSkuValues:m,isAllSelected:d,isSkuChoosable:v,getSelectedPropValues:k,getSelectedProperties:S},C=n(7),O=n.n(C),x=n(119),w=n(156),j=n(326),T=n(23),I=n.n(T),$=n(44),B=n(19),N=n(51),P=n(180),L=Object($.a)("sku-header"),M=L[0],V=L[1];function E(t,e,n,r){var o,c=e.sku,h=e.goods,d=e.skuEventBus,f=e.selectedSku,m=e.showHeaderImage,v=void 0===m||m,k=function(t,e){var n;return t.tree.some((function(t){var r=e[t.k_s];if(r&&t.v){var o=t.v.filter((function(t){return t.id===r}))[0]||{},img=o.previewImgUrl||o.imgUrl||o.img_url;if(img)return n=Object(l.a)({},o,{ks:t.k_s,imgUrl:img}),!0}return!1})),n}(c,f),S=k?k.imgUrl:h.picture;return t("div",I()([{class:[V(),N.b]},Object(B.b)(r)]),[v&&t(P.a,{attrs:{fit:"cover",src:S},class:V("img-wrap"),on:{click:function(){d.$emit("sku:previewImage",k)}}},[null==(o=n["sku-header-image-extra"])?void 0:o.call(n)]),t("div",{class:V("goods-info")},[null==n.default?void 0:n.default()])])}E.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object,showHeaderImage:Boolean};var _=M(E),z=Object($.a)("sku-header-item"),A=z[0],D=z[1];var R=A((function(t,e,n,r){return t("div",I()([{class:D()},Object(B.b)(r)]),[n.default&&n.default()])})),U=n(36),W=n(114),H=Object($.a)("sku-row"),F=H[0],K=H[1],X=H[2],Q=F({mixins:[Object(U.b)("vanSkuRows"),Object(W.a)((function(t){this.scrollable&&this.$refs.scroller&&t(this.$refs.scroller,"scroll",this.onScroll)}))],props:{skuRow:Object},data:function(){return{progress:0}},computed:{scrollable:function(){return this.skuRow.largeImageMode&&this.skuRow.v.length>6}},methods:{onScroll:function(){var t=this.$refs,e=t.scroller,n=t.row.offsetWidth-e.offsetWidth;this.progress=e.scrollLeft/n},genTitle:function(){var t=this.$createElement;return t("div",{class:K("title")},[this.skuRow.k,this.skuRow.is_multiple&&t("span",{class:K("title-multiple")},["（",X("multiple"),"）"])])},genIndicator:function(){var t=this.$createElement;if(this.scrollable){var style={transform:"translate3d("+20*this.progress+"px, 0, 0)"};return t("div",{class:K("indicator-wrapper")},[t("div",{class:K("indicator")},[t("div",{class:K("indicator-slider"),style:style})])])}},genContent:function(){var t=this.$createElement,e=this.slots();if(this.skuRow.largeImageMode){var n=[],r=[];return e.forEach((function(t,e){(Math.floor(e/3)%2==0?n:r).push(t)})),t("div",{class:K("scroller"),ref:"scroller"},[t("div",{class:K("row"),ref:"row"},[n]),r.length?t("div",{class:K("row")},[r]):null])}return e},centerItem:function(t){if(this.skuRow.largeImageMode&&t){var e=this.children,n=void 0===e?[]:e,r=this.$refs,o=r.scroller,c=r.row,l=n.find((function(e){return+e.skuValue.id==+t}));if(o&&c&&l&&l.$el){var h=l.$el,d=h.offsetLeft-(o.offsetWidth-h.offsetWidth)/2;o.scrollLeft=d}}}},render:function(){return(0,arguments[0])("div",{class:[K(),N.b]},[this.genTitle(),this.genContent(),this.genIndicator()])}}),Y=n(29),J=(0,Object($.a)("sku-row-item")[0])({mixins:[Object(U.a)("vanSkuRows")],props:{lazyLoad:Boolean,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object,largeImageMode:Boolean,disableSoldoutSku:Boolean,skuList:{type:Array,default:function(){return[]}}},computed:{imgUrl:function(){var t=this.skuValue.imgUrl||this.skuValue.img_url;return this.largeImageMode?t||"https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png":t},choosable:function(){return!this.disableSoldoutSku||v(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",Object(l.a)({},this.skuValue,{skuKeyStr:this.skuKeyStr}))},onPreviewImg:function(t){t.stopPropagation();var e=this.skuValue,n=this.skuKeyStr;this.skuEventBus.$emit("sku:previewImage",Object(l.a)({},e,{ks:n,imgUrl:e.imgUrl||e.img_url}))},genImage:function(t){var e=this.$createElement;if(this.imgUrl)return e(P.a,{attrs:{fit:"cover",src:this.imgUrl,lazyLoad:this.lazyLoad},class:t+"-img"})}},render:function(){var t=arguments[0],e=this.skuValue.id===this.selectedSku[this.skuKeyStr],n=this.largeImageMode?K("image-item"):K("item");return t("span",{class:[n,e?n+"--active":"",this.choosable?"":n+"--disabled"],on:{click:this.onSelect}},[this.genImage(n),t("div",{class:n+"-name"},[this.largeImageMode?t("span",{class:{"van-multi-ellipsis--l2":this.largeImageMode}},[this.skuValue.name]):this.skuValue.name]),this.largeImageMode&&t(Y.a,{attrs:{name:"enlarge"},class:n+"-img-icon",on:{click:this.onPreviewImg}})])}}),G=(0,Object($.a)("sku-row-prop-item")[0])({props:{skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedProp:Object,multiple:Boolean,disabled:Boolean},computed:{choosed:function(){var t=this.selectedProp,e=this.skuKeyStr,n=this.skuValue;return!(!t||!t[e])&&t[e].indexOf(n.id)>-1}},methods:{onSelect:function(){this.disabled||this.skuEventBus.$emit("sku:propSelect",Object(l.a)({},this.skuValue,{skuKeyStr:this.skuKeyStr,multiple:this.multiple}))}},render:function(){var t=arguments[0];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":this.choosed},{"van-sku-row__item--disabled":this.disabled}],on:{click:this.onSelect}},[t("span",{class:"van-sku-row__item-name"},[this.skuValue.name])])}}),Z=n(432),tt=Object($.a)("sku-stepper"),et=tt[0],it=tt[2],st=r.QUOTA_LIMIT,nt=r.STOCK_LIMIT,at=et({props:{stock:Number,skuEventBus:Object,skuStockNum:Number,selectedNum:Number,stepperTitle:String,disableStepperInput:Boolean,customStepperConfig:Object,hideQuotaText:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1}},data:function(){return{currentNum:this.selectedNum,limitType:nt}},watch:{currentNum:function(t){var e=parseInt(t,10);e>=this.stepperMinLimit&&e<=this.stepperLimit&&this.skuEventBus.$emit("sku:numChange",e)},stepperLimit:function(t){t<this.currentNum&&this.stepperMinLimit<=t&&(this.currentNum=t),this.checkState(this.stepperMinLimit,t)},stepperMinLimit:function(t){(t>this.currentNum||t>this.stepperLimit)&&(this.currentNum=t),this.checkState(t,this.stepperLimit)}},computed:{stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=st):(t=this.stock,this.limitType=nt),t},stepperMinLimit:function(){return this.startSaleNum<1?1:this.startSaleNum},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText;if(t.hideQuotaText)return"";var text="";if(e)text=e;else{var n=[];this.startSaleNum>1&&n.push(it("quotaStart",this.startSaleNum)),this.quota>0&&n.push(it("quotaLimit",this.quota)),text=n.join(it("comma"))}return text}},created:function(){this.checkState(this.stepperMinLimit,this.stepperLimit)},methods:{setCurrentNum:function(t){this.currentNum=t,this.checkState(this.stepperMinLimit,this.stepperLimit)},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})},onChange:function(t){var e=parseInt(t,10),n=this.customStepperConfig.handleStepperChange;n&&n(e),this.$emit("change",e)},checkState:function(t,e){this.currentNum<t||t>e?this.currentNum=t:this.currentNum>e&&(this.currentNum=e),this.skuEventBus.$emit("sku:stepperState",{valid:t<=e,min:t,max:e,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})}},render:function(){var t=this,e=arguments[0];return e("div",{class:"van-sku-stepper-stock"},[e("div",{class:"van-sku__stepper-title"},[this.stepperTitle||it("num")]),e(Z.a,{attrs:{integer:!0,min:this.stepperMinLimit,max:this.stepperLimit,disableInput:this.disableStepperInput},class:"van-sku__stepper",on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:t.currentNum,callback:function(e){t.currentNum=e}}}),!this.hideQuotaText&&this.quotaText&&e("span",{class:"van-sku__stepper-quota"},["(",this.quotaText,")"])])}}),ot=n(1076),ut=n(197),ct=n(78),lt=n(121),ht=n(434),ft=Object($.a)("sku-img-uploader"),pt=ft[0],mt=ft[2],gt=pt({props:{value:String,uploadImg:Function,customUpload:Function,maxSize:{type:Number,default:6}},data:function(){return{fileList:[]}},watch:{value:function(t){this.fileList=t?[{url:t,isImage:!0}]:[]}},methods:{afterReadFile:function(t){var e=this;t.status="uploading",t.message=mt("uploading"),this.uploadImg(t.file,t.content).then((function(img){t.status="done",e.$emit("input",img)})).catch((function(){t.status="failed",t.message=mt("fail")}))},onOversize:function(){this.$toast(mt("oversize",this.maxSize))},onDelete:function(){this.$emit("input","")},onClickUpload:function(){var t=this;this.customUpload&&this.customUpload().then((function(e){t.fileList.push({url:e}),t.$emit("input",e)}))}},render:function(){var t=this;return(0,arguments[0])(ht.a,{attrs:{maxCount:1,readonly:!!this.customUpload,maxSize:1024*this.maxSize*1024,afterRead:this.afterReadFile},on:{oversize:this.onOversize,delete:this.onDelete,"click-upload":this.onClickUpload},model:{value:t.fileList,callback:function(e){t.fileList=e}}})}}),vt=n(81);var bt=n(433),kt=Object($.a)("sku-datetime-field"),St=kt[0],yt=kt[2],Ct=St({props:{value:String,label:String,required:Boolean,placeholder:String,type:{type:String,default:"date"}},data:function(){return{showDatePicker:!1,currentDate:"time"===this.type?"":new Date,minDate:new Date((new Date).getFullYear()-60,0,1)}},watch:{value:function(t){switch(this.type){case"time":this.currentDate=t;break;case"date":case"datetime":this.currentDate=((e=t)?new Date(e.replace(/-/g,"/")):null)||new Date}var e}},computed:{title:function(){return yt("title."+this.type)}},methods:{onClick:function(){this.showDatePicker=!0},onConfirm:function(t){var data=t;"time"!==this.type&&(data=function(t,e){if(void 0===e&&(e="date"),!t)return"";var n=t.getFullYear(),r=t.getMonth()+1,o=t.getDate(),c=n+"-"+Object(vt.b)(r)+"-"+Object(vt.b)(o);if("datetime"===e){var l=t.getHours(),h=t.getMinutes();c+=" "+Object(vt.b)(l)+":"+Object(vt.b)(h)}return c}(t,this.type)),this.$emit("input",data),this.showDatePicker=!1},onCancel:function(){this.showDatePicker=!1},formatter:function(t,e){return""+e+yt("format."+t)}},render:function(){var t=this,e=arguments[0];return e(lt.a,{attrs:{readonly:!0,"is-link":!0,center:!0,value:this.value,label:this.label,required:this.required,placeholder:this.placeholder},on:{click:this.onClick}},[e(x.a,{attrs:{round:!0,position:"bottom",getContainer:"body"},slot:"extra",model:{value:t.showDatePicker,callback:function(e){t.showDatePicker=e}}},[e(bt.a,{attrs:{type:this.type,title:this.title,value:this.currentDate,minDate:this.minDate,formatter:this.formatter},on:{cancel:this.onCancel,confirm:this.onConfirm}})])])}}),Ot=Object($.a)("sku-messages"),xt=Ot[0],wt=Ot[1],jt=Ot[2],Tt=xt({props:{messageConfig:Object,goodsId:[Number,String],messages:{type:Array,default:function(){return[]}}},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){var e=this.messageConfig.initialMessages,n=void 0===e?{}:e;return(t||[]).map((function(t){return{value:n[t.name]||""}}))},getType:function(t){return 1==+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime":t.type},getMessages:function(){var t={};return this.messageValues.forEach((function(e,n){t["message_"+n]=e.value})),t},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach((function(n,r){var o=t.messages[r];e[o.name]=n.value})),e},getPlaceholder:function(t){var e=1==+t.multiple?"textarea":t.type,map=this.messageConfig.placeholderMap||{};return t.placeholder||map[e]||jt("placeholder."+e)},validateMessages:function(){for(var t=this.messageValues,i=0;i<t.length;i++){var e=t[i].value,n=this.messages[i];if(""===e){if("1"===String(n.required))return jt("image"===n.type?"upload":"fill")+n.name}else{if("tel"===n.type&&!Object(ut.b)(e))return jt("invalid.tel");if("mobile"===n.type&&!/^\d{6,20}$/.test(e))return jt("invalid.mobile");if("email"===n.type&&!Object(ot.a)(e))return jt("invalid.email");if("id_no"===n.type&&(e.length<15||e.length>18))return jt("invalid.id_no")}}},getFormatter:function(t){return function(e){return"mobile"===t.type||"tel"===t.type?e.replace(/[^\d.]/g,""):e}},getExtraDesc:function(t){var e=this.$createElement,n=t.extraDesc;if(n)return e("div",{class:wt("extra-message")},[n])},genMessage:function(t,e){var n=this,r=this.$createElement;return"image"===t.type?r(ct.a,{key:this.goodsId+"-"+e,attrs:{title:t.name,required:"1"===String(t.required),valueClass:wt("image-cell-value")},class:wt("image-cell")},[r(gt,{attrs:{maxSize:this.messageConfig.uploadMaxSize,uploadImg:this.messageConfig.uploadImg,customUpload:this.messageConfig.customUpload},model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}),r("div",{class:wt("image-cell-label")},[jt("imageLabel")])]):["date","time"].indexOf(t.type)>-1?r(Ct,{attrs:{label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t)},key:this.goodsId+"-"+e,model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}):r("div",{class:wt("cell-block")},[r(lt.a,{attrs:{maxlength:"200",center:!t.multiple,label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t),formatter:this.getFormatter(t),border:!1},key:this.goodsId+"-"+e,model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}),this.getExtraDesc(t)])}},render:function(){return(0,arguments[0])("div",{class:wt()},[this.messages.map(this.genMessage)])}}),It=n(85),$t=Object($.a)("sku-actions"),Bt=$t[0],Nt=$t[1],Pt=$t[2];function Lt(t,e,n,r){var o=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",I()([{class:Nt()},Object(B.b)(r)]),[e.showAddCartBtn&&t(It.a,{attrs:{size:"large",type:"warning",text:e.addCartText||Pt("addCart")},on:{click:o("sku:addCart")}}),t(It.a,{attrs:{size:"large",type:"danger",text:e.buyText||Pt("buy")},on:{click:o("sku:buy")}})])}Lt.props={buyText:String,addCartText:String,skuEventBus:Object,showAddCartBtn:Boolean};var Mt=Bt(Lt),Vt=n(6),Et=Object($.a)("sku"),_t=Et[0],zt=Et[1],At=Et[2],qt=r.QUOTA_LIMIT,Dt=_t({props:{sku:Object,goods:Object,value:Boolean,buyText:String,goodsId:[Number,String],priceTag:String,lazyLoad:Boolean,hideStock:Boolean,properties:Array,addCartText:String,stepperTitle:String,getContainer:[String,Function],hideQuotaText:Boolean,hideSelectedText:Boolean,resetStepperOnHide:Boolean,customSkuValidator:Function,disableStepperInput:Boolean,resetSelectedSkuOnHide:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1},initialSku:{type:Object,default:function(){return{}}},stockThreshold:{type:Number,default:50},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},disableSoldoutSku:{type:Boolean,default:!0},customStepperConfig:{type:Object,default:function(){return{}}},showHeaderImage:{type:Boolean,default:!0},previewOnClickImage:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{initialMessages:{},placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}}},data:function(){return{selectedSku:{},selectedProp:{},selectedNum:1,show:this.value}},watch:{show:function(t){this.$emit("input",t),t||(this.$emit("sku-close",{selectedSkuValues:this.selectedSkuValues,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku())},value:function(t){this.show=t},skuTree:"resetSelectedSku",initialSku:function(){this.resetStepper(),this.resetSelectedSku()}},computed:{skuGroupClass:function(){return["van-sku-group-container",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer)return{maxHeight:window.innerHeight-this.bodyOffsetTop+"px"}},isSkuCombSelected:function(){var t=this;return!(this.hasSku&&!d(this.skuTree,this.selectedSku))&&!this.propList.filter((function(i){return!1!==i.is_necessary})).some((function(i){return 0===(t.selectedProp[i.k_id]||[]).length}))},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},hasSkuOrAttr:function(){return this.hasSku||this.propList.length>0},selectedSkuComb:function(){var t=null;return this.isSkuCombSelected&&(t=this.hasSku?f(this.skuList,this.selectedSku):{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num})&&(t.properties=S(this.propList,this.selectedProp),t.property_price=this.selectedPropValues.reduce((function(t,e){return t+(e.price||0)}),0)),t},selectedSkuValues:function(){return m(this.skuTree,this.selectedSku)},selectedPropValues:function(){return k(this.propList,this.selectedProp)},price:function(){return this.selectedSkuComb?((this.selectedSkuComb.price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.price},originPrice:function(){return this.selectedSkuComb&&this.selectedSkuComb.origin_price?((this.selectedSkuComb.origin_price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.origin_price},skuTree:function(){return this.sku.tree||[]},skuList:function(){return this.sku.list||[]},propList:function(){return this.properties||[]},imageList:function(){var t=[this.goods.picture];return this.skuTree.length>0&&this.skuTree.forEach((function(e){e.v&&e.v.forEach((function(e){var n=e.previewImgUrl||e.imgUrl||e.img_url;n&&-1===t.indexOf(n)&&t.push(n)}))})),t},stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.sku.stock_num},stockText:function(){var t=this.$createElement,e=this.customStepperConfig.stockFormatter;return e?e(this.stock):[At("stock")+" ",t("span",{class:zt("stock-num",{highlight:this.stock<this.stockThreshold})},[this.stock])," "+At("stockUnit")]},selectedText:function(){var t=this;if(this.selectedSkuComb){var e=this.selectedSkuValues.concat(this.selectedPropValues);return At("selected")+" "+e.map((function(t){return t.name})).join(" ")}var n=this.skuTree.filter((function(e){return t.selectedSku[e.k_s]===o})).map((function(t){return t.k})),r=this.propList.filter((function(e){return(t.selectedProp[e.k_id]||[]).length<1})).map((function(t){return t.k}));return At("select")+" "+n.concat(r).join(" ")}},created:function(){var t=new O.a;this.skuEventBus=t,t.$on("sku:select",this.onSelect),t.$on("sku:propSelect",this.onPropSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:stepperState",this.onStepperState),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,n=null!=e?e:this.startSaleNum;this.stepperError=null,t?t.setCurrentNum(n):this.selectedNum=n},resetSelectedSku:function(){var t=this;this.selectedSku={},this.skuTree.forEach((function(e){t.selectedSku[e.k_s]=o})),this.skuTree.forEach((function(e){var n=e.k_s,r=1===e.v.length?e.v[0].id:t.initialSku[n];r&&v(t.skuList,t.selectedSku,{key:n,valueId:r})&&(t.selectedSku[n]=r)}));var e=this.selectedSkuValues;e.length>0&&this.$nextTick((function(){t.$emit("sku-selected",{skuValue:e[e.length-1],selectedSku:t.selectedSku,selectedSkuComb:t.selectedSkuComb})})),this.selectedProp={};var n=this.initialSku.selectedProp,r=void 0===n?{}:n;this.propList.forEach((function(e){r[e.k_id]&&(t.selectedProp[e.k_id]=r[e.k_id])})),Object(Vt.d)(this.selectedProp)&&this.propList.forEach((function(e){var n;if((null==e||null==(n=e.v)?void 0:n.length)>0){var r=e.v,o=e.k_id;if(!r.some((function(i){return 0!=+i.price}))){var c=r.find((function(t){return 0!==t.text_status}));c&&(t.selectedProp[o]=[c.id])}}}));var c=this.selectedPropValues;c.length>0&&this.$emit("sku-prop-selected",{propValue:c[c.length-1],selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.$emit("sku-reset",{selectedSku:this.selectedSku,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.centerInitialSku()},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return At("unavailable");if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return At("selectSku")},onSelect:function(t){var e,n;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(l.a)({},this.selectedSku,((e={})[t.skuKeyStr]=o,e)):Object(l.a)({},this.selectedSku,((n={})[t.skuKeyStr]=t.id,n)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onPropSelect:function(t){var e,n=this.selectedProp[t.skuKeyStr]||[],r=n.indexOf(t.id);r>-1?n.splice(r,1):t.multiple?n.push(t.id):n.splice(0,1,t.id),this.selectedProp=Object(l.a)({},this.selectedProp,((e={})[t.skuKeyStr]=n,e)),this.$emit("sku-prop-selected",{propValue:t,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,n=this.imageList,r=0,o=n[0];t&&t.imgUrl&&(this.imageList.some((function(image,e){return image===t.imgUrl&&(r=e,!0)})),o=t.imgUrl);var c=Object(l.a)({},t,{index:r,imageList:this.imageList,indexImage:o});this.$emit("open-preview",c),this.previewOnClickImage&&Object(j.a)({images:this.imageList,startPosition:r,onClose:function(){e.$emit("close-preview",c)}})},onOverLimit:function(data){var t=data.action,e=data.limitType,n=data.quota,r=data.quotaUsed,o=this.customStepperConfig.handleOverLimit;o?o(data):"minus"===t?this.startSaleNum>1?Object(w.a)(At("minusStartTip",this.startSaleNum)):Object(w.a)(At("minusTip")):"plus"===t&&(e===qt?r>0?Object(w.a)(At("quotaUsedTip",n,r)):Object(w.a)(At("quotaTip",n)):Object(w.a)(At("soldout")))},onStepperState:function(data){this.stepperError=data.valid?null:Object(l.a)({},data,{action:"plus"})},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){if(this.stepperError)return this.onOverLimit(this.stepperError);var e=this.validateSku();e?Object(w.a)(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,messages:this.getSkuMessages(),selectedNum:this.selectedNum,cartMessages:this.getSkuCartMessages(),selectedSkuComb:this.selectedSkuComb}},onOpened:function(){this.centerInitialSku()},centerInitialSku:function(){var t=this;(this.$refs.skuRows||[]).forEach((function(e){var n=(e.skuRow||{}).k_s;e.centerItem(t.initialSku[n])}))}},render:function(){var t=this,e=arguments[0];if(!this.isSkuEmpty){var n=this.sku,r=this.skuList,o=this.goods,c=this.price,l=this.lazyLoad,h=this.originPrice,d=this.skuEventBus,f=this.selectedSku,m=this.selectedProp,v=this.selectedNum,k=this.stepperTitle,S=this.selectedSkuComb,y=this.showHeaderImage,C=this.disableSoldoutSku,O={price:c,originPrice:h,selectedNum:v,skuEventBus:d,selectedSku:f,selectedSkuComb:S},w=function(e){return t.slots(e,O)},j=w("sku-header")||e(_,{attrs:{sku:n,goods:o,skuEventBus:d,selectedSku:f,showHeaderImage:y}},[e("template",{slot:"sku-header-image-extra"},[w("sku-header-image-extra")]),w("sku-header-price")||e("div",{class:"van-sku__goods-price"},[e("span",{class:"van-sku__price-symbol"},["￥"]),e("span",{class:"van-sku__price-num"},[c]),this.priceTag&&e("span",{class:"van-sku__price-tag"},[this.priceTag])]),w("sku-header-origin-price")||h&&e(R,[At("originPrice")," ￥",h]),!this.hideStock&&e(R,[e("span",{class:"van-sku__stock"},[this.stockText])]),this.hasSkuOrAttr&&!this.hideSelectedText&&e(R,[this.selectedText]),w("sku-header-extra")]),T=w("sku-group")||this.hasSkuOrAttr&&e("div",{class:this.skuGroupClass},[this.skuTree.map((function(t){return e(Q,{attrs:{skuRow:t},ref:"skuRows",refInFor:!0},[t.v.map((function(n){return e(J,{attrs:{skuList:r,lazyLoad:l,skuValue:n,skuKeyStr:t.k_s,selectedSku:f,skuEventBus:d,disableSoldoutSku:C,largeImageMode:t.largeImageMode}})}))])})),this.propList.map((function(t){return e(Q,{attrs:{skuRow:t}},[t.v.map((function(n){return e(G,{attrs:{skuValue:n,skuKeyStr:t.k_id+"",selectedProp:m,skuEventBus:d,multiple:t.is_multiple,disabled:0===n.text_status}})}))])}))]),I=w("sku-stepper")||e(at,{ref:"skuStepper",attrs:{stock:this.stock,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum,skuEventBus:d,selectedNum:v,stepperTitle:k,skuStockNum:n.stock_num,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig,hideQuotaText:this.hideQuotaText},on:{change:function(e){t.$emit("stepper-change",e)}}}),$=w("sku-messages")||e(Tt,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:n.messages}}),B=w("sku-actions")||e(Mt,{attrs:{buyText:this.buyText,skuEventBus:d,addCartText:this.addCartText,showAddCartBtn:this.showAddCartBtn}});return e(x.a,{attrs:{round:!0,closeable:!0,position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom},class:"van-sku-container",on:{opened:this.onOpened},model:{value:t.show,callback:function(e){t.show=e}}},[j,e("div",{class:"van-sku-body",style:this.bodyStyle},[w("sku-body-top"),T,w("extra-sku-group"),I,w("before-sku-messages"),$,w("after-sku-messages")]),w("sku-actions-top"),B])}}});n(286).a.add({"zh-CN":{vanSku:{select:"请选择",selected:"已选",selectSku:"请先选择商品规格",soldout:"库存不足",originPrice:"原价",minusTip:"至少选择一件",minusStartTip:function(t){return t+"件起售"},unavailable:"商品已经无法购买啦",stock:"剩余",stockUnit:"件",quotaTip:function(t){return"每人限购"+t+"件"},quotaUsedTip:function(t,e){return"每人限购"+t+"件，你已购买"+e+"件"}},vanSkuActions:{buy:"立即购买",addCart:"加入购物车"},vanSkuImgUploader:{oversize:function(t){return"最大可上传图片为"+t+"MB，请尝试压缩图片尺寸"},fail:"上传失败",uploading:"上传中..."},vanSkuStepper:{quotaLimit:function(t){return"限购"+t+"件"},quotaStart:function(t){return t+"件起售"},comma:"，",num:"购买数量"},vanSkuMessages:{fill:"请填写",upload:"请上传",imageLabel:"仅限一张",invalid:{tel:"请填写正确的数字格式留言",mobile:"手机号长度为6-20位数字",email:"请填写正确的邮箱",id_no:"请填写正确的身份证号码"},placeholder:{id_no:"请填写身份证号",text:"请填写留言",tel:"请填写数字",email:"请填写邮箱",date:"请选择日期",time:"请选择时间",textarea:"请填写留言",mobile:"请填写手机号"}},vanSkuRow:{multiple:"可多选"},vanSkuDatetimeField:{title:{date:"选择年月日",time:"选择时间",datetime:"选择日期时间"},format:{year:"年",month:"月",day:"日",hour:"时",minute:"分"}}}}),Dt.SkuActions=Mt,Dt.SkuHeader=_,Dt.SkuHeaderItem=R,Dt.SkuMessages=Tt,Dt.SkuStepper=at,Dt.SkuRow=Q,Dt.SkuRowItem=J,Dt.SkuRowPropItem=G,Dt.skuHelper=y,Dt.skuConstants=c;e.a=Dt}}]);