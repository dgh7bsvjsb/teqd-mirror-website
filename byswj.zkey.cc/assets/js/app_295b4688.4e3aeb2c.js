(window.webpackJsonp=window.webpackJsonp||[]).push([["app~295b4688"],{d09c:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ZK_SurveyValidate}));var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7037"),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("970b"),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("5bc3"),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("9523"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__),survey_knockout__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b038"),survey_knockout__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(survey_knockout__WEBPACK_IMPORTED_MODULE_4__),jquery__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("c5e1"),jquery__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__),element_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5c96"),element_ui__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_6__),ZK_SurveyValidate=function(){function ZK_SurveyValidate(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ZK_SurveyValidate),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this,"survey",void 0),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(this,"serverCache",void 0),this.survey=new survey_knockout__WEBPACK_IMPORTED_MODULE_4__.Survey,this.serverCache={AnswerSummary:[],QuesAnswerSummary:[],checkUserAnswered:[],checkUserAnsweredByDataSetId:[],findCurrentDateTime:[],findAnswerRanking:[]},this.registCustomeFunctionFactory("limitCount",this.limitCount),this.registCustomeFunctionFactory("limitPhone",this.limitPhone),this.registCustomeFunctionFactory("checkAnsweredByQId",this.checkAnsweredByQId),this.registCustomeFunctionFactory("checkAnsweredByDataSetId",this.checkAnsweredByDataSetId),this.registCustomeFunctionFactory("regexValidate",this.regexValidate),this.registCustomeFunctionFactory("serverTime",this.serverTime),this.registCustomeFunctionFactory("getMonth",this.getMonth),this.registCustomeFunctionFactory("getDate",this.getDate),this.registCustomeFunctionFactory("eval",this.eval),this.registCustomeFunctionFactory("saveRanking",this.saveRanking),this.registCustomeFunctionFactory("encrypt",this.encrypt),this.registCustomeFunctionFactory("decrypt",this.decrypt),this.unregistCustomeFunctionFactory("diffDays"),this.registCustomeFunctionFactory("diffDays",this.diffDays)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ZK_SurveyValidate,[{key:"init",value:function(e){this.survey=e,Object.defineProperty(this.survey,"getServerCache",{value:this.getServerCache}),Object.defineProperty(this.survey,"setServerCache",{value:this.setServerCache}),Object.defineProperty(this.survey,"serverCache",{value:this.serverCache})}},{key:"regexValidate",value:function regexValidate(params){try{var value=JSON.parse(JSON.stringify(params[0])),regex=eval("/"+params[1]+"/g");return!value||("object"==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(value)?regex.test(JSON.stringify(value)):regex.test(value))}catch(e){}}},{key:"limitCount",value:function(e){try{if(e.length<4)return element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning("方法limitCount参数不正确"),!1;var r=e[0],t=e[1],a=e[2],i=e[3];if(t!=a)return!0;var n=r,o=this.survey.getServerCache?this.survey.getServerCache("AnswerSummary",n):void 0;return void 0===o&&(o=jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:"/apiSurvey/survey/AnswerSummary/"+this.survey.surveyId,data:r,method:"post",async:!1,dataType:"json",contentType:"application/json"}).responseJSON,this.survey.setServerCache&&this.survey.setServerCache("AnswerSummary",n,o)),!(t==a&&o&&o[a]>=i)}catch(e){}}},{key:"limitPhone",value:function(e){try{if(e.length<3)return element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning("方法limitPhone参数不正确"),!1;var r=e[0],t=e[1],a=e[3],i={};i[r]=t.toString();var n=JSON.stringify(i),o=this.survey.getServerCache?this.survey.getServerCache("QuesAnswerSummary",n):void 0;return void 0===o&&(o=jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:"/apiSurvey/survey/QuesAnswerSummary/"+this.survey.surveyId,data:n,method:"post",async:!1,dataType:"json",contentType:"application/json"}).responseJSON,this.survey.setServerCache&&this.survey.setServerCache("QuesAnswerSummary",n,o)),!(o&&o[t]>=a)}catch(e){}}},{key:"checkAnsweredByQId",value:function(e){try{if(!this.survey.userKeyId)return!1;if(!e||0==e.length)return element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning("方法checkAnswered参数不正确"),!1;var r=JSON.stringify({qid:e[0],data:this.survey.userKeyId}),t=this.survey.getServerCache?this.survey.getServerCache("checkUserAnswered",r):void 0;return void 0===t&&(t=jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:"/apiSurvey/survey/checkUserAnswered/"+e[0],data:this.survey.userKeyId,method:"post",async:!1,dataType:"json",contentType:"application/json",headers:{Authorization:this.survey.token}}).responseJSON,this.survey.setServerCache&&this.survey.setServerCache("checkUserAnswered",r,t)),t&&t.result||!1}catch(e){}}},{key:"checkAnsweredByDataSetId",value:function(e){try{if(!e||e.length<3)return element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning("方法checkAnswered参数不正确"),!1;var r=Array.isArray(e[1]);if(r)for(var t=0;t<e[2].length;t++)"number"==typeof e[2][t]&&(e[2][t]=JSON.stringify(e[2][t]));else"number"==typeof e[2]&&(e[2]=JSON.stringify(e[2]));var a=JSON.stringify({dataSetId:e[0],variableNames:r?e[1]:[e[1]],variableValues:r?e[2]:[e[2]]}),i=this.survey.getServerCache?this.survey.getServerCache("checkUserAnsweredByDataSetId",a):void 0;return void 0===i&&(i=jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:"/apiSurvey/survey/checkUserAnsweredByDataSetId",data:a,method:"post",async:!1,dataType:"json",contentType:"application/json",headers:{Authorization:this.survey.token}}).responseJSON,this.survey.setServerCache&&this.survey.setServerCache("checkUserAnsweredByDataSetId",a,i)),i&&i.result||!1}catch(e){}}},{key:"serverTime",value:function(){try{var e="findCurrentDateTime",r=this.survey.getServerCache?this.survey.getServerCache("findCurrentDateTime",e):void 0;return void 0===r&&(r=jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:"/apiSurvey/survey/findCurrentDateTime",method:"get",async:!1,dataType:"json",contentType:"application/json"}).responseJSON,this.survey.setServerCache&&this.survey.setServerCache("findCurrentDateTime",e,r)),r&&r.resultStatus&&r.result||""}catch(e){}}},{key:"getMonth",value:function(e){try{if(1!==e.length||!e[0])return;return new Date(e[0]).getMonth()+1}catch(e){}}},{key:"getDate",value:function(e){try{if(1!==e.length||!e[0])return;return new Date(e[0]).getDate()}catch(e){}}},{key:"diffDays",value:function(e){try{if(!Array.isArray(e)||2!==e.length)return 0;if(!e[0]||!e[1])return 0;var r=i(e[0]),t=i(e[1]),a=Math.abs(t-r);return Math.ceil(a/864e5)}catch(e){}function i(e){return"string"==typeof e&&e.length>10?new Date(e.slice(0,10)):new Date(e)}}},{key:"eval",value:function _eval(params){try{if(1!==params.length||!params[0])return;try{return eval(params[0])}catch(e){return e}}catch(e){}}},{key:"saveRanking",value:function(e){try{var r=this.survey;if(!e||0==e.length)return element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.warning("方法saveRanking参数不正确"),!1;try{!function(){for(var t=e[0],a=[],i=1;i<e.length;i++)a.push(e[i][0]);if(r.updateAnswerRankingVOList)for(i=0;i<r.updateAnswerRankingVOList.length;i++){if(r.updateAnswerRankingVOList[i].targetVarName==t){r.updateAnswerRankingVOList[i].fieldValues=a;break}i==r.updateAnswerRankingVOList.length-1&&r.updateAnswerRankingVOList.push({targetVarName:t,fieldValues:a})}else r.updateAnswerRankingVOList=[{targetVarName:t,fieldValues:a}]}()}catch(e){}var t={};if(e.length>1){t={};for(var a=1;a<e.length;a++)e[a]&&2==e[a].length&&e[a][1]&&(t[e[a][0]]=e[a][1])}var i=JSON.stringify(t),n=this.survey.getServerCache?this.survey.getServerCache("findAnswerRanking",i):void 0;return void 0===n&&(n=jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:"/apiSurvey/survey/findAnswerRanking/"+this.survey.surveyId,data:i,method:"post",async:!1,dataType:"json",contentType:"application/json"}).responseJSON,this.survey.setServerCache&&this.survey.setServerCache("findAnswerRanking",i,n)),n.resultStatus?n.result:(element_ui__WEBPACK_IMPORTED_MODULE_6__.Message.error(n.message),"")}catch(e){}}},{key:"encrypt",value:function(e){var r=(e[0]||"").toString(),t=e[1]||this.survey.urlArgumentsGenerateKey;if(!r||!t)return"";var a=__webpack_require__("ada6"),i=__webpack_require__("6aea")(t);return a.encrypt(r,i)}},{key:"decrypt",value:function(e){var r=e[0],t=e[1]||this.survey.urlArgumentsGenerateKey;if(!r||!t)return"";var a=__webpack_require__("ada6"),i=__webpack_require__("6aea")(t);try{return a.decrypt(r,i)||r}catch(e){return r}}},{key:"registCustomeFunctionFactory",value:function(e,r,t){survey_knockout__WEBPACK_IMPORTED_MODULE_4__.FunctionFactory.Instance.register(e,r)}},{key:"unregistCustomeFunctionFactory",value:function(e){survey_knockout__WEBPACK_IMPORTED_MODULE_4__.FunctionFactory.Instance.unregister(e)}},{key:"getServerCache",value:function(e,r){if(e in this.serverCache)for(var t=0;t<this.serverCache[e].length;t++)if(this.serverCache[e][t].key==r)return this.serverCache[e][t].value}},{key:"setServerCache",value:function(e,r,t){e in this.serverCache&&(this.getServerCache(e,r)||this.serverCache[e].push({key:r,value:t}))}}]),ZK_SurveyValidate}()},d9e4:function(e,r,t){"use strict";var a=t("7037"),i=t.n(a),n=t("970b"),o=t.n(n),s=t("5bc3"),l=t.n(s),d=t("9523"),u=t.n(d),c=t("c5e1"),y=t.n(c),v=(t("7631"),t("b038")),p=t("68fb"),_=t("1037"),g=(t("e6e5"),t("d055")),m=t.n(g),h=t("cbd0"),f=t("5c96"),b=t("23d1"),S=t.n(b),z=t("d09c"),P=t("3b4e"),k=t("9e1d"),x=t("21dd"),w=t("bd40"),C=(t("0b0e"),t("38f7"),t("8d04"),t("d7a7")),I=t("d970"),T=t("de80"),E=(t("2ded"),t("e3c8"),t("409d")),M=t("c3bf"),q=t("c551"),D=t("cde9"),L=t("5da3"),O=t("092c"),A=t("d1fa"),B=t("fe22"),R=t("b66b"),U=t("5c16"),V=t("7dda"),N=t("5e82"),W=t("3e6c"),F=t("05f3"),j=(t("d11f"),t("eebc"),t("78c6")),K=(t("1ef3"),t("1a4e")),J=t("39c3"),Q=t("83b1"),H=function(){function e(){o()(this,e),u()(this,"OTHER_ITEM_VALUE","99998"),u()(this,"NONE_ITEM_VALUE","99996"),u()(this,"dictionaryUrl","/apiSurvey/dictionary/find/"),u()(this,"color",t("8ead").color),u()(this,"GlobalConfig",t("8ead").GlobalConfig),u()(this,"dxSurveyServiceExtInstance",void 0),u()(this,"survey",new v.Survey),u()(this,"zk_surveyValidate",void 0),u()(this,"regMap",new Map([["positiveInteger","^[1-9]\\d*$"],["twoDecimalPlaces","^[0-9]+\\.[0-9]{2}$"],["phone","^1\\d{10}$"],["email","^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"],["IDCard","^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$"],["chinese","^[\\u4e00-\\u9fa5]{0,}$"]])),u()(this,"defaultData",{completeHtml:'<div style="background-color:rgba(255,255,255,.85);padding:20px;margin-top: 40px;width: 100%;"><p style="text-align:center">&nbsp;</p><p style="text-align:center"><span style="font-size:22px"><span style="color:#3498db"><strong>答卷完成！</strong></span></span></p><p style="text-align:center"><span style="font-size:22px"><span style="color:#3498db"><strong>感谢您的参与!</strong></span></span></p><hr><p style="text-align:center"><span style="font-size:14px"><span style="color:#3498db"><strong>技术支持：中科易研（北京）科技有限公司</strong></span></span></p></div>',completedHtml:'<div style="background-color:rgba(255,255,255,.85);padding:20px;margin-top: 40px;width: 100%;"><p style="text-align:center">&nbsp;</p><p style="text-align:center"><span style="font-size:22px"><span style="color:#3498db"><strong>答卷已完成！</strong></span></span></p><p style="text-align:center"><span style="font-size:22px"><span style="color:#3498db"><strong>感谢您的参与!</strong></span></span></p><hr><p style="text-align:center"><span style="font-size:14px"><span style="color:#3498db"><strong>技术支持：中科易研（北京）科技有限公司</strong></span></span></p></div>',loadingHtml:'<div id="loader" class="pageload-overlay show pageload-loading" data-opening="M 40,100 150,0 -65,0 z"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 80 60" preserveAspectRatio="none"><path d="M 40,100 150,0 l 0,0 z"></path><desc>Created with Snap</desc><defs></defs></svg></div>'}),u()(this,"isTest",!1),u()(this,"isInitial",!0),this.dxSurveyServiceExtInstance=new h.a,v.surveyLocalization.defaultLocale="zh-cn",v.StylesManager.applyTheme("darkrows"),this.changeLocalization(),this.modifySurveyModel(),this.addSurveyProperties(),this.zk_surveyValidate=new z.a}return l()(e,[{key:"init",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isTest=r,this.survey=e,this.zk_surveyValidate.init(this.survey),this.customSurveyProperties(e)}},{key:"changeLocalization",value:function(){v.surveyStrings.signaturePlaceHolder="在此签名"}},{key:"modifySurveyModel",value:function(){(0,t("1793").surveyModify)(v);var e=new _.a;v.SurveyModel.prototype.captchaDuration=e.captchaDuration,v.SurveyModel.prototype.telLoginTelNum=e.telLoginTelNum,v.SurveyModel.prototype.telLoginCaptchaNum=e.telLoginCaptchaNum,v.SurveyModel.prototype.telLoginErrText=e.telLoginErrText;var r=this.color,a=v.StylesManager.ThemeColors.default;a["$main-color"]=r.mainColor,a["$main-hover-color"]=r.mainHoverColor,a["$text-color"]=r.textColor,a["$header-color"]=r.headerColor,a["$header-background-color"]=r.headerBackgroundColor,a["$body-container-background-color"]=r.bodyContainerBackgroundColor,v.StylesManager.applyTheme();var n=this;v.SurveyModel.prototype.changeState=function(e){this.koState(e)},v.SurveyModel.prototype.computeTimeDifference=function(e){if(e){var r=new Date(e),t=(new Date).valueOf();this.timeDifference=t-r}},v.SurveyModel.prototype.loadSurveyFromServiceJson_2=function(e){e&&(this.setJsonObject(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService())},v.SurveyModel.prototype.objectMerge=function(e,r){if(e&&r){for(var t in r){var a=r[t];a&&"object"===i()(a)?(e[t]||(e[t]={}),this.objectMerge(e[t],a)):e[t]=a}return e}},v.SurveyModel.prototype.setZkeyUserInfo=function(e){var r;r=this.getUrlAllRequestJson?this.objectMerge(e,this.getUrlAllRequestJson(location.href)||{}):this.objectMerge(e,{}),this.doLoadAnswerData(),this.setValue("zkeyUserInfo",r)},v.SurveyModel.prototype.loadSurveyFromService=function(e,r){e&&(e=e),r&&(this.clientId=r);var t=this;this.isLoading=!0,this.onLoadingSurveyFromService(),r?this.createSurveyService().getSurveyJsonAndIsCompleted(e,this.clientId,(function(e,r,a,i){t.isLoading=!1,e&&(t.isCompletedBefore="completed"==a,t.loadSurveyFromServiceJson_2(r))})):this.createSurveyService().loadSurvey(e,(function(e,r,a){if(t.isLoading=!1,e){t.clientId=a.result.token?a.result.token:"",a.timeSpan&&t.computeTimeDifference(a.timeSpan),t.responseData=a,t.startAnswerDate||(t.startAnswerDate=a.timeSpan),t.survey.onlyWebChat=a.result.publishQuestionnaireModel.onlyWebChat,t.survey.allowWebChatInfo=a.result.publishQuestionnaireModel.allowWebChatInfo,t.token=a.result.token?a.result.token:"";var i=a.result.publishQuestionnaireModel;if(i.jsonContentObject){var o=i.jsonContentObject;if(o.title){var s=o.title;y()("body").append('<div id="title_preview" style="display: none;">'.concat(s,"</div>"));var l=y()("#title_preview").text();y()("#title_preview").remove(),document.title=l}}if(t.onLoadedSurveyFromService.fire(t,a),o.allowWebChatInfo&&!t.getUrlAllRequestJson(location.href).code&&!t.getUrlAllRequestJson(location.href).state)return;if("zkeyuser"==i.loginType){var d=t.zkey_token;d?n.dxSurveyServiceExtInstance.getUserInfo(d,(function(e,r){e&&(t.loadSurveyFromServiceJson_2(o),t.userKeyId=r.result.id,t.setZkeyUserInfo(r.result),t.changeState("running"))})):n.dxSurveyServiceExtInstance.loginByZkeyUser()}else"urlLogin"==i.loginType?t.doUrlLogin(o):"passwordLogin"==i.loginType?(t.loadSurveyFromServiceJson_2(o),t.passwordLogining=!0,t.changeState("passwordLogining")):"telLogin"==i.loginType||"telSampleLogin"==i.loginType?(t.loadSurveyFromServiceJson_2(o),t.telLogining=!0,t.changeState("telLogining")):(t.loadSurveyFromServiceJson_2(o),"anonymous"==i.loginType&&t.setZkeyUserInfo({}))}else t.urlLoginErrorText=a.message,t.urlLoginError=!0,t.changeState("urlLoginError")}))},v.SurveyModel.prototype.doComplete=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isDesignMode)return!0;var r={allowComplete:!0,isCompleteOnTrigger:e};if(this.onCompleting.fire(this,r),!r.allowComplete)return!0;var t=this.hasCookie;this.stopTimer(),this.setCompleted(),this.clearUnusedValues();var a=this,i=!1,o={isCompleteOnTrigger:e,showDataSaving:function(e){i=!0,a.setCompletedState("saving",e)},showDataSavingError:function(e){a.setCompletedState("error",e)},showDataSavingSuccess:function(e){a.setCompletedState("success",e)},showDataSavingClear:function(e){a.setCompletedState("","")}};if(this.onComplete.fire(this,o),!t&&this.surveyId?this.sendResult().then((function(e){d()})).catch((function(e){})):d(),a.setCompletedState("success",a.getLocString("savingDataSuccess")||""),n.isTest){var s=document.getElementById("surveyjsExample"),l=s.getElementsByClassName("svd-simulator-main");l&&l.length>0&&(l[0].style.display="none",y()(l[0]).find("style").append("survey-simulator{display: none!important;}"))}function d(){i||a.navigateTo()}return!0},v.SurveyModel.prototype.sendResult=function(e,r,t){var a=this;return new Promise((function(i,n){if(a.isEditMode&&(t&&a.onPartialSend&&a.onPartialSend.fire(a,null),!e&&a.surveyPostId&&(e=a.surveyPostId),e&&(r&&(a.clientId=r),!t||a.clientId))){var o=a;a.surveyShowDataSaving&&a.setCompletedState("saving",a.getLocString("savingData")||""),a.createSurveyService().sendResult(e,a,(function(e,r){var t;e?(o.setCompletedState("success",o.getLocString("savingDataSuccess")||""),o.answerResponseData=r.result,"infiniteContinue"==o.loadAnswerData?o.saveLoadAnswerData(!0):o.isLastPage&&o.clearLoadAnswerData(),"none"!=o.award&&o.award&&o.doQrcode(null===(t=r.result)||void 0===t?void 0:t.id,o),i(r)):(30001==r.status?(f.MessageBox.alert(o.repeatedHtml||"该账号已填答完成，感谢您的参与","提示"),o.changeState("completed")):o.setCompletedState("error",r.message||o.getLocString("savingDataError")||""),n(r));o.onSendResult.fire(o,{success:e,response:r})}),a.clientId,t)}}))},v.SurveyModel.prototype.saveLoadAnswerData=function(e){if("none"==this.loadAnswerData||n.isInitial)return"";if("local"==this.loadAnswerData||"infiniteContinue"==this.loadAnswerData){var r={userKeyId:this.userKeyId,currentPageNo:e?0:this.currentPageNo,data:this.data,startAnswerDate:this.startAnswerDate,userAction:this.userAction,timePerPage:this.timePerPage};window.localStorage.setItem(this.surveyPostId,JSON.stringify(r))}},v.SurveyModel.prototype.clearLoadAnswerData=function(){if("none"==this.loadAnswerData)return"";"local"!=this.loadAnswerData&&"infiniteContinue"!=this.loadAnswerData||window.localStorage.removeItem(this.surveyPostId)},"timePerPage"in v.SurveyModel.prototype||Object.defineProperty(v.SurveyModel.prototype,"timePerPage",{get:function(){var e={};return this.pages.forEach((function(r){e[r.name]=r.timeSpent})),e},set:function(e){this.pages.forEach((function(r){r.name in e&&e[r.name]>0&&(r.timeSpent=e[r.name])}))}}),v.SurveyModel.prototype.doLoadAnswerData=function(){var e=this;if(n.isInitial=!1,"none"==this.loadAnswerData)return"";if("local"==this.loadAnswerData||"infiniteContinue"==this.loadAnswerData){var r=!1,t=window.localStorage.getItem(this.surveyPostId),a=Object.assign({data:{},currentPageNo:0},JSON.parse(t||"{}"));if(this.userKeyId==a.userKeyId?(r=!0,a=Object.assign({},a,{zkeyUserInfo:this.data.zkeyUserInfo})):this.clearLoadAnswerData(),r&&t){var i=function(){var e=this;this.data=a.data,["currentPageNo","startAnswerDate","userAction","timePerPage"].forEach((function(r){a[r]&&(e[r]=a[r])})),this.saveLoadAnswerData()};this.loadAnswerDataMessage?f.MessageBox.confirm(this.loadAnswerDataMessage,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.call(e)})).catch((function(){e.clearLoadAnswerData()})):i.call(this)}}},v.SurveyModel.prototype.userAction=[],v.SurveyModel.prototype.doTelLogin=function(){if(/^1\d{10}$/.test(this.telLoginTelNum))if(""!=this.telLoginCaptchaNum){var e=this;n.dxSurveyServiceExtInstance.telLogin({userName:e.telLoginTelNum,passWord:e.telLoginCaptchaNum,shortLink:e.surveyId,survey:e,callBack:function(r,t){if(r){if(t.result.userInfo?(e.userKeyId=t.result.userInfo.keyId,e.loadSurveyFromServiceJson_2(t.result.publishQuestionnaireModel.jsonContentObject),e.setZkeyUserInfo(t.result.userInfo.jsonData)):(e.userKeyId=e.telLoginTelNum,e.loadSurveyFromServiceJson_2(t.result.publishQuestionnaireModel.jsonContentObject),e.setZkeyUserInfo({phone:e.telLoginTelNum})),t.result.answerCount>=e.repeatedNum)return n.dxSurveyServiceExtInstance.interval&&(clearInterval(n.dxSurveyServiceExtInstance.interval),n.dxSurveyServiceExtInstance.interval=void 0),f.MessageBox.alert(e.repeatedHtml||"该账号已填答完成，感谢您的参与","提示"),e.changeState("completed"),void e.setCompletedState("success",e.getLocString("savingDataSuccess")||"");t.result.answerCount&&e.remind&&f.MessageBox.confirm(e.repeatedHtml||"您已填答过是否重新填答？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){e.telLogining=!1,e.changeState("running")})),e.telLogining=!1,e.changeState("running")}else e.telLogining=!1,e.telLoginErrText=t.message}})}else this.telLoginErrText=this.getLocString("noCaptchaErr")||"请输入验证码";else this.telLoginErrText=this.getLocString("telNumErr")||"请正确输入手机号"},v.SurveyModel.prototype.doPasswordLogin=function(){var e=this;""!=e.loginPassWord?n.dxSurveyServiceExtInstance.passwordLogin({userName:e.loginPassWord,shortLink:e.surveyId,survey:e,callBack:function(r,t){r?(e.token=t.result.token||e.token,e.passwordLogining=!1,e.changeState("running"),e.loadSurveyFromServiceJson_2(t.result.publishQuestionnaireModel.jsonContentObject),e.setZkeyUserInfo({})):e.telLoginErrText=t.message}}):this.telLoginErrText=this.getLocString("telNumErr")},v.SurveyModel.prototype.computeTimeDifference=function(e){if(e){var r=new Date(e).valueOf(),t=(new Date).valueOf();this.timeDifference=t-r}},v.SurveyModel.prototype.doQrcode=function(e,r){var t,a=function(){var e=y.a.ajax({url:"/apiZkeyUser/common/siteinfo",data:"{}",method:"post",async:!1,dataType:"json",contentType:"application/json"}).responseJSON;return e.resultStatus?e.result:null}();if(a){var i=a.surveyConfig.wx_appid,n=a.surveyConfig.wx_redirect_uri;if(i&&n){n=n+"/weixin/wx?verifyHost="+window.location.host;var o=r.allowWebChatInfo?"snsapi_userinfo":"snsapi_base",s="https://open.weixin.qq.com/connect/oauth2/authorize?"+(window.location.protocol,window.location.host,[{key:"appid",value:i},{key:"redirect_uri",value:encodeURIComponent(n)},{key:"response_type",value:"code"},{key:"scope",value:o},{key:"state",value:e},{key:"connect_redirect",value:1}]).map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")+"#wechat_redirect",l=document.getElementById("survey-award-qrcode-canvas");m.a.toCanvas(l,s,{width:500,margin:2,color:{dark:"#333333"}});var d=document.getElementById("survey-award-qrcode-canvas").toDataURL("image/jpg",1);(new Image).src=d,document.getElementById("survey-award-qrcode-img").src=d,null==l||null===(t=l.parentNode)||void 0===t||t.removeChild(l)}else f.MessageBox.alert("请在后台配置微信配置信息！","提示")}else f.MessageBox.alert("获取配置信息失败！","提示")},v.SurveyModel.prototype.creatCaptcha=function(){var e=this;e.captchaDuration>=0&&60!=e.captchaDuration||(/^1\d{10}$/.test(e.telLoginTelNum)?n.dxSurveyServiceExtInstance.creatCaptcha(e,(function(r,t){if(r){e.telLoginErrText="",y()(".captcha-send").addClass("captcha-send-loading").val(e.captchaDuration+"S");var a=setInterval((function(){e.captchaDuration>=0&&e.captchaDuration--,y()(".captcha-send").val(e.captchaDuration+"S"),e.captchaDuration<0&&(e.captchaDuration=60,e.telLoginErrText="",y()(".captcha-send").val("发送验证码").removeClass("captcha-send-loading"),clearInterval(a))}),1e3)}else e.telLoginErrText=t.message,y()(".captcha-send").val("发送验证码").removeClass("captcha-send-loading")})):e.telLoginErrText="请正确输入手机号")},v.SurveyModel.prototype.nextPage=function(e){var r=!0;if(this.isLastPage)return r=!1,this.doCurrentPageComplete(!1);if("select"==this.loginType&&this.isFirstPage){var t=this;return!this.hasErrorsOnNavigate(!1)&&(n.dxSurveyServiceExtInstance.getLoginPublic({userName:this.getValue(this.userName),passWord:this.getValue(this.passWord),shortLink:this.surveyPostId,survey:this,callBack:function(r,a){if(r){if(a.result.answerCount>=t.repeatedNum)return n.dxSurveyServiceExtInstance.interval&&(clearInterval(n.dxSurveyServiceExtInstance.interval),n.dxSurveyServiceExtInstance.interval=void 0),f.MessageBox.alert(t.repeatedHtml||"该账号已填答完成，感谢您的参与","提示"),t.changeState("completed"),void t.setCompletedState("success",t.getLocString("savingDataSuccess")||"");a.result.answerCount>0&&t.remind&&f.MessageBox.confirm(t.repeatedHtml||"您已填答过是否重新填答？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){"function"==typeof e&&e(),t.repeated=!0,t.changeState("repeated")})),a.result.userInfo?(t.userKeyId=a.result.userInfo.keyId,t.doNextPage(),t.setZkeyUserInfo(a.result.userInfo.jsonData)):(t.userKeyId=t.getValue(t.userName),t.doNextPage(),t.setZkeyUserInfo({}))}else{if(t.allowNoSampleAnswer)return"function"==typeof e&&e(),t.userKeyId=t.getValue(t.userName),void t.doNextPage();30002==a.status?f.Message.error(a.message||t.loginErrorText||""):Object(f.Message)({message:t.loginErrorText||a.message||"",type:"error"})}"function"==typeof e&&e()}}),this.showLoading=0,r)}return"function"==typeof e&&e(),r=!0,this.doCurrentPageComplete(!1)},v.SurveyModel.prototype.doUrlLogin=function(e){var r=this;n.dxSurveyServiceExtInstance.getLoginPublic({userName:r.getUrlAllRequestJson(location.href,e)[e.userName],passWord:r.getUrlAllRequestJson(location.href,e)[e.passWord],shortLink:r.surveyId,survey:r,callBack:function(t,a){if(t){if(r.loadSurveyFromServiceJson_2(e),r.userKeyId=a.result.userInfo.keyId,a.result.answerCount>=r.repeatedNum)return n.dxSurveyServiceExtInstance.interval&&(clearInterval(n.dxSurveyServiceExtInstance.interval),n.dxSurveyServiceExtInstance.interval=void 0),f.MessageBox.alert(e.repeatedHtml||"该账号已填答完成，感谢您的参与","提示"),r.changeState("completed"),void r.setCompletedState("success",r.getLocString("savingDataSuccess")||"");a.result.userInfo.answered&&e.remind&&f.MessageBox.confirm(e.repeatedHtml||"您已填答过是否重新填答？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){r.repeated=!0,r.changeState("completed"),r.setCompletedState("success",r.getLocString("savingDataSuccess")||"")})),r.setZkeyUserInfo(a.result.userInfo.jsonData)}else{if(e.allowNoSampleAnswer)return void r.loadSurveyFromServiceJson_2(e);f.Message.error(a.message),r.urlLoginErrorText=a.message,r.urlLoginError=!0,r.changeState("urlLoginError")}}})},v.SurveyModel.prototype.getUrlAllRequestJson=function(e,r){e=e||window.location.href||location.search;var a=r&&r.urlArgumentsGenerateKey||this.urlArgumentsGenerateKey;try{var i,n=null===(i=e)||void 0===i?void 0:i.match(/\?([^#]+)/);e=n?n[1]:"";for(var o=new Object,s=e.split("&"),l=0;l<s.length;l++){var d=s[l].split("=");if(!(d.length<=1)&&d[1]){var u=decodeURIComponent(d[0]).replace(/\./g,"_"),c=decodeURIComponent(d[1]),y=t("ada6"),v=t("6aea");if(a){var p=v(a);try{o[u]=y.decrypt(c,p)||c}catch(e){o[u]=c}}else o[u]=c}}return o}catch(e){return null}},v.SurveyModel.prototype.getQuestionCountBypage=function(e){var r=[];return this.pages[e].addQuestionsToList(r,!1,!0),r.map((function(e){return e.getType()})).filter((function(e){return"paneldynamic"!=e})).length},v.defaultStandardCss.footer="zkey-survey-footer",Object.defineProperty(v.QuestionFactory,"DefaultChoices",{value:[{value:"1",text:v.surveyLocalization.getString("choices_Item")+"1"},{value:"2",text:v.surveyLocalization.getString("choices_Item")+"2"},{value:"3",text:v.surveyLocalization.getString("choices_Item")+"3"}]}),v.QuestionMatrixDropdownModelBase.addDefaultColumns=function(e){var r=v.QuestionFactory.DefaultColums;if(r&&r.length>0)for(var t=0;t<r.length;t++)e.addColumn((t+1).toString(),"列 "+(t+1))},v.Question.prototype.canClearValueAsInvisible=function(){if("zkeyUserInfo"==this.valueName)return!1;if(this.isVisible&&this.isParentVisible)return!1;if(!this||!this.valueName)return!0;if("noneclear"==this.clearInvisibleValues)return!1;if("onComplete"==this.clearInvisibleValues||"onHidden"==this.clearInvisibleValues)return!0;if("inherit"==this.clearInvisibleValues){if("noneclear"==this.clearInvisibleValues)return!1;if("onComplete"==this.clearInvisibleValues||"onHidden"==this.clearInvisibleValues)return!0}return!this.survey.hasVisibleQuestionByValueName(this.valueName)},v.QuestionSelectBase.prototype.clearUnusedValues=function(){v.Question.prototype.clearUnusedValues.call(this),this.isOtherSelected||this.hasComment||(this.comment="");for(var e="object"==i()(this.value)?this.value:[this.value],r=0;r<this.choices.length;r++){var t=this.choices[r].value,a="".concat(this.valueName,"_").concat(t,"_text"),n=this.data.getValue(a);!e.includes(t)&&n&&this.data.setValue(a,void 0,0,!1)}},v.QuestionCheckboxModel.prototype.selectAll=function(){for(var e=[],r=0;r<this.visibleChoices.length;r++){var t=this.visibleChoices[r];t===this.noneItem||t===this.otherItem||t===this.selectAllItem||t.exclusive||e.push(t.value)}this.value=e},Object.defineProperty(v.QuestionCheckboxModel.prototype,"isAllSelected",{get:function(){var e=this.value;if(!e||!Array.isArray(e))return!1;if(this.isItemSelected(this.noneItem))return!1;var r=this.visibleChoices.length;this.hasOther&&r--,this.hasNone&&r--,this.hasSelectAll&&r--;var t=e.length;this.isItemSelected(this.otherItem)&&t--;for(var a=0;a<this.visibleChoices.length;a++){var i=this.visibleChoices[a];i.exclusive&&(r--,e.includes(i.value)&&t--)}return t===r},set:function(e){e?this.selectAll():this.clearValue()}}),v.QuestionSelectBase.prototype.changeInput=function(e,r){var t=y()(r.target).val(),a=e.locOwner.valueName+"_"+e.value+"_text";e.locOwner.data.setValue(a,t),n.survey.validateQuestion(e.locOwner)}}},{key:"addSurveyProperties",value:function(){var e=this;function r(){var e=navigator.userAgent,r=/(?:Windows Phone)/.test(e),t=/(?:SymbianOS)/.test(e)||r,a=/(?:Android)/.test(e),i=/(?:Firefox)/.test(e),n=(/(?:Chrome|CriOS)/.test(e),/(?:iPad|PlayBook)/.test(e)||a&&!/(?:Mobile)/.test(e)||i&&/(?:Tablet)/.test(e)),o=/(?:iPhone)/.test(e)&&!n;return{isTablet:n,isPhone:o,isAndroid:a,isPc:!o&&!a&&!t}}function t(e,t){return r().isPc?e[t+"_pc"]:e[t+"_m"]}Object.defineProperty(window,"Survey",{value:v}),v.Base.commentPrefix="_Other",v.settings.minWidth="",v.settings.maxWidth="",Object.defineProperty(v.settings,"dictionaryUrl",{value:this.dictionaryUrl}),v.Serializer.addProperty("survey",{name:"defaultRepeatedHtml",visible:!1,default:this.defaultData.completedHtml}),v.Serializer.addProperty("survey",{name:"defaultCompletedHtml",visible:!1,default:this.defaultData.completeHtml}),v.Serializer.addProperty("survey",{name:"defaultCompletedBeforeHtml",visible:!1,default:this.defaultData.completedHtml}),v.Serializer.addProperty("survey",{name:"defaultLoadingHtml",visible:!1,default:this.defaultData.loadingHtml}),v.Serializer.addProperty("survey",{name:"showDescription:boolean",visible:!0,visibleIndex:3,category:"general",default:!0}),Object.defineProperty(v.SurveyModel.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&(this.showTitle||this.showDescription)},enumerable:!1,configurable:!0}),v.Serializer.findProperty("survey","locale").visible=!1,v.Serializer.findProperty("question","indent").visible=!1,v.Serializer.findProperty("question","minWidth").defaultValue="",v.Serializer.findProperty("question","maxWidth").defaultValue="",v.QuestionRowModel.prototype.setElementMaxMinWidth=function(e){},v.Serializer.addProperty("survey",{name:"requiredErrorText:text",visible:!0,category:"validation"}),v.Serializer.addProperty("radiogroup",{name:"openModal:function",visible:!1,default:function(e,r,t){e.survey&&e.survey,r.showSelectModal=!0,y()(t.target).next().show(),y()(t.target).next().click((function(){y()(this).hide()}))}}),v.Serializer.addProperty("dropdown",{name:"openModal:function",visible:!1,default:function(e,r,t){e.survey&&e.survey,r.showSelectModal=!0,y()(t.target).next().show(),y()(t.target).next().click((function(){y()(this).hide()}))}}),v.Serializer.findProperty("dropdown","optionsCaption").category="choices",v.Serializer.findProperty("dropdown","optionsCaption").visible=!0,v.Serializer.addProperty("dropdown",{name:"inputSuffix:text",visible:!0,category:"general"}),v.MatrixDropdownColumn.getColumnTypes=function(){var e=[];for(var r in v.matrixDropdownColumnTypes)e.push(r);return["bootstrapslider"].forEach((function(r){e.push(r)})),e},v.Serializer.findProperty("matrixdropdowncolumn","autoUnmask").category="",v.Serializer.findProperty("matrixdropdowncolumn","autoUnmask").dependsOn=["cellType"],v.Serializer.findProperty("matrixdropdowncolumn","autoUnmask").visibleIf=function(e){return"text"==e.cellType},v.Serializer.findProperty("matrixdropdowncolumn","clearIncomplete").category="",v.Serializer.findProperty("matrixdropdowncolumn","clearIncomplete").dependsOn=["cellType"],v.Serializer.findProperty("matrixdropdowncolumn","clearIncomplete").visibleIf=function(e){return"text"==e.cellType},v.Serializer.findProperty("matrixdropdowncolumn","inputFormat").category="",v.Serializer.findProperty("matrixdropdowncolumn","inputFormat").dependsOn=["cellType"],v.Serializer.findProperty("matrixdropdowncolumn","inputFormat").visibleIf=function(e){return"text"==e.cellType},v.Serializer.findProperty("matrixdropdowncolumn","inputMask").category="",v.Serializer.findProperty("matrixdropdowncolumn","inputMask").dependsOn=["cellType"],v.Serializer.findProperty("matrixdropdowncolumn","inputMask").visibleIf=function(e){return"text"==e.cellType},v.Serializer.findProperty("matrixdropdowncolumn","name").isUnique=!1,v.Serializer.addProperty("matrixdropdowncolumn",{name:"showOptionsCaption:boolean",visible:!0,default:!0,dependsOn:["cellType"],visibleIf:function(e){return"dropdown"==e.cellType||"default"==e.cellType}}),v.Serializer.addProperty("matrixdropdowncolumn",{name:"optionsCaption:text",visible:!0,default:"请选择...",dependsOn:["cellType"],visibleIf:function(e){return"dropdown"==e.cellType||"default"==e.cellType}}),v.Serializer.addProperty("matrixdropdown",{name:"hideColumnsIfEmpty:boolean",visible:!0,category:"columns",visibleIndex:1}),v.Serializer.addProperty("matrixdropdown",{name:"getAllColumns:function",visible:!1,default:function(e){if(this.hideColumnsIfEmpty)return e;for(var r=0,t=[e[r]],a=0;a<this.columns.length;a++)this.columns[a]._isVisible&&(this.columns[a]._hasVisibleCell?(r++,t.push(e[r])):t.push({isEmpty:!0,isActionsCell:!1,hasPanel:!1,hasQuestion:!1,hasTitle:!1}));return t}}),v.Serializer.findProperty("choicesByUrl","url").type="zkProperty",v.Serializer.findProperty("choicesByUrl","url").onSetValue=function(r,t){t&&t.startsWith(":")?r.setPropertyValue("url",e.dictionaryUrl+t):r.setPropertyValue("url",t)},v.Serializer.findProperty("choicesByUrl","valueName").defaultValue="value",v.Serializer.findProperty("choicesByUrl","titleName").defaultValue="title",v.Serializer.findProperty("file","storeDataAsText").defaultValue=!1,v.Serializer.findProperty("file","storeDataAsText").visible=!1,v.Serializer.findProperty("survey","logo").visible=!1,v.Serializer.findProperty("survey","logoPosition").visible=!1,v.Serializer.findProperty("survey","logoWidth").visible=!1,v.Serializer.findProperty("survey","logoHeight").visible=!1,v.Serializer.findProperty("survey","logoFit").visible=!1,v.Serializer.addProperty("survey",{name:"equipment",visible:!1,getValue:function(){return window.navigator.userAgent,-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger")?"weixin":""}}),v.Serializer.addProperty("survey",{name:"token",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zkey_token",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"previewImg",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"themeName",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"oneToOne:boolean",default:!1,visible:!1}),v.Serializer.addProperty("survey",{name:"userName",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"passWord",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"loginType",category:"general",visible:!1,default:"anonymous",choices:["anonymous","select","urlLogin","telLogin","telSampleLogin","passwordLogin","zkeyuser"]}),v.Serializer.addProperty("survey",{name:"allowNoSampleAnswer:boolean",category:"general",default:!1,visibleIndex:8,dependsOn:["loginType"],visibleIf:function(e){return["select","urlLogin"].includes(e.loginType)}}),v.Serializer.findProperty("survey","checkErrorsMode").choices.includes("onValueChanging")&&v.Serializer.findProperty("survey","checkErrorsMode").choices.splice(v.Serializer.findProperty("survey","checkErrorsMode").choices.indexOf("onValueChanging"),1),v.Serializer.addProperty("survey",{name:"loginErrorText",category:"general",visibleIndex:8}),v.Serializer.addProperty("survey",{name:"prohibitMultipleLogin:boolean",category:"general",visibleIndex:9,dependsOn:["loginType"],visibleIf:function(e){return["select","urlLogin","telLogin","telSampleLogin","passwordLogin"].includes(e.loginType)}}),v.Serializer.addProperty("survey",{name:"remind:boolean",category:"general",visibleIndex:9}),v.Serializer.addProperty("survey",{name:"urlArgumentsGenerateKey",category:"general",visibleIndex:10}),v.Serializer.addProperty("survey",{name:"global_ShortTimeFilter:number",category:"timer",default:1e3}),v.Serializer.addProperty("survey",{name:"global_ShortTimeMsgTimes:number",category:"timer",default:4}),v.Serializer.addProperty("survey",{name:"global_ShortTimeMsgStr:html",category:"timer",default:"请认真阅读题目后作答，您的填答对我们很重要！"}),v.Serializer.addProperty("regexvalidator",{name:"regexList",choices:Array.from(this.regMap).map((function(e){return e[0]})),onSetValue:function(r,t){e.regMap.has(t)&&r.setPropertyValue("regex",e.regMap.get(t))},onGetValue:function(r){var t=Array.from(e.regMap).map((function(e){return e[0]})),a=Array.from(e.regMap).map((function(e){return e[1]}));return a.includes(r.regex)?t[a.indexOf(r.regex)]:""}}),v.Serializer.findProperty("regexvalidator","regex").onSetValue=function(e,r){e.setPropertyValue("regex",r)},v.Serializer.addProperty("survey",{name:"zk_bx_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_bgImage_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_bgImage_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_width",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingTop_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingTop_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingBottom_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingBottom_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingLeft_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingLeft_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingRight_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bx_paddingRight_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bgImage_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_bgImage_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingTop_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingTop_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingBottom_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingBottom_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingLeft_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingLeft_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingRight_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_paddingRight_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_bgImage_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_bgImage_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingTop_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingTop_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingBottom_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingBottom_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingLeft_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingLeft_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingRight_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingRight_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingTop_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingTop_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingBottom_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingBottom_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingLeft_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingLeft_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingRight_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_paddingRight_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_paddingLeft_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_paddingLeft_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_q_lineHeight",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qt_fontFamily",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qt_fontSize",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qt_fontWeight",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qt_color:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_fontFamily",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_fontSize",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_fontWeight",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_color:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_textBox",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_chooseBox:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_inputColor:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_table_bgColor:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_table_bgType",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_table_bdColor:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_qc_table_bdType",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_ht_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_ht_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_pt_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_pt_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_nav_btnColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_nav_btnColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_ft_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_ft_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_bgColor_pc:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_bgColor_m:color",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_bgColor_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_bgColor_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_bgColor_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingTop_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingTop_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingBottom_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingBottom_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingLeft_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingLeft_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingRight_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_foot_paddingRight_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingRight_pc",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"zk_sv_paddingRight_m",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"wxShareDes",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"wxShareImg",category:"general",visible:!1}),v.Serializer.addProperty("survey",{name:"loadAnswerData",category:"general",default:"none",visibleIndex:22,choices:["none","local","infiniteContinue"]}),v.Serializer.addProperty("survey",{name:"loadAnswerDataMessage",category:"general",visibleIndex:22}),v.Serializer.addProperty("survey",{name:"award",category:"general",default:"none",visible:!1,choices:["none","redEnvelope","systemPresent","userPresent"]}),v.Serializer.addProperty("survey",{name:"repeatedHtml:html",category:"general",visibleIndex:24}),v.Serializer.addProperty("survey",{name:"repeatedNum:number",category:"general",visible:!0}),v.Serializer.addProperty("survey",{name:"footHtml:html",category:"general",visibleIndex:25,default:"技术支持：中科易研（北京）科技有限公司"}),v.Serializer.addProperty("page",{name:"pagePrevText",default:"",category:"general"}),v.Serializer.addProperty("page",{name:"pageNextText",default:"",category:"general"}),v.Serializer.addProperty("page",{name:"maxTimeToFinish:number",default:0,category:"general"}),v.Serializer.removeProperty("radiogroup","radioClass"),v.Serializer.removeProperty("checkbox","checkboxClass"),v.Serializer.findProperty("question","name").visible=!1,v.Serializer.findProperty("question","valueName").category="general",v.Serializer.findProperty("question","valueName").visibleIndex=0,v.Serializer.findProperty("question","valueName").isRequired=!0,v.Serializer.findProperty("question","valueName").isUnique=!0,v.Serializer.addProperty("question",{name:"zk_paddingTop:number",category:"general",default:-1,visibleIndex:10}),v.Serializer.addProperty("question",{name:"zk_paddingBottom:number",category:"general",default:-1,visibleIndex:11}),v.Serializer.addProperty("question",{name:"zk_paddingLeft:number",category:"general",default:-1,visibleIndex:12}),v.Serializer.addProperty("question",{name:"zk_paddingRight:number",category:"general",default:-1,visibleIndex:13}),v.Serializer.addProperty("question",{name:"contentPaddingLeft:number",category:"general",default:-1,visibleIndex:14}),v.Serializer.addProperty("question",{name:"showContentPaddingLeft:number",default:0,visible:!1,onGetValue:function(){return this.contentPaddingLeft>=0?this.contentPaddingLeft:this.survey&&this.survey.contentPaddingLeft>=0?this.survey.contentPaddingLeft:0}}),v.Serializer.findProperty("survey","clearInvisibleValues").defaultValue="onHidden",v.Serializer.addProperty("question",{name:"clearInvisibleValues",category:"general",default:"inherit",choices:["inherit","noneclear","onComplete"],visibleIndex:15}),v.Serializer.addProperty("selectbase",{name:"otherRequired:boolean",category:"choices",default:!1,visibleIndex:4,dependsOn:["hasOther"],visibleIf:function(e){return e.hasOther}}),v.Serializer.addProperty("text",{name:"zk_inputWidth",default:200,category:"general",visibleIndex:8}),v.Serializer.addProperty("text",{name:"inputSuffix",category:"general",visibleIndex:9}),Object.defineProperty(v.QuestionPanelDynamic,"isAllowTitleLeft",{value:!0,writable:!0}),v.Serializer.addProperty("paneldynamic",{name:"layoutType",default:"default",choices:["default","flex","segmentation"],category:"general"}),v.Serializer.addProperty("multipletext",{name:"flex:boolean",category:"general",visibleIndex:13}),v.Serializer.findProperty("multipletextitem","name").isRequired=!0,v.Serializer.addProperty("multipletext",{name:"itemTitleWidth:number",category:"general",default:100,visibleIndex:13,dependsOn:["flex"],visibleIf:function(e){return!e.flex}}),v.Serializer.addProperty("multipletextitem",{name:"zk_inputWidth",category:"general"}),v.Serializer.addProperty("multipletext",{name:"zk_inputWidth",category:"general"}),v.Serializer.addProperty("multipletextitem",{name:"inputSuffix",category:"general"}),Object.defineProperty(v.QuestionMultipleText,"isAllowTitleLeft",{value:!0,writable:!0}),v.Serializer.addProperty("matrix",{name:"mobileType",category:"general",default:"separateTable",choices:["separateTable","noChange"]}),v.Serializer.addProperty("matrixdropdownbase",{name:"mobileType",category:"general",default:"separateTable",choices:["separateTable","separateRow","selectToDropdown","noChange"]}),v.Serializer.addProperty("matrixdropdownbase",{name:"clientWidth:number",category:"general",visible:!1,onGetValue:function(e){return e.getPropertyValue("clientWidth",document.body.clientWidth)}}),v.Serializer.addProperty("matrix",{name:"showRowRequiredError:boolean",category:"validation",default:!0,visible:!0}),v.Serializer.addProperty("matrix",{name:"rowRequiredErrorText:text",category:"validation",visible:!0,default:'<span>请填写</span><i class="el-icon-right"></i>'}),v.Serializer.addProperty("matrix",{name:"rowTitleWidth",category:"layout",visible:!0}),v.QuestionMatrix.prototype.hasRowError=function(e){for(var r=!1,t=0;t<this.errors.length;t++){if(this.errors[t].text==e.name){r=!0;break}}return r},v.QuestionMatrix.prototype.getRowError=function(e){for(var r=0;r<this.errors.length;r++){var t=this.errors[r];if(t.text==e.name)return t}return new v.SurveyError("",this)},v.QuestionRadiogroup.prototype.isItemSelected=function(e){return e.value===this.value},v.Question.prototype.setItemNewComment=function(e){this.getValueName(),e.value},v.Serializer.addProperty("survey",{name:"koIsNavigationButtonsShowing:boolean",visible:!1,onGetValue:function(){if(this.isDesignMode)return!1;var e=this.currentPage;return!!e&&("show"==e.navigationButtonsVisibility||"hide"!=e.navigationButtonsVisibility&&this.showNavigationButtons)}}),v.Serializer.addProperty("survey",{name:"isShowPageProgressBarOnTop:boolean",visible:!1,onGetValue:function(){return"top"===this.showPageProgressBar||"topAndBottom"===this.showPageProgressBar}}),v.Serializer.addProperty("survey",{name:"isShowPageProgressBarOnBottom:boolean",visible:!1,onGetValue:function(){return"bottom"===this.showPageProgressBar||"topAndBottom"===this.showPageProgressBar}}),v.Serializer.addProperty("survey",{name:"koPageProgressTitle",visible:!1,onGetValue:function(){return this.pageProgressTitle}}),v.Serializer.addProperty("survey",{name:"koPageProgressText",visible:!1,onGetValue:function(){return this.koPageProgressText}}),v.Serializer.addProperty("survey",{name:"urlLoginError:boolean",visible:!1}),v.Serializer.addProperty("survey",{name:"urlLoginErrorText",visible:!1}),v.Serializer.addProperty("survey",{name:"telLogining:boolean",visible:!1}),v.Serializer.addProperty("survey",{name:"passwordLogining:boolean",visible:!1}),v.Serializer.addProperty("survey",{name:"repeated:boolean",visible:!1}),v.Serializer.addProperty("survey",{name:"telLoginTelNum",visible:!1}),v.Serializer.addProperty("survey",{name:"loginPassWord",visible:!1}),v.Serializer.addProperty("survey",{name:"telLoginCaptchaNum",visible:!1}),v.Serializer.addProperty("survey",{name:"telLoginErrText",visible:!1}),v.Serializer.addProperty("survey",{name:"timeDifference:number",visible:!1}),v.Serializer.findProperty("page","title").type="html",v.Serializer.findProperty("survey","title").type="text",v.Serializer.findProperty("text","placeHolder").visibleIf=function(e){return!!e&&(e.isTextInput||"text"==e.inputType)},v.Serializer.addProperty("itemvalue",{name:"itemColCount:number",default:1}),v.Serializer.addProperty("itemvalue",{name:"children",visible:!1}),v.Serializer.addProperty("itemvalue",{name:"exclusive:boolean",default:!1,visible:!0}),v.Serializer.addProperty("itemvalue",{name:"hasInput:boolean",category:"input",default:!1,visible:!0}),v.Serializer.addProperty("itemvalue",{name:"required:boolean",default:!1,category:"input",visible:!0,dependsOn:["hasInput"],visibleIf:function(e){return e.hasInput}}),v.Serializer.addProperty("itemvalue",{name:"zk_inputWidth",category:"input",dependsOn:["hasInput"],visibleIf:function(e){return e.hasInput}}),v.Serializer.addProperty("itemvalue",{name:"placeholder",category:"input",dependsOn:["hasInput"],visibleIf:function(e){return e.hasInput}}),v.Serializer.addProperty("itemvalue",{name:"inputSuffix",category:"input",dependsOn:["hasInput"],visibleIf:function(e){return e.hasInput}}),v.Serializer.addProperty("itemvalue",{name:"inputMask",category:"input",default:"none",visible:!0,dependsOn:["hasInput"],visibleIf:function(e){return e.hasInput},choices:["none","date","datetime","currency","decimal","email","phone","ip"]}),v.Serializer.addProperty("choicesByUrl",{name:"emptyResponseErrorText",visible:!0,dependsOn:["allowEmptyResponse"],visibleIf:function(e){return!e.allowEmptyResponse}}),v.Serializer.findProperty("boolean","defaultValue").setChoices(["indeterminate","1","2"]),v.Serializer.findProperty("boolean","valueTrue").visible=!1,v.Serializer.findProperty("boolean","valueTrue").defaultValue=1,v.Serializer.findProperty("boolean","valueFalse").visible=!1,v.Serializer.findProperty("boolean","valueFalse").defaultValue=2,v.Serializer.findProperty("nouislider","direction").setChoices(["ltr","rtl"]),v.Serializer.addProperty("survey",{name:"getSize:function",visible:!1,default:function(e){return e?parseInt(e)==e?e+"px":e:""}}),v.Serializer.addProperty("survey",{name:"getSizeByKey:function",visible:!1,default:function(e,r){var t=e.survey?e.survey:e,a=t[r];return t.getSize(a)}}),v.Serializer.addProperty("survey",{name:"handDeviceData:function",visible:!1,default:function(e,t){var a=e.survey?e.survey:e;return r().isPc?a[t+"_pc"]:a[t+"_m"]}}),v.Serializer.addProperty("survey",{name:"isPc:function",visible:!1,default:function(){return r().isPc}}),v.Serializer.addProperty("survey",{name:"getStyle:function",visible:!1,default:function(e){var a=e.survey?e.survey:e,i=r().isPc,n="",o="";return a.requiredErrorText&&(v.surveyLocalization.getLocaleStrings("zh-cn").requiredError=a.requiredErrorText),a.zk_qc_chooseBox&&(n+=".sv_q_checkbox_control_item:checked{border-color:"+a.zk_qc_chooseBox+";background-color:"+a.zk_qc_chooseBox+";}.sv_q_radiogroup_control_item:checked{border-color:"+a.zk_qc_chooseBox+";}.sv_q_radiogroup_control_item:checked:after,.sv_q .widget-selectsortable .sort-item .sort-flag.selected,.sv_main.z-main.sv_default_css .sv_select_wrapper::before, .svd_container .sv_main.z-main .select2-container .select2-selection--single .select2-selection__arrow,.svd_container.sv_main.z-main  .select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow, .z-main.sv_main .sv-boolean.sv-boolean--checked .sv-boolean__switch{background-color:"+a.zk_qc_chooseBox+";}"),a.zk_qc_inputColor&&(n+='.sv_main.z-main.sv_default_css input:not([type="button"]):not([type="reset"]):not([type="submit"]):not([type="image"]):not([type="checkbox"]):not([type="radio"]),.sv_q_checkbox_control_item,.sv_q_radiogroup_control_item,.sv_main.z-main.sv_default_css textarea,.sv_main .widget-selectsortable .sort-item .sort-flag{ border-color: '+a.zk_qc_inputColor+";}"),n+=".sv_main.z-main.sv_default_css .sv_body{ background-color: "+(t(a,"zk_sv_bgColor")||"#fff")+"; }",t(a,"zk_sv_bgImage")&&(n+=".sv_main.z-main.sv_default_css .sv_body{    background-size: cover;background-image: url("+t(a,"zk_sv_bgImage")+");}"),n+=".sv_main.z-main.sv_default_css .sv_body{padding-top:"+(t(a,"zk_sv_paddingTop")||0)+"px;padding-bottom:"+(t(a,"zk_sv_paddingBottom")||0)+"px;padding-left:"+(t(a,"zk_sv_paddingLeft")||0)+"px;padding-right:"+(t(a,"zk_sv_paddingRight")||0)+"px;}",t(a,"zk_nav_btnColor")&&(n+='.sv_main.z-main .zkey-survey-footer input[type="button"],.sv_main.z-main .zkey-survey-footer button{ background-color: '+t(a,"zk_nav_btnColor")+"; }"),t(a,"zk_ft_bgColor")&&(n+=".sv_main.z-main .zkey-survey-footer{ background-color: "+t(a,"zk_ft_bgColor")+"; }"),o="",o+="background-color: "+(t(a,"zk_bgColor")||"#ffffcc")+";",t(a,"zk_bgImage")&&(o+="background-image: url("+t(a,"zk_bgImage")+");"),n+=".sv_main.z-main{ "+(o+="padding-top: ".concat(t(a,"zk_paddingTop")||0,"px; padding-bottom: ").concat(t(a,"zk_paddingBottom")||0,"px; padding-left: ").concat(t(a,"zk_paddingLeft")||0,"px; padding-right: ").concat(t(a,"zk_paddingRight")||0,"px;"))+" }",o="",o="",i?o+="width: ".concat(a.zk_bx_width||960,"px;"):a.zk_bx_width&&(o+="width: ".concat(a.zk_bx_width,"px;")),t(a,"zk_bx_bgColor")&&(o+="background-color: ".concat(t(a,"zk_bx_bgColor"),";")),t(a,"zk_bx_bgImage")&&(o+="background-image: url(".concat(t(a,"zk_bx_bgImage"),");")),o+="padding-top: ".concat(t(a,"zk_bx_paddingTop")||0,"px; padding-bottom: ").concat(t(a,"zk_bx_paddingBottom")||0,"px; padding-left: ").concat(t(a,"zk_bx_paddingLeft")||0,"px; padding-right: ").concat(t(a,"zk_bx_paddingRight")||0,"px;"),n+=".sv_main.z-main .zk_bx{ ".concat(o," }"),o="",t(a,"zk_ht_bgColor")&&(n+=".sv_main.z-main .sv_container .sv_header{ background-color: ".concat(t(a,"zk_ht_bgColor"),"; }")),t(a,"zk_pt_bgColor")&&(n+=".sv_main.z-main .sv_container .sv_page_title{ background-color: ".concat(t(a,"zk_pt_bgColor"),"; }")),n+=".z-main.sv_main.sv_default_css .sv_container .sv_p_root > .sv_row:nth-child(n){ background-color: ".concat(t(a,"zk_q_bgColor")||"#fff","; }"),n+=".z-main.sv_main .sv_container .sv_body .sv_p_root>.sv_row{ padding-top: ".concat(t(a,"zk_q_paddingTop")||10,"px; padding-bottom: ").concat(t(a,"zk_q_paddingBottom")||10,"px; padding-left: ").concat(t(a,"zk_q_paddingLeft")||12,"px; padding-right: ").concat(t(a,"zk_q_paddingRight")||12,"px; line-height: ").concat(a.zk_q_lineHeight||1.5,"em; }"),o="",a.zk_qt_fontFamily&&(o+="font-family: ".concat(a.zk_qt_fontFamily,";")),o+="font-size: ".concat(a.getSize(a.zk_qt_fontSize)||"12px",";font-weight: ").concat(a.zk_qt_fontWeight||"bold",";color: ").concat(a.zk_qt_color||"#333",";"),n+=".sv_main.z-main .sv_container .sv_body .sv_p_root .sv_q_title,.sv_main.z-main .sv_container .sv_body .sv_p_root .sv_p_title{".concat(o,"}"),o="",t(a,"zk_qc_paddingLeft")&&(o+="padding-left: ".concat(t(a,"zk_qc_paddingLeft"),"px;")),a.zk_qc_fontFamily&&(o+="font-family: ".concat(a.zk_qc_fontFamily,";")),o+="font-size: ".concat(a.getSize(a.zk_qc_fontSize)||"12px",";"),a.zk_qc_fontWeight&&(o+="font-weight: ".concat(a.zk_qc_fontWeight,";")),o+="color: ".concat(a.zk_qc_color||"#333",";"),n+=".z-main.sv_main .sv_container .sv_row .sv_q .sv_q_content,.z-main.sv_main .sv_container .sv_row .sv_q .sv_q_description{".concat(o,"}"),o="",a.zk_qc_table_bgColor&&(n+="table.sv_q_matrix,table.sv_q_matrix_dropdown,table.sv_q_matrix_dynamic{background-color: ".concat(a.zk_qc_table_bgColor,"}")),"normal"==a.zk_qc_table_bdType&&(n+="table.sv_q_matrix td,table.sv_q_matrix th,table.sv_q_matrix_dropdown td,table.sv_q_matrix_dropdown th,table.sv_q_matrix_dynamic td,table.sv_q_matrix_dynamic th{border-right: 1px solid #e7e7e7;}table.sv_q_matrix td:first-child,table.sv_q_matrix th:first-child,table.sv_q_matrix_dropdown td:first-child,table.sv_q_matrix_dropdown th:first-child,table.sv_q_matrix_dynamic td:first-child,table.sv_q_matrix_dynamic th:first-child{border-left: 1px solid #e7e7e7;}"),a.zk_qc_table_bdColor&&(n+=".sv_main.z-main table.sv_q_matrix tr,.sv_main.z-main table.sv_q_matrix_dropdown tr,.sv_main.z-main table.sv_q_matrix_dynamic tr,.z-main table.sv_q_matrix td,.z-main table.sv_q_matrix th,.z-main table.sv_q_matrix_dropdown td,.z-main table.sv_q_matrix_dropdown th,.z-main table.sv_q_matrix_dynamic td,.z-main table.sv_q_matrix_dynamic th{border-color: ".concat(a.zk_qc_table_bdColor,"}")),"none"!=a.zk_qc_table_bgType&&(n+="table.sv_q_matrix thead tr,table.sv_q_matrix_dropdown thead th,table.sv_q_matrix_dynamic thead tr,table.sv_q_matrix tbody tr:nth-child(2n),table.sv_q_matrix_dropdown tbody tr:nth-child(2n),table.sv_q_matrix_dynamic tbody tr:nth-child(2n){background-color: rgba(204, 204, 204, 0.25);}"),o="",t(a,"zk_foot_bgColor")&&(o+="background-color: ".concat(t(a,"zk_foot_bgColor"),";")),o+="padding-top: ".concat(t(a,"zk_foot_paddingTop")||10,"px; padding-bottom: ").concat(t(a,"zk_foot_paddingBottom")||10,"px; padding-left: ").concat(t(a,"zk_foot_paddingLeft")||0,"px; padding-right: ").concat(t(a,"zk_foot_paddingRight")||0,"px;"),n+=".zk-foot-box{ ".concat(o," }"),o="",n}})}},{key:"changeSurveyTemplate",value:function(){y()("#survey-captcha").length>0||(0==y()("#zk_hide_element").length&&y()("body").append('<div id="zk_hide_element" style="display: none"></div>'),[{key:"survey-content",html:P},{key:"survey-question",html:A},{key:"survey-content-knockout",html:k,type:"append"},{key:"survey-comment",html:E},{key:"survey-question-radiogroup",html:M},{key:"survey-radiogroup-item",html:q},{key:"survey-question-checkbox",html:D},{key:"survey-checkbox-item",html:L},{key:"survey-question-dropdown",html:O},{key:"survey-string",html:C},{key:"survey-question-text",html:B},{key:"survey-question-comment",html:R},{key:"survey-question-multipletext",html:U},{key:"survey-header",html:I},{key:"survey-navigation",html:T},{key:"survey-panel",html:F},{key:"survey-question-matrix",html:N},{key:"survey-question-matrixdynamic",html:j},{key:"survey-matrixcell",html:W},{key:"survey-question-paneldynamic-navigator",html:K},{key:"survey-question-signaturepad",html:V},{key:"survey-question-errors",html:J}].forEach((function(e){var r=document.getElementById(e.key);r&&("append"==e.type?r.innerHTML+=e.html:r.outerHTML=e.html)})),0==y()("#survey-captcha").length&&y()("#survey-content-knockout").append(x).append(w),p.components.unregister("survey-element-title-content"),p.components.register("survey-element-title-content",{viewModel:{createViewModel:function(e,r){return{element:e.element}}},template:Q}))}},{key:"questionsValueNameRe",value:function(e,r){for(var t=this.survey.getAllQuestions(e,r),a=[],i=0;i<t.length;i++){var n=t[i].valueName||t[i].name;if(a.indexOf(n)>-1)return t[i];a.push(n)}}},{key:"customSurveyProperties",value:function(e){var r=this;r.changeSurveyTemplate(),this.survey.onAfterRenderSurvey.add((function(e,t){r.changeSurveyTemplate()})),this.survey.onValueChanged.add((function(e,r){var t=r.question;if(r.name.match(/^[\s\S]+_\d+_text$/g)){var a,n=null===(a=r.name.match(/^[\s\S]+(?=_\d+_text$)/g))||void 0===a?void 0:a[0];n&&(t=e.getQuestionByName(n),["tagbox","selectmutex","selectsortable"].includes(t.getType())&&t.valueChangedCallback&&t.valueChangedCallback())}if(t){e.saveLoadAnswerData();var o=e.userAction[e.userAction.length-1]||{},s=t.getType();if(!e.isDesignMode&&(e.surveyId||!location.pathname.includes("/survey/edit")||location.search.includes("s=test"))){var l=e.userAction.length?(new Date).valueOf()-o.tt:(new Date).valueOf();if(!["expression"].includes(s)&&"zkeyUserInfo"!=r.name){var d="object"==i()(r.value)?JSON.parse(JSON.stringify(r.value)):r.value;if(o.n==r.name&&JSON.stringify(o.v||"")==JSON.stringify(d||""))return o.t=l+o.t,void(o.tt=(new Date).valueOf());if(["bootstrapslider","editor","signaturepad"].includes(s)&&o.n==r.name){var u=o;u.v=d||"",u.t=l+u.t,u.tt=(new Date).valueOf()}else e.userAction.push({n:r.name||"",v:d||"",t:l,tt:(new Date).valueOf()});if("paneldynamic"==s){if(function(e){if(!e)return!0;for(var r=0;r<e.length;r++)if("{}"!=JSON.stringify(e[r]))return!1;return!0}(d))return}if(e.global_ShortTimeMsgTimes>0&&e.global_ShortTimeFilter>0&&e.global_ShortTimeMsgStr&&e.userAction.length>=e.global_ShortTimeMsgTimes){for(var c=0;c<e.global_ShortTimeMsgTimes;c++){var y=e.userAction.length-1-c;if(e.userAction[y].t>=e.global_ShortTimeFilter)return}f.MessageBox.alert(e.global_ShortTimeMsgStr,"提示")}}}}})),0==r.survey.isDesignMode&&(r.survey.onQuestionAdded.add((function(e,t){t.question&&t.question.otherItem&&(t.question.otherItem.value=r.OTHER_ITEM_VALUE),t.question&&t.question.noneItem&&(t.question.noneItem.value=r.NONE_ITEM_VALUE)})),r.survey.onDynamicPanelAdded.add((function(e,t){if(t.panel&&t.panel.questions)for(var a=0;a<t.panel.questions.length;a++)t.panel.questions[a].otherItem&&(t.panel.questions[a].otherItem.value=r.OTHER_ITEM_VALUE),t.panel.questions[a].noneItem&&(t.panel.questions[a].noneItem.value=r.NONE_ITEM_VALUE)})),r.survey.onMatrixCellCreated.add((function(e,t){t.cell&&t.cell.question&&t.cell.question.otherItem&&(t.cell.question.otherItem.value=r.OTHER_ITEM_VALUE),t.cell&&t.cell.question&&t.cell.question.noneItem&&(t.cell.question.noneItem.value=r.NONE_ITEM_VALUE)}))),r.survey.onCurrentPageChanged.add((function(e,r){r.newCurrentPage&&e.saveLoadAnswerData()})),r.survey.onAfterRenderQuestionInput.add((function(e,t){var a=t.htmlElement,i=t.question.getType();if(["radiogroup","checkbox","dropdown","tagbox"].includes(i))for(var n=t.question,o=0;o<n.choices.length;o++){var s=n.choices[o];if("none"!=s.inputMask&&s.hasInput){var l=a.querySelector("#"+n.inputId+"_"+s.value);l&&r.applyInputMask(n,s,l)}}})),r.survey.onValidateQuestion.add((function(e,r){var t=r.question,a=t.getType();if(["radiogroup","checkbox","dropdown","tagbox","selectmutex","selectsortable"].includes(a)){t.clearErrors();for(var i=0;i<t.choices.length;i++){var n=t.choices[i];if(n.required&&t.value&&(Array.isArray(t.value)?t.value.includes(n.value):t.value==n.value))t.data.getValue(t.valueName+"_"+n.value+"_text")||(r.error="请填写“"+n.text+"”的文本内容！")}}})),r.survey.htmlChange=function(e,r){var t=y()(r.target).html();t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">"),e.html=t}}},{key:"applyInputMask",value:function(e,r,t){var a=r.inputMask;S()(a,{autoUnmask:!0}).mask(t),t.onchange=function(t){var a=t.target;r.inputValue=a.value,e.data.setValue(e.getValueName()+"_"+r.value,a.value,0,!1)}}}]),e}();r.a=H},e6e5:function(e,r,t){}}]);