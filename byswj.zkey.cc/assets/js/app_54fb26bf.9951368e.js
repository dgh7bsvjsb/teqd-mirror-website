!function(e){function t(t){for(var n,o,s=t[0],r=t[1],c=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(u&&u(t);h.length;)h.shift()();return l.push.apply(l,c||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,s=1;s<i.length;s++){var r=i[s];0!==a[r]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},a={"app~54fb26bf":0},l=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=r;l.push([0,"chunk-vendors~253ae210","chunk-vendors~7e5e8261","chunk-vendors~739cf782","chunk-vendors~fc2f81ef","chunk-vendors~21380ae4","chunk-vendors~b5906859","chunk-vendors~aeb57120","chunk-vendors~6ed3fd28","chunk-vendors~9ad0f35b","chunk-vendors~80497949","chunk-vendors~7bcc931c","chunk-vendors~4d01349d","chunk-vendors~73aaab72","chunk-vendors~fdadd360","chunk-vendors~e984a00f","chunk-vendors~f9ca8911","chunk-vendors~6f7acc4e","chunk-vendors~50f907f9","chunk-vendors~a75f0715","chunk-vendors~c10c8f96","chunk-vendors~1c3a2c3f","chunk-vendors~d2305125","app~e2e93592","app~c1807361","app~af9f4ef7","app~295b4688"]),i()}({1793:function(e,t,i){"use strict";i.r(t),i.d(t,"surveyModify",(function(){return f}));var n=i("970b"),a=i.n(n),l=i("5bc3"),o=i.n(l),s=i("ed6d"),r=i.n(s),c=i("6b58"),u=i.n(c),d=i("36c6"),h=i.n(d);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=h()(e);if(t){var a=h()(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return u()(this,i)}}function f(e){var t=function(t){r()(n,t);var i=p(n);function n(e,t){return a()(this,n),i.call(this,e,t)}return o()(n,[{key:"getErrorType",value:function(){return"otherempty"}},{key:"getDefaultText",value:function(){return e.surveyLocalization.getString("otherRequiredError")}}]),n}(e.SurveyError),i=function(t){r()(n,t);var i=p(n);function n(e,t){return a()(this,n),i.call(this,e,t)}return o()(n,[{key:"getErrorType",value:function(){return"webrequestempty"}},{key:"getDefaultText",value:function(){return e.surveyLocalization.getString("urlGetChoicesError")}}]),n}(e.SurveyError);e.ChoicesRestful.prototype.run=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((!this.owner.survey||!this.owner.survey.isCompleted)&&this.url&&this.getResultCallback){if(this.processedText(t),!this.processedUrl)return this.doEmptyResultCallback({}),void(this.lastObjHash=this.objHash);this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,this.useChangedItemsResults()||e.ChoicesRestful.addSameRequest(this)||"multilevellinkage"!=this.owner.getType()&&this.sendRequest())}},e.Question.prototype.clearValueIfInvisible=function(){["expression","multilevellinkage"].includes(this.getType())||this.canClearValueAsInvisible()&&this.clearValue()},e.QuestionSelectBase.prototype.canClearValueAnUnknow=function(e){return"multilevellinkage"!=this.getType()&&!(!this.getStoreOthersAsComment()&&this.isOtherSelected)&&this.hasUnknownValue(e,!0,!0,!0)},e.ChoicesRestful.prototype.getValue=function(e){return e?this.getValueCore(e,this.valueName||"value"):null},e.ChoicesRestful.prototype.onLoad=function(t,n){n||(n=this.objHash);var a=new Array,l=this.getResultAfterPath(t);if(l&&l.length)for(var o=0;o<l.length;o++){var s=l[o];if(s){var r=this.getItemValueCallback?this.getItemValueCallback(s):this.getValue(s),c=this.createItemValue(r);this.setTitle(c,s),this.setCustomProperties(c,s),this.attachOriginalItems&&(c.originalItem=s);var u=this.getImageLink(s);u&&(c.imageLink=u),a.push(c)}}else this.allowEmptyResponse||(this.error=new i(this.emptyResponseErrorText,this.owner));this.updateResultCallback&&(a=this.updateResultCallback(a,t)),this.isUsingCache&&(e.ChoicesRestful.itemsResult[n]=a),this.callResultCallback(a,n),e.ChoicesRestful.unregisterSameRequests(this,a)},e.ChoicesRestful.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),t=new Array,i=0;i<e.length;i++)t.push(this.getCustomPropertyName(e[i].name));return t.push("emptyResponseErrorText"),t},e.QuestionSelectBase.prototype.checkForErrors=function(e){var t=new Array;return this.choicesByUrl&&this.choicesByUrl.url&&this.choicesByUrl.error&&t.push(this.choicesByUrl.error),this.isVisible&&this.canCollectErrors()&&this.collectErrors(t,e),t},e.QuestionSelectBase.prototype.onLoadChoicesFromUrl=function(t){if(this.enableOnLoadingChoices&&(this.readOnly=!1),!this.isReadOnly){var i=[];this.choicesByUrl&&this.choicesByUrl.error&&i.push(this.choicesByUrl.error),this.errors=i}var n=null,a=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,a=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var l=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,a);if(n=new Array,e.ItemValue.setData(n,t||[]),n)for(var o=0;o<n.length;o++)n[o].locOwner=this;if(this.choicesFromUrl=n,this.filterItems(),this.onVisibleChoicesChanged(),n){var s=this.updateCachedValueForUrlRequests(l,n);if(s&&!this.isReadOnly){var r=!this.isTwoValueEquals(this.value,s.value);try{this.isValueEmpty(s.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=r,r?this.value=s.value:this.setQuestionValue(s.value)}finally{this.allowNotifyValueChanged=!0}}}this.choicesLoaded()},e.Question.prototype.getTitleLocation=function(){return this.isFlowLayout?"hidden":this.getTitleLocationCore()},e.LocalizableString.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var t=this.calculatedText;if(!t)return!1;var i=this.locale;return i||(i=e.settings.defaultLocaleName),this.htmlValues[i]=this.owner.getMarkdownHtml(t,this.name),this.htmlValues[i]||(this.htmlValues[i]=t),!!this.htmlValues[i]},e.QuestionSelectBase.prototype.onCheckForErrors=function(i,n){e.Question.prototype.onCheckForErrors.call(this,i,n),this.hasOther&&this.isOtherSelected&&!this.comment&&this.otherRequired&&i.push(new t(this.otherErrorText,this))},e.QuestionMatrixDropdownRenderedTable.prototype.buildHeader=function(){var t=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",t),t){if(this.headerRowValue=new e.QuestionMatrixDropdownRenderedRow(this.cssClasses),this.matrix.allowRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var i=0;i<this.matrix.visibleColumns.length;i++){var n=this.matrix.visibleColumns[i];!n.hasVisibleCell&&this.matrix.hideColumnsIfEmpty||(n.isShowInMultipleColumns?this.createMutlipleColumnsHeader(n):this.headerRow.cells.push(this.createHeaderCell(n)))}else{var a=this.matrix.visibleRows;for(i=0;i<a.length;i++)this.headerRow.cells.push(this.createTextCell(a[i].locText));this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null))}},e.QuestionMatrixDropdownRenderedTable.prototype.createHorizontalRow=function(t,i){var n=new e.QuestionMatrixDropdownRenderedRow(this.cssClasses);if(this.matrix.allowRowsDragAndDrop){var a=this.matrix.visibleRows.indexOf(t);n.cells.push(this.getRowDragCell(a))}if(this.addRowActionsCell(t,n,"start"),this.matrix.hasRowText){var l=this.createTextCell(t.locText);l.row=t,n.cells.push(l),i&&this.setHeaderCellWidth(null,l),l.className=(new e.CssClassBuilder).append(l.className).append(this.cssClasses.detailRowText,t.hasPanel).toString()}for(var o=0;o<t.cells.length;o++){var s=t.cells[o];!s.column.hasVisibleCell&&this.matrix.hideColumnsIfEmpty||(s.column.isShowInMultipleColumns?this.createMutlipleEditCells(n,s):(l=this.createEditCell(s),n.cells.push(l),i&&this.setHeaderCellWidth(s.column,l)))}return this.addRowActionsCell(t,n,"end"),n},e.QuestionMatrixDropdownRenderedTable.prototype.buildVerticalRows=function(){for(var e=this.matrix.columns,t=[],i=0;i<e.length;i++){var n=e[i];(!this.matrix.hideColumnsIfEmpty||n.isVisible&&n.hasVisibleCell)&&(n.isShowInMultipleColumns?this.createMutlipleVerticalRows(t,n,i):t.push(this.createVerticalRow(n,i)))}return this.hasActionCellInRows("end")&&t.push(this.createEndVerticalActionRow()),t},e.SurveyModel.prototype.startTimerFromUI=function(){"running"===this.state&&this.startTimer()},e.Question.prototype.onValueNameChanged=function(e){this.valueName&&(this.name=this.valueName),this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())},e.QuestionCheckboxModel.prototype.setNewValue=function(t){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues=[]),t=this.valueFromData(t);var i=this.value;if(t||(t=[]),i||(i=[]),!this.isTwoValueEquals(i,t)){if(this.hasNone){var n=this.noneIndexInArray(i),a=this.noneIndexInArray(t);n>-1?a>-1&&t.length>1&&t.splice(a,1):a>-1&&(t.splice(0,t.length),t.push(this.noneItem.value))}if(t)for(var l=0;l<this.visibleChoices.length;l++){var o=this.visibleChoices[l];o.exclusive&&t.includes(o.value)&&(this.value.includes(o.value)?t.splice(t.indexOf(o.value),1):t=[o.value])}e.QuestionCheckboxBase.prototype.setNewValue.call(this,this.rendredValueToData(t))}}}},"44ac":function(e,t,i){"use strict";function n(e,t){t=t||window.$;var i={name:"tagbox",title:"Tag box",iconName:"icon-tagbox",widgetIsLoaded:function(){return"function"==typeof t&&!!t.fn.select2},defaultJSON:{choices:["Item 1","Item 2","Item 3"]},htmlTemplate:"<div><select multiple='multiple' style='width: 100%;'></select><div class='tagbox-input-box'></div><textarea></textarea></div>",isFit:function(e){return"tagbox"===e.getType()},activatedByChanged:function(t){e.JsonObject.metaData.addClass("tagbox",[{name:"hasOther:boolean",visible:!1},{name:"hasSelectAll:boolean",visible:!1},{name:"hasNone:boolean",visible:!1},{name:"otherText",visible:!1},{name:"selectAllText",visible:!1},{name:"noneText",visible:!1}],null,"checkbox"),e.JsonObject.metaData.addProperty("tagbox",{name:"select2Config",category:"general",default:null}),e.JsonObject.metaData.addProperty("tagbox",{name:"placeholder",category:"general",default:""}),e.JsonObject.metaData.addProperty("tagbox",{name:"allowAddNewTag:boolean",category:"general",default:!1}),e.matrixDropdownColumnTypes.tagbox={properties:["choices","choicesOrder","choicesByUrl","optionsCaption","otherText","choicesVisibleIf"]}},fixStyles:function(e){e.parentElement.querySelector(".select2-search__field").style.border="none"},afterRender:function(e,i){var n=this,a=e.select2Config,l=a&&"string"==typeof a?JSON.parse(a):a,o=t(i).is("select")?t(i):t(i).find("select");n.willUnmount(e,i),l||(l={}),l.placeholder=e.placeholder,l.tags=e.allowAddNewTag,l.disabled=e.isReadOnly,l.theme="classic",e.maxSelectedChoices&&(l.maximumSelectionLength=e.maxSelectedChoices),o.select2(l);var s=t(i).find("textarea");e.survey&&e.survey.css&&e.survey.css.checkbox&&s.addClass(e.survey.css.checkbox.other),s.placeholder=e.otherPlaceHolder,s.bind("input propertychange",(function(){e.comment=s.val()}));var r=function(){s.val(e.comment),e.isOtherSelected?s.show():s.hide()};n.fixStyles(i);var c=function(){e.hasSelectAll&&e.isAllSelected?o.val([e.selectAllItemValue.value].concat(e.value)).trigger("change"):o.val(e.value).trigger("change"),n.fixStyles(i),r(),function(){for(var n=e.value||[],a=e.survey.data||{},l=0;l<e.visibleChoices.length;l++){var o=e.visibleChoices[l];if(o.hasInput){var s=t(i).find(".tagbox-input-box > .tagbox-input-item[data-key=".concat(o.value,"]"));n.includes(o.value)?s.show():s.hide();var r="".concat(e.name,"_").concat(o.value,"_text");a[r]&&s.find("input.itemvalue-input").val(a[r])}}}()},u=function(){o.select2().empty(),l.ajax||(l.data=e.visibleChoices.map((function(e){return{id:e.value,text:e.text}}))),o.select2(l),c()},d=function(t){return e.hasSelectAll&&t===e.selectAllItemValue.value};e._propertyValueChangedFnSelect2=function(){u()},s.prop("disabled",e.isReadOnly),e.readOnlyChangedCallback=function(){o.prop("disabled",e.isReadOnly),s.prop("disabled",e.isReadOnly)},e.registerFunctionOnPropertyValueChanged("visibleChoices",e._propertyValueChangedFnSelect2),e.valueChangedCallback=c,o.on("select2:select",(function(t){d(t.params.data.id)?e.selectAll():e.value=(e.value||[]).concat(t.params.data.id),r()})),o.on("select2:unselect",(function(t){var i=t.params.data.id;if(d(i))e.clearValue();else{var n=[].concat(e.value);if(Array.isArray(n))for(var a=0;a<n.length;a++)if(n[a]==i||n[a]&&n[a].toString()==i){n.splice(a,1),e.value=n;break}}r()})),u(),function(){for(var n=e.getValueName(),a=0;a<e.visibleChoices.length;a++){var l=e.visibleChoices[a];if(l.hasInput){var o=t('<div class="tagbox-input-item"'.concat(e.value&&e.value.includes(l.value)?"":' style="display: none;"',' data-key="').concat(l.value,'">\n              <span class="tagbox-input-title">').concat(l.text,'：</span>\n              <input class="itemvalue-input" type="text" id="').concat(n,"_").concat(l.value,'" placeholder="').concat(l.placeholder||"",'" style="width: ').concat(l.zk_inputWidth||"100","px;").concat("underline"==e.survey.zk_qc_textBox?"border-width: 0 0 1px;":"",'" value="').concat(e.data.getValue(n+"_"+l.value+"_text")||"",'"/>\n              ').concat(l.inputSuffix?'<span class="itemvalue-input-suffix">'+l.inputSuffix+"</span>":"","\n            </div>"));t(i).find(".tagbox-input-box").append(o),s(o.find("input.itemvalue-input"),l)}}function s(t,i){t.change((function(t){e.changeInput(i,t)}))}}()},willUnmount:function(e,i){if(e._propertyValueChangedFnSelect2){var n=t(i).find("select");n.data("select2")&&n.off("select2:select").select2("destroy"),e.readOnlyChangedCallback=null,e.valueChangedCallback=null,e.unRegisterFunctionOnPropertyValueChanged("visibleChoices",e._propertyValueChangedFnSelect2),e._propertyValueChangedFnSelect2=void 0}},pdfQuestionType:"checkbox"};e.CustomWidgetCollection.Instance.addCustomWidget(i,"customtype")}i.d(t,"e",(function(){return a})),i.d(t,"g",(function(){return o})),i.d(t,"b",(function(){return u})),i.d(t,"d",(function(){return h})),i.d(t,"a",(function(){return v})),i.d(t,"f",(function(){return g})),i.d(t,"c",(function(){return b})),i.d(t,"h",(function(){return x})),i.d(t,"i",(function(){return k})),"undefined"!=typeof Survey&&n(Survey,window.$);var a=n;function l(e,t){t=t||window.$;var i={name:"selectmutex",title:"selectmutex",iconName:"icon-selectmutex",defaultSelectmutexNum:1,widgetIsLoaded:function(){return"function"==typeof t&&!!t.fn.select2},determineShowChoices:function(e){return!("show"!=e.showChoices&&!0!==e.showChoices&&("hide"==e.showChoices||!1===e.showChoices||"pchide"==e.showChoices&&window.screen.width>=980||"mhide"==e.showChoices&&window.screen.width<=980))},defaultJSON:{choices:[{value:"1",text:"选项 1"},{value:"2",text:"选项 2"},{value:"3",text:"选项 3"}]},htmlTemplate:"<div class='selectmutex'></div>",isFit:function(e){return"selectmutex"===e.getType()},activatedByChanged:function(t){e.JsonObject.metaData.addClass("selectmutex",[{name:"selectAllText",visible:!1},{name:"hasSelectAll",visible:!1},{name:"selectAllText",visible:!1},{name:"hasNone",visible:!1},{name:"noneText",visible:!1},{name:"checkboxClass",visible:!1},{name:"renderAs",visible:!1}],null,"checkbox"),e.JsonObject.metaData.addProperty("selectmutex",{name:"selectmutexNum:number",default:this.defaultSelectmutexNum}),e.JsonObject.metaData.addProperty("selectmutex",{name:"selectmutexStyle:text",default:"<span><select></select><select></select><select></select></span>"}),e.JsonObject.metaData.addProperty("selectmutex",{name:"showChoices",default:"show",choices:["show","hide","pchide","mhide"]}),e.JsonObject.metaData.addProperty("selectmutex",{name:"choicesLoc",default:"bottom",choices:["top","bottom"]}),e.JsonObject.metaData.addProperty("selectmutex",{name:"optionsCaption:text",visible:!0,category:"general"})},fixStyles:function(e){},render:function(e,i){var n,a=e.visibleChoices;n=e.selectmutexNum>=e.visibleChoices.length?e.visibleChoices.length:e.selectmutexNum<=1?1:e.selectmutexNum;var l="<span class='z-selectmutex-con'>"+e.selectmutexStyle+"</span>";if(t(i).html(l),t(i).find("select").length!=n)if(t(i).find("select").length>n)t(i).find(".z-selectmutex-con select:gt("+(n-1)+")").remove();else if(t(i).find("select").length<n)for(var o=0;o<n;o++)o>=t(i).find("select").length&&t(i).find(".z-selectmutex-con").append("<select><select>");var s=200;if(this.determineShowChoices(e)){var r="z-selectmutex-root "+e.koRootCss();"top"==e.choicesLoc?t(i).prepend("<div class='"+r+"'></div>"):t(i).append("<div class='"+r+"'></div>");var c,u="";for(c=e.hasOther?e.visibleChoices.length-1:e.visibleChoices.length,o=0;o<c;o++){var d=e.visibleChoices[o].text?e.visibleChoices[o].text:e.visibleChoices[o].value,h="";e.visibleChoices[o].hasInput&&(e.value||[]).includes(e.visibleChoices[o].value)&&(h+='<input class="itemvalue-input"  style="width: '.concat(e.visibleChoices[o].zk_inputWidth||100,"px;border-width: ").concat(e.survey.zk_qc_textBox?"0 0 1px":"1px",'"').concat(e.visibleChoices[o].placeholder?' placeholder="'+e.visibleChoices[o].placeholder+'"':"",' type="text" value="').concat(e.data.getValue(e.getValueName()+"_"+e.visibleChoices[o].value+"_text")||"",'"/>').concat(e.visibleChoices[o].inputSuffix?'<span class="itemvalue-input-suffix">'+e.visibleChoices[o].inputSuffix+"</span>":"")),16*d.length>s&&(s=16*(d.length+1)),u=e.getItemClass(e.visibleChoices[o])||"";var p=e.visibleChoices[o].itemColCount||1,f=100;e.colCount>0&&p>0&&((f=100*p/e.colCount)>100&&(f=100)),u+=" z-selectmutex-item",t(i).find(".z-selectmutex-root").append("<div class='"+u+"' style='width: "+f+"%;'  title='"+e.visibleChoices[o].text+"'>"+e.visibleChoices[o].text+h+"</div>")}e.hasOther&&t(i).find(".z-selectmutex-root").append("<div class='"+u+" z-selectmutex-item-other' title='"+e.otherText+"'>"+e.otherText+"<input class='form-control item-other' style='display:none; border-width: "+(e.survey.zk_qc_textBox?"0 0 1px":"1px")+"'"+(e.otherPlaceHolder?" placeholder='"+e.otherPlaceHolder+"'":"")+" type='text'></div>")}else e.hasOther&&t(i).find(".z-selectmutex-con").append("<input class='form-control item-other' style='display:none;width:auto;' type='text'>");var v=t(i).find("select").width(s);this.addOption({elmt:v,tip:e.optionsCaption||"--",tVal:"",cur:[],arr:a}),e.commentChangedCallback=function(){},t(i).on("change","input.item-other",(function(t){e.comment=this.value})),t(i).on("change","input.itemvalue-input",(function(i){var n=t(this).parent().index(),a=e.valueName+"_"+e.visibleChoices[n].value+"_text";e.survey.setValue(a,this.value)})),v.select2({language:"zh-CN",minimumResultsForSearch:-1,disabled:e.isReadOnly,formatNoMatches:function(){return"未找到"}}).on("select2:select",(function(n){var a=[];0==(v=t(i).find("select")).length&&(v=t(this).parents(".z-selectmutex-con").find("select"));for(var l=0;l<v.length;l++)"--"!=t(v[l]).select2("val")&&""!=t(v[l]).select2("val")&&(a=a.concat(t(v[l]).select2("val")));for(l=0;l<e.visibleChoices.length;l++){var o=t(i).find(".z-selectmutex-root>div")[l];a.includes(e.visibleChoices[l].value)?t(o).find("input.itemvalue-input,.itemvalue-input-suffix").show():t(o).find("input.itemvalue-input,.itemvalue-input-suffix").hide()}-1!=a.indexOf(e.otherItemValue.value)?t(i).find(".z-selectmutex-item-other input").show():t(i).find(".z-selectmutex-item-other input").hide(),e.value=a})),e.value.length>0&&(v=t(i).find("select"),e.value.forEach((function(i,n){var a=t(v[n]).select2({language:"zh-CN",minimumResultsForSearch:-1,disabled:e.isReadOnly,formatNoMatches:function(){return"未找到"}});a.val(i),a.trigger("change")}))),e.maxSelectedChoices>0&&t(i).find("span>select:nth-child(n + "+2*e.maxSelectedChoices+")").attr("disabled",!0)},addOption:function(e){var i=e.elmt;i.each((function(i){for(var n='<option value="'+e.tVal+'">'+e.tip+"</option>",a=0;a<e.arr.length;a++)n+='<option value="'+e.arr[a].value+'">'+e.arr[a].text+"</option>";t(this).html(n)})),i.change((function(){var n={},a=i,l=a.index(t(this));for(var o in a.each((function(i){e.cur[i]=t(this).val()})),e.cur)n[e.cur[o]]=1;a.each((function(i){if(l!=i){for(var a='<option value="'+e.tVal+'">'+e.tip+"</option>",o=0;o<e.arr.length;o++)n[e.arr[o].value]&&e.arr[o].value!=e.cur[i]||(a+='<option value="'+e.arr[o].value+'"'+(e.arr[o].value==e.cur[i]?' selected="selected"':"")+">"+e.arr[o].text+"</option>");t(this).html(a)}}))}))},getaddOptionArr:function(e){for(var t={},i=0;i<e.length;i++)t[e[i].value]=e[i].text;return t},afterRender:function(e,t){var i=this;this.class=e.koCss(),this.render(e,t),e.readOnlyChangedCallback=function(){t.disabled=e.isReadOnly},e.registerFunctionOnPropertyValueChanged("showChoices",(function(){i.render(e,t)})),e.registerFunctionOnPropertyValueChanged("selectmutexStyle",(function(){i.render(e,t)})),e.registerFunctionOnPropertyValueChanged("selectmutexNum",(function(){i.render(e,t)})),e.registerFunctionOnPropertyValueChanged("choicesLoc",(function(){i.render(e,t)})),e.registerFunctionOnPropertyValueChanged("visibleChoices",(function(){i.render(e,t)})),e.registerFunctionOnPropertyValueChanged("otherText",(function(){i.render(e,t)})),e.valueChangedCallback=function(){i.render(e,t)}},willUnmount:function(e,i){t(i).find("select").off("select2:select").select2("destroy"),e.readOnlyChangedCallback=null}};e.CustomWidgetCollection.Instance.addCustomWidget(i,"customtype")}"undefined"!=typeof Survey&&l(Survey,$);var o=l,s=i("7037"),r=i.n(s);function c(e){var t={className:"laydate",checkboxClass:"laydate",radioClass:"laydate",name:"laydate",title:"日期题",iconName:"icon-datepicker",activatedByChanged:function(t){e.JsonObject.metaData.addClass("laydate",[{name:"inputType",visible:!1},{name:"laydateType",visible:!0,default:"date",category:"general",visibleIndex:7,choices:["year","month","date","time","datetime"]},{name:"inputFormat",visible:!0,category:"general"},{name:"placeHolder",visible:!0,category:"general",visibleIf:function(e){return!0}},{name:"range:boolean",visible:!0,category:"general",visibleIndex:8},{name:"min",visible:!0,category:"data",visibleIf:function(e){return!0}},{name:"max",visible:!0,category:"data",visibleIf:function(e){return!0}}],null,"text")},widgetIsLoaded:function(){return"function"==typeof $},isFit:function(e){return"laydate"===e.getType()},isDefaultRender:!0,afterRender:function(e,t){$(t).attr("readonly",!0),layui.use("laydate",(function(){var i=layui.laydate,n=e.survey.zk_qc_chooseBox;n&&n.startsWith("rgb")&&(n=function(e){var t=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),i=parseFloat(t[3]||1),n=Math.floor(i*parseInt(t[0])+255*(1-i)),a=Math.floor(i*parseInt(t[1])+255*(1-i)),l=Math.floor(i*parseInt(t[2])+255*(1-i));return"#"+("0"+n.toString(16)).slice(-2)+("0"+a.toString(16)).slice(-2)+("0"+l.toString(16)).slice(-2)}(n));var a=JSON.parse(JSON.stringify({type:e.laydateType,range:e.range,format:e.inputFormat,min:e.min,max:e.max,theme:n}));i.render(Object.assign({},a,{elem:t,trigger:"click",done:function(t,i,n){e.value=t}})),$(t).is(":focus")&&setTimeout((function(){$(t).click()}),100),$(t).focus((function(){$(t).click()}))}))},propertyExclusion:function(e,t){},objectMerge:function(e,t){if(e&&t){for(var i in t){var n=t[i];n&&"object"===r()(n)?(e[i]||(e[i]={}),this.mergeValues(n,e[i])):e[i]=n}return e}},willUnmount:function(e,t){}};delete e.matrixDropdownColumnTypes.datepicker,e.CustomWidgetCollection.Instance.addCustomWidget(t,"customtype")}"undefined"!=typeof Survey&&c(Survey);var u=c;function d(e,t,i){i=i||window.$;var n={name:"multilevellinkage",title:"multilevellinkage",iconName:"icon-multilevellinkage",widgetIsLoaded:function(){return"function"==typeof i},htmlTemplate:"<div class='multilevellinkage'></div>",isFit:function(e){return"multilevellinkage"===e.getType()},activatedByChanged:function(t){e.JsonObject.metaData.addClass("multilevellinkage",[{name:"clearInvisibleValues",visible:!1,default:"none"}],null,"checkbox"),e.JsonObject.metaData.addProperty("multilevellinkage",{name:"zk_inputWidth:number",visible:!0,category:"general",default:200}),e.JsonObject.metaData.addProperty("multilevellinkage",{name:"optionsCaption:text",visible:!0,category:"general"}),e.JsonObject.metaData.addProperty("multilevellinkage",{name:"jsonData:string"}),e.JsonObject.metaData.addProperty("multilevellinkage",{name:"isAllItemRequired:boolean",visible:!0,category:"general",default:!0,visibleIndex:5,dependsOn:["isRequired"],visibleIf:function(e){return e.isRequired}})},fixStyles:function(e){},afterRender:function(t,n){var a,l=!1,o=new e.SurveyError(e.surveyLocalization.getString("urlGetChoicesError")+'<input style="margin-left: 3px;" class="reloadRequest" type="button" value="请重试">',t),s=!1,r=[],c="";if(t.choicesByUrl&&t.choicesByUrl.processedUrl&&(c=t.choicesByUrl.processedUrl),t.jsonData)try{r=JSON.parse(t.jsonData)}catch(e){}function u(e){if(!e.survey||!e.survey.isCompleted)if(e.clearValueIfInvisible=function(){},c)l=!0,v(),f(c,(function(t){m();var a=p({choices:t||[],level:0,valueName:e.choicesByUrl.valueName,titleName:e.choicesByUrl.titleName});i(n).html("<p class='multiLevelRow'>"+a+"</p>"),d()}));else{var t=p({choices:r,level:0});i(n).html("<p class='multiLevelRow'>"+t+"</p>")}}function d(){if(i(n).find(".multiLevelRow").find("select").unbind().on("change",(function(e){var a=this;i(this).parent().nextAll().remove();var o=[];i(n).find(".multiLevelRow").each((function(e,t){i(this).find("select").each((function(){var e=i(this).find("option:selected").val();e&&o.push(e)}))})),l||(t.value=o),i(this).find("option:selected").val()&&h(o).then((function(e){i(a).parent().after(e),d()})).catch((function(e){}))})),l&&t.value){var e=i(n).find(".multiLevelRow>span").length;h(t.value.slice(0,e)).then((function(t){i(i(n).find(".multiLevelRow>span")[e-1]).find("option:selected").val()?(i(n).find(".multiLevelRow").append(t),d()):l=!1})).catch((function(e){l=!1}))}}function h(e){return new Promise((function(i,n){if(t.maxSelectedChoices>0&&e.length>=t.maxSelectedChoices)return n();if(c)v(),f(c+":"+e.join(":"),(function(a){if(m(),!a||0==a.length)return n();var l=p({choices:a,level:e.length,valueName:t.choicesByUrl.valueName,titleName:t.choicesByUrl.titleName});i(l)}));else{var a=function i(n,a){for(var l=0;l<n.length;l++){var o=n[l];if((o[t.choicesByUrl.valueName]||o[t.choicesByUrl.titleName])==e[a])return a==e.length-1?o:i(o.children,a+1)}}(r,0);if(!a||0==a.length)return n();var l=p({choices:a,level:e.length});i(l)}}))}function p(e){for(var i=e.choices,n=e.level,a=e.valueName,l=e.titleName,o='<span class="sv_select_wrapper"><select class="linkage'+(n||0)+'" style="width: '+(t.zk_inputWidth||200)+'px;"><option value="">请选择...</option>',s=0;s<i.length;s++){var r=i[s],c="";t.value&&t.value.length>n&&r[a||"value"]==t.value[n]&&(c+=" selected"),o+='<option value="'+r[a||"value"]+'"'+c+">"+r[l||"title"]+"</option>"}return o+="</select></span>"}function f(e,l){var r=a=(new Date).valueOf();i.ajax({url:e,method:"get",success:function(e){r==a&&(s&&t.removeError(o),s=!1,l(e))},error:function(e,c,d){r==a&&(s||(t.addError(o),setTimeout((function(){i(n).parent().find(".reloadRequest").click((function(){u(t)}))}))),s=!0,l())}})}function v(){t.choiceLoading=!0,i(n).find(".multiLevelRow").append('<span class="choice-loading-icon"><i class="el-icon-loading"></i></span>')}function m(){t.choiceLoading=!1,i(n).find(".multiLevelRow>.choice-loading-icon").remove()}u(t),t.registerFunctionOnPropertyValueChanged("visibleChoices",(function(){u(t)})),t.registerFunctionOnPropertyValueChanged("selectmutexStyle",(function(){u(t)})),t.valueChangedCallback=function(){u(t)},t.hasRequiredError=function(){return this.isRequired&&this.isEmpty()||this.isAllRequired()||s},t.onCheckForErrors=function(t,i){s&&t&&-1==t.indexOf(o)&&t.push(o),!i&&this.hasRequiredError()&&t.push(new e.AnswerRequiredError(this.requiredErrorText,this))},t.isAllRequired=function(){if(!this.isRequired||!this.isAllItemRequired)return!1;if(t.choiceLoading)return!0;var e=i(n).find(".multiLevelRow > .sv_select_wrapper").length;return!this.value||this.value.length<e}},willUnmount:function(e,t){}};e.CustomWidgetCollection.Instance.addCustomWidget(n,"customtype")}"undefined"!=typeof Survey&&d(Survey,window.$);var h=d,p=i("5c96");function f(e,t){t=t||window.$;var i={name:"iplocation",title:"iplocation",iconName:"icon-location",widgetIsLoaded:function(){return!!t},isFit:function(e){return"iplocation"===e.getType()},htmlTemplate:"<input class='form-control widget-iplocation' type='text' readonly>",activatedByChanged:function(t){e.JsonObject.metaData.addClass("iplocation",[{name:"inputType",visible:!1},{name:"inputFormat",visible:!1},{name:"inputMask",visible:!1}],null,"text")},afterRender:function(e,i){"iplocation"==e.getType()&&t// Removed for static mirror{if(0==n.status){var a=n.result.ad_info.city;(t(i).is(".widget-iplocation")?t(i):t(i).find(".widget-iplocation")).val(a),e.value=a}else Object(p.Message)(n.message)}))},willUnmount:function(e,t){}};e.CustomWidgetCollection.Instance.addCustomWidget(i,"customtype")}"undefined"!=typeof Survey&&f(Survey,window.$);var v=f;function m(e,t){t=t||window.$;var i=null,n=function e(n,a){if(!("AMap"in window)){window._AMapSecurityConfig={serviceHost:"https://edata.zkey.cc/_AMapService"};var l=document.createElement("script");return l.src="https://edata.zkey.cc/amap/maps",l.onload=function(){var t=document.createElement("script");t.src="//webapi.amap.com/ui/1.1/main.js",t.onload=function(){setTimeout((function(){e(n,a)}))},document.body.appendChild(t)},void document.body.appendChild(l)}i=new AMap.Map(n,{zoom:17});var o=t(n).parent();i.plugin(["AMap.ToolBar"],(function(){var e=new AMap.ToolBar({position:{top:"110px",right:"40px"}});i.addControl(e)})),i.plugin(["AMap.ControlBar"],(function(){var e=new AMap.ControlBar({position:{top:"10px",right:"10px"}});i.addControl(e)})),AMap.plugin("AMap.Geolocation",(function(){var e=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new AMap.Pixel(10,20),showMarker:!1,showCircle:!1,panToLocation:!0,noGeoLocation:0,extensions:"base",zoomToAccuracy:!0});i.addControl(e),e.getCurrentPosition((function(e,t){"complete"==e?(i.setCenter([t.position.lng,t.position.lat]),a(t)):p.Message.error("定位失败："+t.message)}))})),AMapUI.loadUI(["misc/PoiPicker"],(function(e){var t=new e({input:o.find(".selectmap-picker-input")[0]}),n=new AMap.Marker;t.on("poiPicked",(function(e){var t=e.item;n.setPosition(t.location),i.setCenter(n.getPosition())}))})),AMapUI.loadUI(["misc/PositionPicker"],(function(e){var t=new e({mode:"dragMap",map:i});t.on("success",(function(e){var t=e.address;o.find(".selectmap-select-text").html(t),o.find(".selectmap-select-btn").click((function(){o.find(".selectmap-text").html(t)}))})),t.on("fail",(function(e){})),t.start(),i.panBy(0,1)}))},a={name:"selectmap",title:"地图选择题",iconName:"icon-selectmap",widgetIsLoaded:function(){return!!t},isFit:function(e){return"selectmap"===e.getType()},htmlTemplate:'<div class=\'widget-selectmap\' style="position: relative">\n      <div class="selectmap-text">请选择位置</div>\n      <div class=\'selectmap-container\' style="height: 500px;">\n        <div class="selectmap-select-box">\n          <div class="selectmap-select-text">暂无数据</div>\n          <input type="button" class="btn selectmap-select-btn" value="选择" />\n        </div>\n        <div class="selectmap-picker-box">\n          <input class="selectmap-picker-input" placeholder="输入关键字选取地点" />\n        </div>\n      </div>\n    </div>',activatedByChanged:function(t){e.JsonObject.metaData.addClass("selectmap",[{name:"inputType",visible:!1},{name:"inputFormat",visible:!1},{name:"inputMask",visible:!1}],null,"text")},afterRender:function(e,i){if("selectmap"==e.getType()){var a=t(i).is(".widget-selectmap")?t(i):t(i).find(".widget-selectmap");n(a.find(".selectmap-container")[0],(function(n){e.value=n.formattedAddress,t(i).find("span").text(n.formattedAddress)}))}},willUnmount:function(e,t){i&&i.destroy()}};e.CustomWidgetCollection.Instance.addCustomWidget(a,"customtype")}"undefined"!=typeof Survey&&m(Survey,window.$);var g=m;function y(e,t){t=t||window.$;var i={name:"location",title:"location",iconName:"icon-location",widgetIsLoaded:function(){return!!t},isFit:function(e){return"location"===e.getType()},htmlTemplate:"<input class='form-control widget-location' type='text' readonly>",activatedByChanged:function(t){e.JsonObject.metaData.addClass("location",[{name:"inputType",visible:!1},{name:"inputFormat",visible:!1},{name:"inputMask",visible:!1}],null,"text"),e.JsonObject.metaData.addProperty("location",{name:"locationModel",category:"general",default:"accurate",choices:["accurate","rough"]})},afterRender:function(e,i){if("location"==e.getType()){var n=new qq.maps.Geolocation("FBWBZ-TUMCK-T6VJS-AELB7-RJSZ2-ZDB2Q","ZKEY");if("accurate"==e.locationModel){n.getLocation(a,l,{timeout:6e3})}else n.getIpLocation(a,l)}function a(n){var a=t(i).is(".widget-location")?t(i):t(i).find(".widget-location"),l=n.province;n.city!=n.province&&(l+=n.city||""),a.val(l),e.value=l}function l(e){n.getIpLocation(a,l)}},willUnmount:function(e,t){}};e.CustomWidgetCollection.Instance.addCustomWidget(i,"customtype")}"undefined"!=typeof Survey&&y(Survey,window.$);var b=y;function C(e,t){t=t||window.$;var i={name:"selectqmap",title:"地图选择题(腾讯)",iconName:"icon-selectqmap",widgetIsLoaded:function(){return!!t},isFit:function(e){return"selectqmap"===e.getType()},htmlTemplate:"<div class='widget-selectqmap'>                            <span>请选择位置</span>                            <iframe id='mapPage' width='100%' height='500px' frameborder=0                                src='https://apis.map.qq.com/tools/locpicker?search=1&type=1&key=FBWBZ-TUMCK-T6VJS-AELB7-RJSZ2-ZDB2Q&referer=ZKEY'>                            </iframe>                       </div>",activatedByChanged:function(t){e.JsonObject.metaData.addClass("selectqmap",[{name:"inputType",visible:!1},{name:"inputFormat",visible:!1},{name:"inputMask",visible:!1}],null,"text")},afterRender:function(e,i){"selectqmap"==e.getType()&&window.addEventListener("message",(function(n){var a=n.data;if(a&&"locationPicker"==a.module){var l=t(i).is(".widget-selectqmap")?t(i):t(i).find(".widget-selectqmap");e.value=a.poiaddress||"",l.find("span").text(e.value)}}),!1)},willUnmount:function(e,t){}};e.CustomWidgetCollection.Instance.addCustomWidget(i,"customtype")}"undefined"!=typeof Survey&&C(Survey,window.$);var x=C;function w(e){var t={name:"selectsortable",title:"选择排序题",iconName:"icon-selectmutex",widgetIsLoaded:function(){return!0},defaultJSON:{choices:[{value:1,text:"选项 1"},{value:2,text:"选项 2"},{value:3,text:"选项 3"}]},isFit:function(e){return"selectsortable"===e.getType()},htmlTemplate:"<div class='widget-selectsortable'></div>",activatedByChanged:function(t){e.JsonObject.metaData.addClass("selectsortable",[{name:"hasOther",visible:!0},{name:"storeOthersAsComment",visible:!1},{name:"hasNone",visible:!1},{name:"renderAs",visible:!1},{name:"checkboxClass",visible:!1},{name:"hasSelectAll",visible:!1},{name:"noneText",visible:!1},{name:"selectAllText",visible:!1}],null,"checkbox"),e.JsonObject.metaData.addProperty("selectsortable",{name:"useDefaultTheme:switch",category:"general",default:!0}),e.JsonObject.metaData.addProperty("selectsortable",{name:"maxAnswersCount:number",category:"general",default:-1,visible:!1})},afterRender:function(e,t){var i=function(){var e=$(t).find(".sort-flag.selected");return e.length,e.sort((function(e,t){return parseInt($(e).text()||0)>parseInt($(t).text()||0)?1:-1})),e},n=function(){var e=[];return $.each(i(),(function(t,i){e.push($(i).attr("value"))})),e},a=function(){$.each(i(),(function(e,t){$(t).text(e+1)}))},l=function(){$(t).undelegate(".sort-item","click").delegate(".sort-item","click",(function(i){if(window.that=this,!e.readOnly){var l=$(t).find(".sort-flag.selected").length,o=$(this).find(".sort-flag");if(o.hasClass("selected"))o.removeClass("selected"),o.text(""),$(this).find(".itemvalue-input,.itemvalue-input-suffix").hide(),a();else{if(e.maxSelectedChoices>0&&e.maxSelectedChoices<=l||e.maxAnswersCount>0&&e.maxAnswersCount<=l)return;o.addClass("selected"),o.text(++l),$(this).find(".itemvalue-input,.itemvalue-input-suffix").show()}e.value=n()}})),$(t).on("click","input.itemvalue-input",(function(e){e.stopPropagation()})),$(t).on("change","input.itemvalue-input",(function(t){if($(this).hasClass("item-other"))e.comment=this.value;else{var i=e.valueName+"_"+$(this).parent().find(".sort-flag").attr("value")+"_text";e.survey.setValue(i,this.value)}}));var i="";e.visibleChoices.forEach((function(t){var n="";e.colCount>0&&t.itemColCount>0&&t.itemColCount<e.colCount&&(n+=' style="width: '.concat(100*t.itemColCount/e.colCount,'%;"')),i+='<div class="sort-item"'+n+'><span class="sort-flag" value="'+t.value+'"'+(e.readOnly?' style="cursor: not-allowed;"':"")+"></span><span>"+t.text+"</span>","99998"==t.value||"other"==t.value?e.hasOther&&(i+='<input class="itemvalue-input item-other" style="display: none; border-width: '+(e.survey.zk_qc_textBox?"0 0 1px":"1px")+'"'+(e.commentOrOtherPlaceHolder?' placeholder="'+e.commentOrOtherPlaceHolder+'"':"")+' type="text">'):t.hasInput&&(i+='<input class="itemvalue-input" style="display: none;border-width: '+(e.survey.zk_qc_textBox?"0 0 1px":"1px")+'"'+(t.placeholder?' placeholder="'+t.placeholder+'"':"")+' type="text">'+(t.inputSuffix?'<span class="itemvalue-input-suffix" style="display: none;">'+t.inputSuffix+"</span>":"")),i+="</div>"})),$(t).html(i),function(){if(!Array.isArray(e.value))return!1;for(var i=e.getValueName(),n=e.value.map((function(e){return e.toString()})),a=$(t).find(".sort-flag"),l=0,o=a.length;l<o;l++){var s=$(a[l]).attr("value");n.includes(s)?($(a[l]).addClass("selected"),$(a[l]).text(n.indexOf(s)+1),$(a[l]).parent().find(".itemvalue-input,.itemvalue-input.suffix").show(),$(a[l]).parent().find(".itemvalue-input").val(e.data.getValue("".concat(i,"_").concat(s,"_text")))):$(a[l]).parent().find(".itemvalue-input,.itemvalue-input.suffix").hide()}}()};l(),e.valueChangedCallback=l,e.registerFunctionOnPropertyValueChanged("visibleChoices",(function(){l()}))},willUnmount:function(e,t){},pdfQuestionType:"checkbox"};e.CustomWidgetCollection.Instance.addCustomWidget(t,"customtype")}"undefined"!=typeof Survey&&w(Survey);var k=w},c5e1:function(e,t){e.exports=$}});